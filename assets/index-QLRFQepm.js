var Py=Object.defineProperty;var jd=t=>{throw TypeError(t)};var Ry=(t,e,n)=>e in t?Py(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var H=(t,e,n)=>Ry(t,typeof e!="symbol"?e+"":e,n),Dy=(t,e,n)=>e.has(t)||jd("Cannot "+n);var $d=(t,e,n)=>e.has(t)?jd("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n);var uo=(t,e,n)=>(Dy(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function Ly(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rg={exports:{}},bl={},lg={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cs=Symbol.for("react.element"),zy=Symbol.for("react.portal"),Fy=Symbol.for("react.fragment"),Uy=Symbol.for("react.strict_mode"),By=Symbol.for("react.profiler"),Vy=Symbol.for("react.provider"),Oy=Symbol.for("react.context"),Hy=Symbol.for("react.forward_ref"),jy=Symbol.for("react.suspense"),$y=Symbol.for("react.memo"),Gy=Symbol.for("react.lazy"),Gd=Symbol.iterator;function qy(t){return t===null||typeof t!="object"?null:(t=Gd&&t[Gd]||t["@@iterator"],typeof t=="function"?t:null)}var ag={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cg=Object.assign,ug={};function oo(t,e,n){this.props=t,this.context=e,this.refs=ug,this.updater=n||ag}oo.prototype.isReactComponent={};oo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};oo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dg(){}dg.prototype=oo.prototype;function du(t,e,n){this.props=t,this.context=e,this.refs=ug,this.updater=n||ag}var fu=du.prototype=new dg;fu.constructor=du;cg(fu,oo.prototype);fu.isPureReactComponent=!0;var qd=Array.isArray,fg=Object.prototype.hasOwnProperty,pu={current:null},pg={key:!0,ref:!0,__self:!0,__source:!0};function hg(t,e,n){var i,o={},s=null,r=null;if(e!=null)for(i in e.ref!==void 0&&(r=e.ref),e.key!==void 0&&(s=""+e.key),e)fg.call(e,i)&&!pg.hasOwnProperty(i)&&(o[i]=e[i]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];o.children=a}if(t&&t.defaultProps)for(i in l=t.defaultProps,l)o[i]===void 0&&(o[i]=l[i]);return{$$typeof:Cs,type:t,key:s,ref:r,props:o,_owner:pu.current}}function Wy(t,e){return{$$typeof:Cs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hu(t){return typeof t=="object"&&t!==null&&t.$$typeof===Cs}function Jy(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Wd=/\/+/g;function ia(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Jy(""+t.key):e.toString(36)}function gr(t,e,n,i,o){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var r=!1;if(t===null)r=!0;else switch(s){case"string":case"number":r=!0;break;case"object":switch(t.$$typeof){case Cs:case zy:r=!0}}if(r)return r=t,o=o(r),t=i===""?"."+ia(r,0):i,qd(o)?(n="",t!=null&&(n=t.replace(Wd,"$&/")+"/"),gr(o,e,n,"",function(c){return c})):o!=null&&(hu(o)&&(o=Wy(o,n+(!o.key||r&&r.key===o.key?"":(""+o.key).replace(Wd,"$&/")+"/")+t)),e.push(o)),1;if(r=0,i=i===""?".":i+":",qd(t))for(var l=0;l<t.length;l++){s=t[l];var a=i+ia(s,l);r+=gr(s,e,n,a,o)}else if(a=qy(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=i+ia(s,l++),r+=gr(s,e,n,a,o);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return r}function Ds(t,e,n){if(t==null)return t;var i=[],o=0;return gr(t,i,"","",function(s){return e.call(n,s,o++)}),i}function Yy(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var je={current:null},xr={transition:null},Ky={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:xr,ReactCurrentOwner:pu};function mg(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:Ds,forEach:function(t,e,n){Ds(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ds(t,function(){e++}),e},toArray:function(t){return Ds(t,function(e){return e})||[]},only:function(t){if(!hu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};J.Component=oo;J.Fragment=Fy;J.Profiler=By;J.PureComponent=du;J.StrictMode=Uy;J.Suspense=jy;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ky;J.act=mg;J.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=cg({},t.props),o=t.key,s=t.ref,r=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,r=pu.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)fg.call(e,a)&&!pg.hasOwnProperty(a)&&(i[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:Cs,type:t.type,key:o,ref:s,props:i,_owner:r}};J.createContext=function(t){return t={$$typeof:Oy,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Vy,_context:t},t.Consumer=t};J.createElement=hg;J.createFactory=function(t){var e=hg.bind(null,t);return e.type=t,e};J.createRef=function(){return{current:null}};J.forwardRef=function(t){return{$$typeof:Hy,render:t}};J.isValidElement=hu;J.lazy=function(t){return{$$typeof:Gy,_payload:{_status:-1,_result:t},_init:Yy}};J.memo=function(t,e){return{$$typeof:$y,type:t,compare:e===void 0?null:e}};J.startTransition=function(t){var e=xr.transition;xr.transition={};try{t()}finally{xr.transition=e}};J.unstable_act=mg;J.useCallback=function(t,e){return je.current.useCallback(t,e)};J.useContext=function(t){return je.current.useContext(t)};J.useDebugValue=function(){};J.useDeferredValue=function(t){return je.current.useDeferredValue(t)};J.useEffect=function(t,e){return je.current.useEffect(t,e)};J.useId=function(){return je.current.useId()};J.useImperativeHandle=function(t,e,n){return je.current.useImperativeHandle(t,e,n)};J.useInsertionEffect=function(t,e){return je.current.useInsertionEffect(t,e)};J.useLayoutEffect=function(t,e){return je.current.useLayoutEffect(t,e)};J.useMemo=function(t,e){return je.current.useMemo(t,e)};J.useReducer=function(t,e,n){return je.current.useReducer(t,e,n)};J.useRef=function(t){return je.current.useRef(t)};J.useState=function(t){return je.current.useState(t)};J.useSyncExternalStore=function(t,e,n){return je.current.useSyncExternalStore(t,e,n)};J.useTransition=function(){return je.current.useTransition()};J.version="18.3.1";lg.exports=J;var Xe=lg.exports;const L=Ly(Xe);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy=Xe,Xy=Symbol.for("react.element"),Zy=Symbol.for("react.fragment"),e_=Object.prototype.hasOwnProperty,t_=Qy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n_={key:!0,ref:!0,__self:!0,__source:!0};function gg(t,e,n){var i,o={},s=null,r=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(r=e.ref);for(i in e)e_.call(e,i)&&!n_.hasOwnProperty(i)&&(o[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)o[i]===void 0&&(o[i]=e[i]);return{$$typeof:Xy,type:t,key:s,ref:r,props:o,_owner:t_.current}}bl.Fragment=Zy;bl.jsx=gg;bl.jsxs=gg;rg.exports=bl;var f=rg.exports,Ha={},xg={exports:{}},lt={},vg={exports:{}},yg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,B){var M=z.length;z.push(B);e:for(;0<M;){var G=M-1>>>1,W=z[G];if(0<o(W,B))z[G]=B,z[M]=W,M=G;else break e}}function n(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var B=z[0],M=z.pop();if(M!==B){z[0]=M;e:for(var G=0,W=z.length,ve=W>>>1;G<ve;){var pe=2*(G+1)-1,Vt=z[pe],Ue=pe+1,Rs=z[Ue];if(0>o(Vt,M))Ue<W&&0>o(Rs,Vt)?(z[G]=Rs,z[Ue]=M,G=Ue):(z[G]=Vt,z[pe]=M,G=pe);else if(Ue<W&&0>o(Rs,M))z[G]=Rs,z[Ue]=M,G=Ue;else break e}}return B}function o(z,B){var M=z.sortIndex-B.sortIndex;return M!==0?M:z.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var r=Date,l=r.now();t.unstable_now=function(){return r.now()-l}}var a=[],c=[],u=1,h=null,m=3,g=!1,x=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(z){for(var B=n(c);B!==null;){if(B.callback===null)i(c);else if(B.startTime<=z)i(c),B.sortIndex=B.expirationTime,e(a,B);else break;B=n(c)}}function b(z){if(y=!1,S(z),!x)if(n(a)!==null)x=!0,V(C);else{var B=n(c);B!==null&&$(b,B.startTime-z)}}function C(z,B){x=!1,y&&(y=!1,_(E),E=-1),g=!0;var M=m;try{for(S(B),h=n(a);h!==null&&(!(h.expirationTime>B)||z&&!I());){var G=h.callback;if(typeof G=="function"){h.callback=null,m=h.priorityLevel;var W=G(h.expirationTime<=B);B=t.unstable_now(),typeof W=="function"?h.callback=W:h===n(a)&&i(a),S(B)}else i(a);h=n(a)}if(h!==null)var ve=!0;else{var pe=n(c);pe!==null&&$(b,pe.startTime-B),ve=!1}return ve}finally{h=null,m=M,g=!1}}var T=!1,k=null,E=-1,A=5,N=-1;function I(){return!(t.unstable_now()-N<A)}function P(){if(k!==null){var z=t.unstable_now();N=z;var B=!0;try{B=k(!0,z)}finally{B?D():(T=!1,k=null)}}else T=!1}var D;if(typeof w=="function")D=function(){w(P)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,F=R.port2;R.port1.onmessage=P,D=function(){F.postMessage(null)}}else D=function(){v(P,0)};function V(z){k=z,T||(T=!0,D())}function $(z,B){E=v(function(){z(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){x||g||(x=!0,V(C))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(z){switch(m){case 1:case 2:case 3:var B=3;break;default:B=m}var M=m;m=B;try{return z()}finally{m=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,B){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var M=m;m=z;try{return B()}finally{m=M}},t.unstable_scheduleCallback=function(z,B,M){var G=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?G+M:G):M=G,z){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=M+W,z={id:u++,callback:B,priorityLevel:z,startTime:M,expirationTime:W,sortIndex:-1},M>G?(z.sortIndex=M,e(c,z),n(a)===null&&z===n(c)&&(y?(_(E),E=-1):y=!0,$(b,M-G))):(z.sortIndex=W,e(a,z),x||g||(x=!0,V(C))),z},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(z){var B=m;return function(){var M=m;m=B;try{return z.apply(this,arguments)}finally{m=M}}}})(yg);vg.exports=yg;var i_=vg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_=Xe,rt=i_;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _g=new Set,ns={};function fi(t,e){Wi(t,e),Wi(t+"Capture",e)}function Wi(t,e){for(ns[t]=e,t=0;t<e.length;t++)_g.add(e[t])}var Zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,s_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jd={},Yd={};function r_(t){return ja.call(Yd,t)?!0:ja.call(Jd,t)?!1:s_.test(t)?Yd[t]=!0:(Jd[t]=!0,!1)}function l_(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function a_(t,e,n,i){if(e===null||typeof e>"u"||l_(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $e(t,e,n,i,o,s,r){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=r}var Ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ae[t]=new $e(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ae[e]=new $e(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ae[t]=new $e(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ae[t]=new $e(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ae[t]=new $e(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ae[t]=new $e(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ae[t]=new $e(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ae[t]=new $e(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ae[t]=new $e(t,5,!1,t.toLowerCase(),null,!1,!1)});var mu=/[\-:]([a-z])/g;function gu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(mu,gu);Ae[e]=new $e(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(mu,gu);Ae[e]=new $e(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(mu,gu);Ae[e]=new $e(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ae[t]=new $e(t,1,!1,t.toLowerCase(),null,!1,!1)});Ae.xlinkHref=new $e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ae[t]=new $e(t,1,!1,t.toLowerCase(),null,!0,!0)});function xu(t,e,n,i){var o=Ae.hasOwnProperty(e)?Ae[e]:null;(o!==null?o.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(a_(e,n,o,i)&&(n=null),i||o===null?r_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,i=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var an=o_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ls=Symbol.for("react.element"),_i=Symbol.for("react.portal"),wi=Symbol.for("react.fragment"),vu=Symbol.for("react.strict_mode"),$a=Symbol.for("react.profiler"),wg=Symbol.for("react.provider"),Sg=Symbol.for("react.context"),yu=Symbol.for("react.forward_ref"),Ga=Symbol.for("react.suspense"),qa=Symbol.for("react.suspense_list"),_u=Symbol.for("react.memo"),pn=Symbol.for("react.lazy"),bg=Symbol.for("react.offscreen"),Kd=Symbol.iterator;function fo(t){return t===null||typeof t!="object"?null:(t=Kd&&t[Kd]||t["@@iterator"],typeof t=="function"?t:null)}var fe=Object.assign,oa;function Ao(t){if(oa===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);oa=e&&e[1]||""}return`
`+oa+t}var sa=!1;function ra(t,e){if(!t||sa)return"";sa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),s=i.stack.split(`
`),r=o.length-1,l=s.length-1;1<=r&&0<=l&&o[r]!==s[l];)l--;for(;1<=r&&0<=l;r--,l--)if(o[r]!==s[l]){if(r!==1||l!==1)do if(r--,l--,0>l||o[r]!==s[l]){var a=`
`+o[r].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=r&&0<=l);break}}}finally{sa=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ao(t):""}function c_(t){switch(t.tag){case 5:return Ao(t.type);case 16:return Ao("Lazy");case 13:return Ao("Suspense");case 19:return Ao("SuspenseList");case 0:case 2:case 15:return t=ra(t.type,!1),t;case 11:return t=ra(t.type.render,!1),t;case 1:return t=ra(t.type,!0),t;default:return""}}function Wa(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wi:return"Fragment";case _i:return"Portal";case $a:return"Profiler";case vu:return"StrictMode";case Ga:return"Suspense";case qa:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Sg:return(t.displayName||"Context")+".Consumer";case wg:return(t._context.displayName||"Context")+".Provider";case yu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _u:return e=t.displayName||null,e!==null?e:Wa(t.type)||"Memo";case pn:e=t._payload,t=t._init;try{return Wa(t(e))}catch{}}return null}function u_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wa(e);case 8:return e===vu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function d_(t){var e=Cg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(r){i=""+r,s.call(this,r)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(r){i=""+r},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zs(t){t._valueTracker||(t._valueTracker=d_(t))}function Tg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=Cg(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Dr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ja(t,e){var n=e.checked;return fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Qd(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Rn(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function kg(t,e){e=e.checked,e!=null&&xu(t,"checked",e,!1)}function Ya(t,e){kg(t,e);var n=Rn(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ka(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ka(t,e.type,Rn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Xd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ka(t,e,n){(e!=="number"||Dr(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Mo=Array.isArray;function Li(t,e,n,i){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Rn(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,i&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function Qa(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return fe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Zd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(Mo(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Rn(n)}}function Ig(t,e){var n=Rn(e.value),i=Rn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function ef(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Eg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xa(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Eg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fs,Ng=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fs=Fs||document.createElement("div"),Fs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function is(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Bo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},f_=["Webkit","ms","Moz","O"];Object.keys(Bo).forEach(function(t){f_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Bo[e]=Bo[t]})});function Ag(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Bo.hasOwnProperty(t)&&Bo[t]?(""+e).trim():e+"px"}function Mg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,o=Ag(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,o):t[n]=o}}var p_=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Za(t,e){if(e){if(p_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function ec(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tc=null;function wu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var nc=null,zi=null,Fi=null;function tf(t){if(t=Is(t)){if(typeof nc!="function")throw Error(U(280));var e=t.stateNode;e&&(e=El(e),nc(t.stateNode,t.type,e))}}function Pg(t){zi?Fi?Fi.push(t):Fi=[t]:zi=t}function Rg(){if(zi){var t=zi,e=Fi;if(Fi=zi=null,tf(t),e)for(t=0;t<e.length;t++)tf(e[t])}}function Dg(t,e){return t(e)}function Lg(){}var la=!1;function zg(t,e,n){if(la)return t(e,n);la=!0;try{return Dg(t,e,n)}finally{la=!1,(zi!==null||Fi!==null)&&(Lg(),Rg())}}function os(t,e){var n=t.stateNode;if(n===null)return null;var i=El(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var ic=!1;if(Zt)try{var po={};Object.defineProperty(po,"passive",{get:function(){ic=!0}}),window.addEventListener("test",po,po),window.removeEventListener("test",po,po)}catch{ic=!1}function h_(t,e,n,i,o,s,r,l,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Vo=!1,Lr=null,zr=!1,oc=null,m_={onError:function(t){Vo=!0,Lr=t}};function g_(t,e,n,i,o,s,r,l,a){Vo=!1,Lr=null,h_.apply(m_,arguments)}function x_(t,e,n,i,o,s,r,l,a){if(g_.apply(this,arguments),Vo){if(Vo){var c=Lr;Vo=!1,Lr=null}else throw Error(U(198));zr||(zr=!0,oc=c)}}function pi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Fg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nf(t){if(pi(t)!==t)throw Error(U(188))}function v_(t){var e=t.alternate;if(!e){if(e=pi(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,i=e;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return nf(o),t;if(s===i)return nf(o),e;s=s.sibling}throw Error(U(188))}if(n.return!==i.return)n=o,i=s;else{for(var r=!1,l=o.child;l;){if(l===n){r=!0,n=o,i=s;break}if(l===i){r=!0,i=o,n=s;break}l=l.sibling}if(!r){for(l=s.child;l;){if(l===n){r=!0,n=s,i=o;break}if(l===i){r=!0,i=s,n=o;break}l=l.sibling}if(!r)throw Error(U(189))}}if(n.alternate!==i)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function Ug(t){return t=v_(t),t!==null?Bg(t):null}function Bg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Bg(t);if(e!==null)return e;t=t.sibling}return null}var Vg=rt.unstable_scheduleCallback,of=rt.unstable_cancelCallback,y_=rt.unstable_shouldYield,__=rt.unstable_requestPaint,xe=rt.unstable_now,w_=rt.unstable_getCurrentPriorityLevel,Su=rt.unstable_ImmediatePriority,Og=rt.unstable_UserBlockingPriority,Fr=rt.unstable_NormalPriority,S_=rt.unstable_LowPriority,Hg=rt.unstable_IdlePriority,Cl=null,Ut=null;function b_(t){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Cl,t,void 0,(t.current.flags&128)===128)}catch{}}var Ct=Math.clz32?Math.clz32:k_,C_=Math.log,T_=Math.LN2;function k_(t){return t>>>=0,t===0?32:31-(C_(t)/T_|0)|0}var Us=64,Bs=4194304;function Po(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ur(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,o=t.suspendedLanes,s=t.pingedLanes,r=n&268435455;if(r!==0){var l=r&~o;l!==0?i=Po(l):(s&=r,s!==0&&(i=Po(s)))}else r=n&~o,r!==0?i=Po(r):s!==0&&(i=Po(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&o)&&(o=i&-i,s=e&-e,o>=s||o===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Ct(e),o=1<<n,i|=t[n],e&=~o;return i}function I_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E_(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes;0<s;){var r=31-Ct(s),l=1<<r,a=o[r];a===-1?(!(l&n)||l&i)&&(o[r]=I_(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function sc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function jg(){var t=Us;return Us<<=1,!(Us&4194240)&&(Us=64),t}function aa(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ts(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ct(e),t[e]=n}function N_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-Ct(n),s=1<<o;e[o]=0,i[o]=-1,t[o]=-1,n&=~s}}function bu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Ct(n),o=1<<i;o&e|t[i]&e&&(t[i]|=e),n&=~o}}var ne=0;function $g(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Gg,Cu,qg,Wg,Jg,rc=!1,Vs=[],bn=null,Cn=null,Tn=null,ss=new Map,rs=new Map,mn=[],A_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sf(t,e){switch(t){case"focusin":case"focusout":bn=null;break;case"dragenter":case"dragleave":Cn=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":ss.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rs.delete(e.pointerId)}}function ho(t,e,n,i,o,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[o]},e!==null&&(e=Is(e),e!==null&&Cu(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function M_(t,e,n,i,o){switch(e){case"focusin":return bn=ho(bn,t,e,n,i,o),!0;case"dragenter":return Cn=ho(Cn,t,e,n,i,o),!0;case"mouseover":return Tn=ho(Tn,t,e,n,i,o),!0;case"pointerover":var s=o.pointerId;return ss.set(s,ho(ss.get(s)||null,t,e,n,i,o)),!0;case"gotpointercapture":return s=o.pointerId,rs.set(s,ho(rs.get(s)||null,t,e,n,i,o)),!0}return!1}function Yg(t){var e=Kn(t.target);if(e!==null){var n=pi(e);if(n!==null){if(e=n.tag,e===13){if(e=Fg(n),e!==null){t.blockedOn=e,Jg(t.priority,function(){qg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vr(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=lc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);tc=i,n.target.dispatchEvent(i),tc=null}else return e=Is(n),e!==null&&Cu(e),t.blockedOn=n,!1;e.shift()}return!0}function rf(t,e,n){vr(t)&&n.delete(e)}function P_(){rc=!1,bn!==null&&vr(bn)&&(bn=null),Cn!==null&&vr(Cn)&&(Cn=null),Tn!==null&&vr(Tn)&&(Tn=null),ss.forEach(rf),rs.forEach(rf)}function mo(t,e){t.blockedOn===e&&(t.blockedOn=null,rc||(rc=!0,rt.unstable_scheduleCallback(rt.unstable_NormalPriority,P_)))}function ls(t){function e(o){return mo(o,t)}if(0<Vs.length){mo(Vs[0],t);for(var n=1;n<Vs.length;n++){var i=Vs[n];i.blockedOn===t&&(i.blockedOn=null)}}for(bn!==null&&mo(bn,t),Cn!==null&&mo(Cn,t),Tn!==null&&mo(Tn,t),ss.forEach(e),rs.forEach(e),n=0;n<mn.length;n++)i=mn[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<mn.length&&(n=mn[0],n.blockedOn===null);)Yg(n),n.blockedOn===null&&mn.shift()}var Ui=an.ReactCurrentBatchConfig,Br=!0;function R_(t,e,n,i){var o=ne,s=Ui.transition;Ui.transition=null;try{ne=1,Tu(t,e,n,i)}finally{ne=o,Ui.transition=s}}function D_(t,e,n,i){var o=ne,s=Ui.transition;Ui.transition=null;try{ne=4,Tu(t,e,n,i)}finally{ne=o,Ui.transition=s}}function Tu(t,e,n,i){if(Br){var o=lc(t,e,n,i);if(o===null)va(t,e,i,Vr,n),sf(t,i);else if(M_(o,t,e,n,i))i.stopPropagation();else if(sf(t,i),e&4&&-1<A_.indexOf(t)){for(;o!==null;){var s=Is(o);if(s!==null&&Gg(s),s=lc(t,e,n,i),s===null&&va(t,e,i,Vr,n),s===o)break;o=s}o!==null&&i.stopPropagation()}else va(t,e,i,null,n)}}var Vr=null;function lc(t,e,n,i){if(Vr=null,t=wu(i),t=Kn(t),t!==null)if(e=pi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Fg(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Vr=t,null}function Kg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(w_()){case Su:return 1;case Og:return 4;case Fr:case S_:return 16;case Hg:return 536870912;default:return 16}default:return 16}}var xn=null,ku=null,yr=null;function Qg(){if(yr)return yr;var t,e=ku,n=e.length,i,o="value"in xn?xn.value:xn.textContent,s=o.length;for(t=0;t<n&&e[t]===o[t];t++);var r=n-t;for(i=1;i<=r&&e[n-i]===o[s-i];i++);return yr=o.slice(t,1<i?1-i:void 0)}function _r(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Os(){return!0}function lf(){return!1}function at(t){function e(n,i,o,s,r){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=s,this.target=r,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Os:lf,this.isPropagationStopped=lf,this}return fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Os)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Os)},persist:function(){},isPersistent:Os}),e}var so={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Iu=at(so),ks=fe({},so,{view:0,detail:0}),L_=at(ks),ca,ua,go,Tl=fe({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==go&&(go&&t.type==="mousemove"?(ca=t.screenX-go.screenX,ua=t.screenY-go.screenY):ua=ca=0,go=t),ca)},movementY:function(t){return"movementY"in t?t.movementY:ua}}),af=at(Tl),z_=fe({},Tl,{dataTransfer:0}),F_=at(z_),U_=fe({},ks,{relatedTarget:0}),da=at(U_),B_=fe({},so,{animationName:0,elapsedTime:0,pseudoElement:0}),V_=at(B_),O_=fe({},so,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),H_=at(O_),j_=fe({},so,{data:0}),cf=at(j_),$_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=q_[t])?!!e[t]:!1}function Eu(){return W_}var J_=fe({},ks,{key:function(t){if(t.key){var e=$_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_r(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?G_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eu,charCode:function(t){return t.type==="keypress"?_r(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_r(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Y_=at(J_),K_=fe({},Tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uf=at(K_),Q_=fe({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eu}),X_=at(Q_),Z_=fe({},so,{propertyName:0,elapsedTime:0,pseudoElement:0}),ew=at(Z_),tw=fe({},Tl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nw=at(tw),iw=[9,13,27,32],Nu=Zt&&"CompositionEvent"in window,Oo=null;Zt&&"documentMode"in document&&(Oo=document.documentMode);var ow=Zt&&"TextEvent"in window&&!Oo,Xg=Zt&&(!Nu||Oo&&8<Oo&&11>=Oo),df=" ",ff=!1;function Zg(t,e){switch(t){case"keyup":return iw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function e0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Si=!1;function sw(t,e){switch(t){case"compositionend":return e0(e);case"keypress":return e.which!==32?null:(ff=!0,df);case"textInput":return t=e.data,t===df&&ff?null:t;default:return null}}function rw(t,e){if(Si)return t==="compositionend"||!Nu&&Zg(t,e)?(t=Qg(),yr=ku=xn=null,Si=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Xg&&e.locale!=="ko"?null:e.data;default:return null}}var lw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!lw[t.type]:e==="textarea"}function t0(t,e,n,i){Pg(i),e=Or(e,"onChange"),0<e.length&&(n=new Iu("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Ho=null,as=null;function aw(t){f0(t,0)}function kl(t){var e=Ti(t);if(Tg(e))return t}function cw(t,e){if(t==="change")return e}var n0=!1;if(Zt){var fa;if(Zt){var pa="oninput"in document;if(!pa){var hf=document.createElement("div");hf.setAttribute("oninput","return;"),pa=typeof hf.oninput=="function"}fa=pa}else fa=!1;n0=fa&&(!document.documentMode||9<document.documentMode)}function mf(){Ho&&(Ho.detachEvent("onpropertychange",i0),as=Ho=null)}function i0(t){if(t.propertyName==="value"&&kl(as)){var e=[];t0(e,as,t,wu(t)),zg(aw,e)}}function uw(t,e,n){t==="focusin"?(mf(),Ho=e,as=n,Ho.attachEvent("onpropertychange",i0)):t==="focusout"&&mf()}function dw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return kl(as)}function fw(t,e){if(t==="click")return kl(e)}function pw(t,e){if(t==="input"||t==="change")return kl(e)}function hw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Et=typeof Object.is=="function"?Object.is:hw;function cs(t,e){if(Et(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!ja.call(e,o)||!Et(t[o],e[o]))return!1}return!0}function gf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xf(t,e){var n=gf(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gf(n)}}function o0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?o0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function s0(){for(var t=window,e=Dr();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Dr(t.document)}return e}function Au(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mw(t){var e=s0(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&o0(n.ownerDocument.documentElement,n)){if(i!==null&&Au(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,s=Math.min(i.start,o);i=i.end===void 0?s:Math.min(i.end,o),!t.extend&&s>i&&(o=i,i=s,s=o),o=xf(n,s);var r=xf(n,i);o&&r&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==r.node||t.focusOffset!==r.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(r.node,r.offset)):(e.setEnd(r.node,r.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gw=Zt&&"documentMode"in document&&11>=document.documentMode,bi=null,ac=null,jo=null,cc=!1;function vf(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cc||bi==null||bi!==Dr(i)||(i=bi,"selectionStart"in i&&Au(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),jo&&cs(jo,i)||(jo=i,i=Or(ac,"onSelect"),0<i.length&&(e=new Iu("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=bi)))}function Hs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ci={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionend:Hs("Transition","TransitionEnd")},ha={},r0={};Zt&&(r0=document.createElement("div").style,"AnimationEvent"in window||(delete Ci.animationend.animation,delete Ci.animationiteration.animation,delete Ci.animationstart.animation),"TransitionEvent"in window||delete Ci.transitionend.transition);function Il(t){if(ha[t])return ha[t];if(!Ci[t])return t;var e=Ci[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in r0)return ha[t]=e[n];return t}var l0=Il("animationend"),a0=Il("animationiteration"),c0=Il("animationstart"),u0=Il("transitionend"),d0=new Map,yf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zn(t,e){d0.set(t,e),fi(e,[t])}for(var ma=0;ma<yf.length;ma++){var ga=yf[ma],xw=ga.toLowerCase(),vw=ga[0].toUpperCase()+ga.slice(1);zn(xw,"on"+vw)}zn(l0,"onAnimationEnd");zn(a0,"onAnimationIteration");zn(c0,"onAnimationStart");zn("dblclick","onDoubleClick");zn("focusin","onFocus");zn("focusout","onBlur");zn(u0,"onTransitionEnd");Wi("onMouseEnter",["mouseout","mouseover"]);Wi("onMouseLeave",["mouseout","mouseover"]);Wi("onPointerEnter",["pointerout","pointerover"]);Wi("onPointerLeave",["pointerout","pointerover"]);fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fi("onBeforeInput",["compositionend","keypress","textInput","paste"]);fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ro));function _f(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,x_(i,e,void 0,t),t.currentTarget=null}function f0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],o=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var r=i.length-1;0<=r;r--){var l=i[r],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==s&&o.isPropagationStopped())break e;_f(o,l,c),s=a}else for(r=0;r<i.length;r++){if(l=i[r],a=l.instance,c=l.currentTarget,l=l.listener,a!==s&&o.isPropagationStopped())break e;_f(o,l,c),s=a}}}if(zr)throw t=oc,zr=!1,oc=null,t}function re(t,e){var n=e[hc];n===void 0&&(n=e[hc]=new Set);var i=t+"__bubble";n.has(i)||(p0(e,t,2,!1),n.add(i))}function xa(t,e,n){var i=0;e&&(i|=4),p0(n,t,i,e)}var js="_reactListening"+Math.random().toString(36).slice(2);function us(t){if(!t[js]){t[js]=!0,_g.forEach(function(n){n!=="selectionchange"&&(yw.has(n)||xa(n,!1,t),xa(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[js]||(e[js]=!0,xa("selectionchange",!1,e))}}function p0(t,e,n,i){switch(Kg(e)){case 1:var o=R_;break;case 4:o=D_;break;default:o=Tu}n=o.bind(null,e,n,t),o=void 0,!ic||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),i?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function va(t,e,n,i,o){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var r=i.tag;if(r===3||r===4){var l=i.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(r===4)for(r=i.return;r!==null;){var a=r.tag;if((a===3||a===4)&&(a=r.stateNode.containerInfo,a===o||a.nodeType===8&&a.parentNode===o))return;r=r.return}for(;l!==null;){if(r=Kn(l),r===null)return;if(a=r.tag,a===5||a===6){i=s=r;continue e}l=l.parentNode}}i=i.return}zg(function(){var c=s,u=wu(n),h=[];e:{var m=d0.get(t);if(m!==void 0){var g=Iu,x=t;switch(t){case"keypress":if(_r(n)===0)break e;case"keydown":case"keyup":g=Y_;break;case"focusin":x="focus",g=da;break;case"focusout":x="blur",g=da;break;case"beforeblur":case"afterblur":g=da;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=af;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=F_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=X_;break;case l0:case a0:case c0:g=V_;break;case u0:g=ew;break;case"scroll":g=L_;break;case"wheel":g=nw;break;case"copy":case"cut":case"paste":g=H_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=uf}var y=(e&4)!==0,v=!y&&t==="scroll",_=y?m!==null?m+"Capture":null:m;y=[];for(var w=c,S;w!==null;){S=w;var b=S.stateNode;if(S.tag===5&&b!==null&&(S=b,_!==null&&(b=os(w,_),b!=null&&y.push(ds(w,b,S)))),v)break;w=w.return}0<y.length&&(m=new g(m,x,null,n,u),h.push({event:m,listeners:y}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==tc&&(x=n.relatedTarget||n.fromElement)&&(Kn(x)||x[en]))break e;if((g||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=c,x=x?Kn(x):null,x!==null&&(v=pi(x),x!==v||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=c),g!==x)){if(y=af,b="onMouseLeave",_="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=uf,b="onPointerLeave",_="onPointerEnter",w="pointer"),v=g==null?m:Ti(g),S=x==null?m:Ti(x),m=new y(b,w+"leave",g,n,u),m.target=v,m.relatedTarget=S,b=null,Kn(u)===c&&(y=new y(_,w+"enter",x,n,u),y.target=S,y.relatedTarget=v,b=y),v=b,g&&x)t:{for(y=g,_=x,w=0,S=y;S;S=xi(S))w++;for(S=0,b=_;b;b=xi(b))S++;for(;0<w-S;)y=xi(y),w--;for(;0<S-w;)_=xi(_),S--;for(;w--;){if(y===_||_!==null&&y===_.alternate)break t;y=xi(y),_=xi(_)}y=null}else y=null;g!==null&&wf(h,m,g,y,!1),x!==null&&v!==null&&wf(h,v,x,y,!0)}}e:{if(m=c?Ti(c):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var C=cw;else if(pf(m))if(n0)C=pw;else{C=dw;var T=uw}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=fw);if(C&&(C=C(t,c))){t0(h,C,n,u);break e}T&&T(t,m,c),t==="focusout"&&(T=m._wrapperState)&&T.controlled&&m.type==="number"&&Ka(m,"number",m.value)}switch(T=c?Ti(c):window,t){case"focusin":(pf(T)||T.contentEditable==="true")&&(bi=T,ac=c,jo=null);break;case"focusout":jo=ac=bi=null;break;case"mousedown":cc=!0;break;case"contextmenu":case"mouseup":case"dragend":cc=!1,vf(h,n,u);break;case"selectionchange":if(gw)break;case"keydown":case"keyup":vf(h,n,u)}var k;if(Nu)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Si?Zg(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Xg&&n.locale!=="ko"&&(Si||E!=="onCompositionStart"?E==="onCompositionEnd"&&Si&&(k=Qg()):(xn=u,ku="value"in xn?xn.value:xn.textContent,Si=!0)),T=Or(c,E),0<T.length&&(E=new cf(E,t,null,n,u),h.push({event:E,listeners:T}),k?E.data=k:(k=e0(n),k!==null&&(E.data=k)))),(k=ow?sw(t,n):rw(t,n))&&(c=Or(c,"onBeforeInput"),0<c.length&&(u=new cf("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=k))}f0(h,e)})}function ds(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Or(t,e){for(var n=e+"Capture",i=[];t!==null;){var o=t,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=os(t,n),s!=null&&i.unshift(ds(t,s,o)),s=os(t,e),s!=null&&i.push(ds(t,s,o))),t=t.return}return i}function xi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wf(t,e,n,i,o){for(var s=e._reactName,r=[];n!==null&&n!==i;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===i)break;l.tag===5&&c!==null&&(l=c,o?(a=os(n,s),a!=null&&r.unshift(ds(n,a,l))):o||(a=os(n,s),a!=null&&r.push(ds(n,a,l)))),n=n.return}r.length!==0&&t.push({event:e,listeners:r})}var _w=/\r\n?/g,ww=/\u0000|\uFFFD/g;function Sf(t){return(typeof t=="string"?t:""+t).replace(_w,`
`).replace(ww,"")}function $s(t,e,n){if(e=Sf(e),Sf(t)!==e&&n)throw Error(U(425))}function Hr(){}var uc=null,dc=null;function fc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var pc=typeof setTimeout=="function"?setTimeout:void 0,Sw=typeof clearTimeout=="function"?clearTimeout:void 0,bf=typeof Promise=="function"?Promise:void 0,bw=typeof queueMicrotask=="function"?queueMicrotask:typeof bf<"u"?function(t){return bf.resolve(null).then(t).catch(Cw)}:pc;function Cw(t){setTimeout(function(){throw t})}function ya(t,e){var n=e,i=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(i===0){t.removeChild(o),ls(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=o}while(n);ls(e)}function kn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Cf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ro=Math.random().toString(36).slice(2),Lt="__reactFiber$"+ro,fs="__reactProps$"+ro,en="__reactContainer$"+ro,hc="__reactEvents$"+ro,Tw="__reactListeners$"+ro,kw="__reactHandles$"+ro;function Kn(t){var e=t[Lt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[en]||n[Lt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Cf(t);t!==null;){if(n=t[Lt])return n;t=Cf(t)}return e}t=n,n=t.parentNode}return null}function Is(t){return t=t[Lt]||t[en],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ti(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function El(t){return t[fs]||null}var mc=[],ki=-1;function Fn(t){return{current:t}}function le(t){0>ki||(t.current=mc[ki],mc[ki]=null,ki--)}function se(t,e){ki++,mc[ki]=t.current,t.current=e}var Dn={},ze=Fn(Dn),Ye=Fn(!1),oi=Dn;function Ji(t,e){var n=t.type.contextTypes;if(!n)return Dn;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Ke(t){return t=t.childContextTypes,t!=null}function jr(){le(Ye),le(ze)}function Tf(t,e,n){if(ze.current!==Dn)throw Error(U(168));se(ze,e),se(Ye,n)}function h0(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var o in i)if(!(o in e))throw Error(U(108,u_(t)||"Unknown",o));return fe({},n,i)}function $r(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Dn,oi=ze.current,se(ze,t),se(Ye,Ye.current),!0}function kf(t,e,n){var i=t.stateNode;if(!i)throw Error(U(169));n?(t=h0(t,e,oi),i.__reactInternalMemoizedMergedChildContext=t,le(Ye),le(ze),se(ze,t)):le(Ye),se(Ye,n)}var Gt=null,Nl=!1,_a=!1;function m0(t){Gt===null?Gt=[t]:Gt.push(t)}function Iw(t){Nl=!0,m0(t)}function Un(){if(!_a&&Gt!==null){_a=!0;var t=0,e=ne;try{var n=Gt;for(ne=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Gt=null,Nl=!1}catch(o){throw Gt!==null&&(Gt=Gt.slice(t+1)),Vg(Su,Un),o}finally{ne=e,_a=!1}}return null}var Ii=[],Ei=0,Gr=null,qr=0,ut=[],dt=0,si=null,Wt=1,Jt="";function Gn(t,e){Ii[Ei++]=qr,Ii[Ei++]=Gr,Gr=t,qr=e}function g0(t,e,n){ut[dt++]=Wt,ut[dt++]=Jt,ut[dt++]=si,si=t;var i=Wt;t=Jt;var o=32-Ct(i)-1;i&=~(1<<o),n+=1;var s=32-Ct(e)+o;if(30<s){var r=o-o%5;s=(i&(1<<r)-1).toString(32),i>>=r,o-=r,Wt=1<<32-Ct(e)+o|n<<o|i,Jt=s+t}else Wt=1<<s|n<<o|i,Jt=t}function Mu(t){t.return!==null&&(Gn(t,1),g0(t,1,0))}function Pu(t){for(;t===Gr;)Gr=Ii[--Ei],Ii[Ei]=null,qr=Ii[--Ei],Ii[Ei]=null;for(;t===si;)si=ut[--dt],ut[dt]=null,Jt=ut[--dt],ut[dt]=null,Wt=ut[--dt],ut[dt]=null}var ot=null,nt=null,ae=!1,bt=null;function x0(t,e){var n=ft(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function If(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ot=t,nt=kn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ot=t,nt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=si!==null?{id:Wt,overflow:Jt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ft(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ot=t,nt=null,!0):!1;default:return!1}}function gc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xc(t){if(ae){var e=nt;if(e){var n=e;if(!If(t,e)){if(gc(t))throw Error(U(418));e=kn(n.nextSibling);var i=ot;e&&If(t,e)?x0(i,n):(t.flags=t.flags&-4097|2,ae=!1,ot=t)}}else{if(gc(t))throw Error(U(418));t.flags=t.flags&-4097|2,ae=!1,ot=t}}}function Ef(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ot=t}function Gs(t){if(t!==ot)return!1;if(!ae)return Ef(t),ae=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fc(t.type,t.memoizedProps)),e&&(e=nt)){if(gc(t))throw v0(),Error(U(418));for(;e;)x0(t,e),e=kn(e.nextSibling)}if(Ef(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){nt=kn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}nt=null}}else nt=ot?kn(t.stateNode.nextSibling):null;return!0}function v0(){for(var t=nt;t;)t=kn(t.nextSibling)}function Yi(){nt=ot=null,ae=!1}function Ru(t){bt===null?bt=[t]:bt.push(t)}var Ew=an.ReactCurrentBatchConfig;function xo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var i=n.stateNode}if(!i)throw Error(U(147,t));var o=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(r){var l=o.refs;r===null?delete l[s]:l[s]=r},e._stringRef=s,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function qs(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Nf(t){var e=t._init;return e(t._payload)}function y0(t){function e(_,w){if(t){var S=_.deletions;S===null?(_.deletions=[w],_.flags|=16):S.push(w)}}function n(_,w){if(!t)return null;for(;w!==null;)e(_,w),w=w.sibling;return null}function i(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function o(_,w){return _=An(_,w),_.index=0,_.sibling=null,_}function s(_,w,S){return _.index=S,t?(S=_.alternate,S!==null?(S=S.index,S<w?(_.flags|=2,w):S):(_.flags|=2,w)):(_.flags|=1048576,w)}function r(_){return t&&_.alternate===null&&(_.flags|=2),_}function l(_,w,S,b){return w===null||w.tag!==6?(w=Ia(S,_.mode,b),w.return=_,w):(w=o(w,S),w.return=_,w)}function a(_,w,S,b){var C=S.type;return C===wi?u(_,w,S.props.children,b,S.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===pn&&Nf(C)===w.type)?(b=o(w,S.props),b.ref=xo(_,w,S),b.return=_,b):(b=Ir(S.type,S.key,S.props,null,_.mode,b),b.ref=xo(_,w,S),b.return=_,b)}function c(_,w,S,b){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=Ea(S,_.mode,b),w.return=_,w):(w=o(w,S.children||[]),w.return=_,w)}function u(_,w,S,b,C){return w===null||w.tag!==7?(w=ti(S,_.mode,b,C),w.return=_,w):(w=o(w,S),w.return=_,w)}function h(_,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Ia(""+w,_.mode,S),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ls:return S=Ir(w.type,w.key,w.props,null,_.mode,S),S.ref=xo(_,null,w),S.return=_,S;case _i:return w=Ea(w,_.mode,S),w.return=_,w;case pn:var b=w._init;return h(_,b(w._payload),S)}if(Mo(w)||fo(w))return w=ti(w,_.mode,S,null),w.return=_,w;qs(_,w)}return null}function m(_,w,S,b){var C=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return C!==null?null:l(_,w,""+S,b);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ls:return S.key===C?a(_,w,S,b):null;case _i:return S.key===C?c(_,w,S,b):null;case pn:return C=S._init,m(_,w,C(S._payload),b)}if(Mo(S)||fo(S))return C!==null?null:u(_,w,S,b,null);qs(_,S)}return null}function g(_,w,S,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return _=_.get(S)||null,l(w,_,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ls:return _=_.get(b.key===null?S:b.key)||null,a(w,_,b,C);case _i:return _=_.get(b.key===null?S:b.key)||null,c(w,_,b,C);case pn:var T=b._init;return g(_,w,S,T(b._payload),C)}if(Mo(b)||fo(b))return _=_.get(S)||null,u(w,_,b,C,null);qs(w,b)}return null}function x(_,w,S,b){for(var C=null,T=null,k=w,E=w=0,A=null;k!==null&&E<S.length;E++){k.index>E?(A=k,k=null):A=k.sibling;var N=m(_,k,S[E],b);if(N===null){k===null&&(k=A);break}t&&k&&N.alternate===null&&e(_,k),w=s(N,w,E),T===null?C=N:T.sibling=N,T=N,k=A}if(E===S.length)return n(_,k),ae&&Gn(_,E),C;if(k===null){for(;E<S.length;E++)k=h(_,S[E],b),k!==null&&(w=s(k,w,E),T===null?C=k:T.sibling=k,T=k);return ae&&Gn(_,E),C}for(k=i(_,k);E<S.length;E++)A=g(k,_,E,S[E],b),A!==null&&(t&&A.alternate!==null&&k.delete(A.key===null?E:A.key),w=s(A,w,E),T===null?C=A:T.sibling=A,T=A);return t&&k.forEach(function(I){return e(_,I)}),ae&&Gn(_,E),C}function y(_,w,S,b){var C=fo(S);if(typeof C!="function")throw Error(U(150));if(S=C.call(S),S==null)throw Error(U(151));for(var T=C=null,k=w,E=w=0,A=null,N=S.next();k!==null&&!N.done;E++,N=S.next()){k.index>E?(A=k,k=null):A=k.sibling;var I=m(_,k,N.value,b);if(I===null){k===null&&(k=A);break}t&&k&&I.alternate===null&&e(_,k),w=s(I,w,E),T===null?C=I:T.sibling=I,T=I,k=A}if(N.done)return n(_,k),ae&&Gn(_,E),C;if(k===null){for(;!N.done;E++,N=S.next())N=h(_,N.value,b),N!==null&&(w=s(N,w,E),T===null?C=N:T.sibling=N,T=N);return ae&&Gn(_,E),C}for(k=i(_,k);!N.done;E++,N=S.next())N=g(k,_,E,N.value,b),N!==null&&(t&&N.alternate!==null&&k.delete(N.key===null?E:N.key),w=s(N,w,E),T===null?C=N:T.sibling=N,T=N);return t&&k.forEach(function(P){return e(_,P)}),ae&&Gn(_,E),C}function v(_,w,S,b){if(typeof S=="object"&&S!==null&&S.type===wi&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Ls:e:{for(var C=S.key,T=w;T!==null;){if(T.key===C){if(C=S.type,C===wi){if(T.tag===7){n(_,T.sibling),w=o(T,S.props.children),w.return=_,_=w;break e}}else if(T.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===pn&&Nf(C)===T.type){n(_,T.sibling),w=o(T,S.props),w.ref=xo(_,T,S),w.return=_,_=w;break e}n(_,T);break}else e(_,T);T=T.sibling}S.type===wi?(w=ti(S.props.children,_.mode,b,S.key),w.return=_,_=w):(b=Ir(S.type,S.key,S.props,null,_.mode,b),b.ref=xo(_,w,S),b.return=_,_=b)}return r(_);case _i:e:{for(T=S.key;w!==null;){if(w.key===T)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(_,w.sibling),w=o(w,S.children||[]),w.return=_,_=w;break e}else{n(_,w);break}else e(_,w);w=w.sibling}w=Ea(S,_.mode,b),w.return=_,_=w}return r(_);case pn:return T=S._init,v(_,w,T(S._payload),b)}if(Mo(S))return x(_,w,S,b);if(fo(S))return y(_,w,S,b);qs(_,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(_,w.sibling),w=o(w,S),w.return=_,_=w):(n(_,w),w=Ia(S,_.mode,b),w.return=_,_=w),r(_)):n(_,w)}return v}var Ki=y0(!0),_0=y0(!1),Wr=Fn(null),Jr=null,Ni=null,Du=null;function Lu(){Du=Ni=Jr=null}function zu(t){var e=Wr.current;le(Wr),t._currentValue=e}function vc(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Bi(t,e){Jr=t,Du=Ni=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Je=!0),t.firstContext=null)}function xt(t){var e=t._currentValue;if(Du!==t)if(t={context:t,memoizedValue:e,next:null},Ni===null){if(Jr===null)throw Error(U(308));Ni=t,Jr.dependencies={lanes:0,firstContext:t}}else Ni=Ni.next=t;return e}var Qn=null;function Fu(t){Qn===null?Qn=[t]:Qn.push(t)}function w0(t,e,n,i){var o=e.interleaved;return o===null?(n.next=n,Fu(e)):(n.next=o.next,o.next=n),e.interleaved=n,tn(t,i)}function tn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var hn=!1;function Uu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function S0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function In(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Q&2){var o=i.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),i.pending=e,tn(t,n)}return o=i.interleaved,o===null?(e.next=e,Fu(i)):(e.next=o.next,o.next=e),i.interleaved=e,tn(t,n)}function wr(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,bu(t,n)}}function Af(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var r={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=r:s=s.next=r,n=n.next}while(n!==null);s===null?o=s=e:s=s.next=e}else o=s=e;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Yr(t,e,n,i){var o=t.updateQueue;hn=!1;var s=o.firstBaseUpdate,r=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var a=l,c=a.next;a.next=null,r===null?s=c:r.next=c,r=a;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==r&&(l===null?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=a))}if(s!==null){var h=o.baseState;r=0,u=c=a=null,l=s;do{var m=l.lane,g=l.eventTime;if((i&m)===m){u!==null&&(u=u.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,y=l;switch(m=e,g=n,y.tag){case 1:if(x=y.payload,typeof x=="function"){h=x.call(g,h,m);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,m=typeof x=="function"?x.call(g,h,m):x,m==null)break e;h=fe({},h,m);break e;case 2:hn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=o.effects,m===null?o.effects=[l]:m.push(l))}else g={eventTime:g,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(c=u=g,a=h):u=u.next=g,r|=m;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;m=l,l=m.next,m.next=null,o.lastBaseUpdate=m,o.shared.pending=null}}while(!0);if(u===null&&(a=h),o.baseState=a,o.firstBaseUpdate=c,o.lastBaseUpdate=u,e=o.shared.interleaved,e!==null){o=e;do r|=o.lane,o=o.next;while(o!==e)}else s===null&&(o.shared.lanes=0);li|=r,t.lanes=r,t.memoizedState=h}}function Mf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],o=i.callback;if(o!==null){if(i.callback=null,i=n,typeof o!="function")throw Error(U(191,o));o.call(i)}}}var Es={},Bt=Fn(Es),ps=Fn(Es),hs=Fn(Es);function Xn(t){if(t===Es)throw Error(U(174));return t}function Bu(t,e){switch(se(hs,e),se(ps,t),se(Bt,Es),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xa(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xa(e,t)}le(Bt),se(Bt,e)}function Qi(){le(Bt),le(ps),le(hs)}function b0(t){Xn(hs.current);var e=Xn(Bt.current),n=Xa(e,t.type);e!==n&&(se(ps,t),se(Bt,n))}function Vu(t){ps.current===t&&(le(Bt),le(ps))}var ce=Fn(0);function Kr(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wa=[];function Ou(){for(var t=0;t<wa.length;t++)wa[t]._workInProgressVersionPrimary=null;wa.length=0}var Sr=an.ReactCurrentDispatcher,Sa=an.ReactCurrentBatchConfig,ri=0,de=null,we=null,Ce=null,Qr=!1,$o=!1,ms=0,Nw=0;function Me(){throw Error(U(321))}function Hu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Et(t[n],e[n]))return!1;return!0}function ju(t,e,n,i,o,s){if(ri=s,de=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Sr.current=t===null||t.memoizedState===null?Rw:Dw,t=n(i,o),$o){s=0;do{if($o=!1,ms=0,25<=s)throw Error(U(301));s+=1,Ce=we=null,e.updateQueue=null,Sr.current=Lw,t=n(i,o)}while($o)}if(Sr.current=Xr,e=we!==null&&we.next!==null,ri=0,Ce=we=de=null,Qr=!1,e)throw Error(U(300));return t}function $u(){var t=ms!==0;return ms=0,t}function Rt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?de.memoizedState=Ce=t:Ce=Ce.next=t,Ce}function vt(){if(we===null){var t=de.alternate;t=t!==null?t.memoizedState:null}else t=we.next;var e=Ce===null?de.memoizedState:Ce.next;if(e!==null)Ce=e,we=t;else{if(t===null)throw Error(U(310));we=t,t={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Ce===null?de.memoizedState=Ce=t:Ce=Ce.next=t}return Ce}function gs(t,e){return typeof e=="function"?e(t):e}function ba(t){var e=vt(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var i=we,o=i.baseQueue,s=n.pending;if(s!==null){if(o!==null){var r=o.next;o.next=s.next,s.next=r}i.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,i=i.baseState;var l=r=null,a=null,c=s;do{var u=c.lane;if((ri&u)===u)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=h,r=i):a=a.next=h,de.lanes|=u,li|=u}c=c.next}while(c!==null&&c!==s);a===null?r=i:a.next=l,Et(i,e.memoizedState)||(Je=!0),e.memoizedState=i,e.baseState=r,e.baseQueue=a,n.lastRenderedState=i}if(t=n.interleaved,t!==null){o=t;do s=o.lane,de.lanes|=s,li|=s,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ca(t){var e=vt(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var i=n.dispatch,o=n.pending,s=e.memoizedState;if(o!==null){n.pending=null;var r=o=o.next;do s=t(s,r.action),r=r.next;while(r!==o);Et(s,e.memoizedState)||(Je=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function C0(){}function T0(t,e){var n=de,i=vt(),o=e(),s=!Et(i.memoizedState,o);if(s&&(i.memoizedState=o,Je=!0),i=i.queue,Gu(E0.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||Ce!==null&&Ce.memoizedState.tag&1){if(n.flags|=2048,xs(9,I0.bind(null,n,i,o,e),void 0,null),Te===null)throw Error(U(349));ri&30||k0(n,e,o)}return o}function k0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=de.updateQueue,e===null?(e={lastEffect:null,stores:null},de.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function I0(t,e,n,i){e.value=n,e.getSnapshot=i,N0(e)&&A0(t)}function E0(t,e,n){return n(function(){N0(e)&&A0(t)})}function N0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Et(t,n)}catch{return!0}}function A0(t){var e=tn(t,1);e!==null&&Tt(e,t,1,-1)}function Pf(t){var e=Rt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:t},e.queue=t,t=t.dispatch=Pw.bind(null,de,t),[e.memoizedState,t]}function xs(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=de.updateQueue,e===null?(e={lastEffect:null,stores:null},de.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function M0(){return vt().memoizedState}function br(t,e,n,i){var o=Rt();de.flags|=t,o.memoizedState=xs(1|e,n,void 0,i===void 0?null:i)}function Al(t,e,n,i){var o=vt();i=i===void 0?null:i;var s=void 0;if(we!==null){var r=we.memoizedState;if(s=r.destroy,i!==null&&Hu(i,r.deps)){o.memoizedState=xs(e,n,s,i);return}}de.flags|=t,o.memoizedState=xs(1|e,n,s,i)}function Rf(t,e){return br(8390656,8,t,e)}function Gu(t,e){return Al(2048,8,t,e)}function P0(t,e){return Al(4,2,t,e)}function R0(t,e){return Al(4,4,t,e)}function D0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function L0(t,e,n){return n=n!=null?n.concat([t]):null,Al(4,4,D0.bind(null,e,t),n)}function qu(){}function z0(t,e){var n=vt();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Hu(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function F0(t,e){var n=vt();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Hu(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function U0(t,e,n){return ri&21?(Et(n,e)||(n=jg(),de.lanes|=n,li|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Je=!0),t.memoizedState=n)}function Aw(t,e){var n=ne;ne=n!==0&&4>n?n:4,t(!0);var i=Sa.transition;Sa.transition={};try{t(!1),e()}finally{ne=n,Sa.transition=i}}function B0(){return vt().memoizedState}function Mw(t,e,n){var i=Nn(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},V0(t))O0(e,n);else if(n=w0(t,e,n,i),n!==null){var o=Oe();Tt(n,t,i,o),H0(n,e,i)}}function Pw(t,e,n){var i=Nn(t),o={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(V0(t))O0(e,o);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var r=e.lastRenderedState,l=s(r,n);if(o.hasEagerState=!0,o.eagerState=l,Et(l,r)){var a=e.interleaved;a===null?(o.next=o,Fu(e)):(o.next=a.next,a.next=o),e.interleaved=o;return}}catch{}finally{}n=w0(t,e,o,i),n!==null&&(o=Oe(),Tt(n,t,i,o),H0(n,e,i))}}function V0(t){var e=t.alternate;return t===de||e!==null&&e===de}function O0(t,e){$o=Qr=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function H0(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,bu(t,n)}}var Xr={readContext:xt,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useInsertionEffect:Me,useLayoutEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useMutableSource:Me,useSyncExternalStore:Me,useId:Me,unstable_isNewReconciler:!1},Rw={readContext:xt,useCallback:function(t,e){return Rt().memoizedState=[t,e===void 0?null:e],t},useContext:xt,useEffect:Rf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,br(4194308,4,D0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return br(4194308,4,t,e)},useInsertionEffect:function(t,e){return br(4,2,t,e)},useMemo:function(t,e){var n=Rt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Rt();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=Mw.bind(null,de,t),[i.memoizedState,t]},useRef:function(t){var e=Rt();return t={current:t},e.memoizedState=t},useState:Pf,useDebugValue:qu,useDeferredValue:function(t){return Rt().memoizedState=t},useTransition:function(){var t=Pf(!1),e=t[0];return t=Aw.bind(null,t[1]),Rt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=de,o=Rt();if(ae){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Te===null)throw Error(U(349));ri&30||k0(i,e,n)}o.memoizedState=n;var s={value:n,getSnapshot:e};return o.queue=s,Rf(E0.bind(null,i,s,t),[t]),i.flags|=2048,xs(9,I0.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=Rt(),e=Te.identifierPrefix;if(ae){var n=Jt,i=Wt;n=(i&~(1<<32-Ct(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=ms++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Nw++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Dw={readContext:xt,useCallback:z0,useContext:xt,useEffect:Gu,useImperativeHandle:L0,useInsertionEffect:P0,useLayoutEffect:R0,useMemo:F0,useReducer:ba,useRef:M0,useState:function(){return ba(gs)},useDebugValue:qu,useDeferredValue:function(t){var e=vt();return U0(e,we.memoizedState,t)},useTransition:function(){var t=ba(gs)[0],e=vt().memoizedState;return[t,e]},useMutableSource:C0,useSyncExternalStore:T0,useId:B0,unstable_isNewReconciler:!1},Lw={readContext:xt,useCallback:z0,useContext:xt,useEffect:Gu,useImperativeHandle:L0,useInsertionEffect:P0,useLayoutEffect:R0,useMemo:F0,useReducer:Ca,useRef:M0,useState:function(){return Ca(gs)},useDebugValue:qu,useDeferredValue:function(t){var e=vt();return we===null?e.memoizedState=t:U0(e,we.memoizedState,t)},useTransition:function(){var t=Ca(gs)[0],e=vt().memoizedState;return[t,e]},useMutableSource:C0,useSyncExternalStore:T0,useId:B0,unstable_isNewReconciler:!1};function wt(t,e){if(t&&t.defaultProps){e=fe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function yc(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ml={isMounted:function(t){return(t=t._reactInternals)?pi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Oe(),o=Nn(t),s=Qt(i,o);s.payload=e,n!=null&&(s.callback=n),e=In(t,s,o),e!==null&&(Tt(e,t,o,i),wr(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Oe(),o=Nn(t),s=Qt(i,o);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=In(t,s,o),e!==null&&(Tt(e,t,o,i),wr(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Oe(),i=Nn(t),o=Qt(n,i);o.tag=2,e!=null&&(o.callback=e),e=In(t,o,i),e!==null&&(Tt(e,t,i,n),wr(e,t,i))}};function Df(t,e,n,i,o,s,r){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,r):e.prototype&&e.prototype.isPureReactComponent?!cs(n,i)||!cs(o,s):!0}function j0(t,e,n){var i=!1,o=Dn,s=e.contextType;return typeof s=="object"&&s!==null?s=xt(s):(o=Ke(e)?oi:ze.current,i=e.contextTypes,s=(i=i!=null)?Ji(t,o):Dn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ml,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=s),e}function Lf(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Ml.enqueueReplaceState(e,e.state,null)}function _c(t,e,n,i){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs={},Uu(t);var s=e.contextType;typeof s=="object"&&s!==null?o.context=xt(s):(s=Ke(e)?oi:ze.current,o.context=Ji(t,s)),o.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(yc(t,e,s,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&Ml.enqueueReplaceState(o,o.state,null),Yr(t,n,o,i),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function Xi(t,e){try{var n="",i=e;do n+=c_(i),i=i.return;while(i);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:o,digest:null}}function Ta(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function wc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var zw=typeof WeakMap=="function"?WeakMap:Map;function $0(t,e,n){n=Qt(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){el||(el=!0,Mc=i),wc(t,e)},n}function G0(t,e,n){n=Qt(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var o=e.value;n.payload=function(){return i(o)},n.callback=function(){wc(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){wc(t,e),typeof i!="function"&&(En===null?En=new Set([this]):En.add(this));var r=e.stack;this.componentDidCatch(e.value,{componentStack:r!==null?r:""})}),n}function zf(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new zw;var o=new Set;i.set(e,o)}else o=i.get(e),o===void 0&&(o=new Set,i.set(e,o));o.has(n)||(o.add(n),t=Kw.bind(null,t,e,n),e.then(t,t))}function Ff(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Uf(t,e,n,i,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Qt(-1,1),e.tag=2,In(n,e,1))),n.lanes|=1),t)}var Fw=an.ReactCurrentOwner,Je=!1;function Ve(t,e,n,i){e.child=t===null?_0(e,null,n,i):Ki(e,t.child,n,i)}function Bf(t,e,n,i,o){n=n.render;var s=e.ref;return Bi(e,o),i=ju(t,e,n,i,s,o),n=$u(),t!==null&&!Je?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,nn(t,e,o)):(ae&&n&&Mu(e),e.flags|=1,Ve(t,e,i,o),e.child)}function Vf(t,e,n,i,o){if(t===null){var s=n.type;return typeof s=="function"&&!ed(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,q0(t,e,s,i,o)):(t=Ir(n.type,null,i,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&o)){var r=s.memoizedProps;if(n=n.compare,n=n!==null?n:cs,n(r,i)&&t.ref===e.ref)return nn(t,e,o)}return e.flags|=1,t=An(s,i),t.ref=e.ref,t.return=e,e.child=t}function q0(t,e,n,i,o){if(t!==null){var s=t.memoizedProps;if(cs(s,i)&&t.ref===e.ref)if(Je=!1,e.pendingProps=i=s,(t.lanes&o)!==0)t.flags&131072&&(Je=!0);else return e.lanes=t.lanes,nn(t,e,o)}return Sc(t,e,n,i,o)}function W0(t,e,n){var i=e.pendingProps,o=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(Mi,Ze),Ze|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,se(Mi,Ze),Ze|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,se(Mi,Ze),Ze|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,se(Mi,Ze),Ze|=i;return Ve(t,e,o,n),e.child}function J0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Sc(t,e,n,i,o){var s=Ke(n)?oi:ze.current;return s=Ji(e,s),Bi(e,o),n=ju(t,e,n,i,s,o),i=$u(),t!==null&&!Je?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,nn(t,e,o)):(ae&&i&&Mu(e),e.flags|=1,Ve(t,e,n,o),e.child)}function Of(t,e,n,i,o){if(Ke(n)){var s=!0;$r(e)}else s=!1;if(Bi(e,o),e.stateNode===null)Cr(t,e),j0(e,n,i),_c(e,n,i,o),i=!0;else if(t===null){var r=e.stateNode,l=e.memoizedProps;r.props=l;var a=r.context,c=n.contextType;typeof c=="object"&&c!==null?c=xt(c):(c=Ke(n)?oi:ze.current,c=Ji(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof r.getSnapshotBeforeUpdate=="function";h||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(l!==i||a!==c)&&Lf(e,r,i,c),hn=!1;var m=e.memoizedState;r.state=m,Yr(e,i,r,o),a=e.memoizedState,l!==i||m!==a||Ye.current||hn?(typeof u=="function"&&(yc(e,n,u,i),a=e.memoizedState),(l=hn||Df(e,n,l,i,m,a,c))?(h||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(e.flags|=4194308)):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=a),r.props=i,r.state=a,r.context=c,i=l):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{r=e.stateNode,S0(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:wt(e.type,l),r.props=c,h=e.pendingProps,m=r.context,a=n.contextType,typeof a=="object"&&a!==null?a=xt(a):(a=Ke(n)?oi:ze.current,a=Ji(e,a));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(l!==h||m!==a)&&Lf(e,r,i,a),hn=!1,m=e.memoizedState,r.state=m,Yr(e,i,r,o);var x=e.memoizedState;l!==h||m!==x||Ye.current||hn?(typeof g=="function"&&(yc(e,n,g,i),x=e.memoizedState),(c=hn||Df(e,n,c,i,m,x,a)||!1)?(u||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(i,x,a),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(i,x,a)),typeof r.componentDidUpdate=="function"&&(e.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof r.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=x),r.props=i,r.state=x,r.context=a,i=c):(typeof r.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),i=!1)}return bc(t,e,n,i,s,o)}function bc(t,e,n,i,o,s){J0(t,e);var r=(e.flags&128)!==0;if(!i&&!r)return o&&kf(e,n,!1),nn(t,e,s);i=e.stateNode,Fw.current=e;var l=r&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&r?(e.child=Ki(e,t.child,null,s),e.child=Ki(e,null,l,s)):Ve(t,e,l,s),e.memoizedState=i.state,o&&kf(e,n,!0),e.child}function Y0(t){var e=t.stateNode;e.pendingContext?Tf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Tf(t,e.context,!1),Bu(t,e.containerInfo)}function Hf(t,e,n,i,o){return Yi(),Ru(o),e.flags|=256,Ve(t,e,n,i),e.child}var Cc={dehydrated:null,treeContext:null,retryLane:0};function Tc(t){return{baseLanes:t,cachePool:null,transitions:null}}function K0(t,e,n){var i=e.pendingProps,o=ce.current,s=!1,r=(e.flags&128)!==0,l;if((l=r)||(l=t!==null&&t.memoizedState===null?!1:(o&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),se(ce,o&1),t===null)return xc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(r=i.children,t=i.fallback,s?(i=e.mode,s=e.child,r={mode:"hidden",children:r},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=r):s=Dl(r,i,0,null),t=ti(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Tc(n),e.memoizedState=Cc,t):Wu(e,r));if(o=t.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return Uw(t,e,r,i,l,o,n);if(s){s=i.fallback,r=e.mode,o=t.child,l=o.sibling;var a={mode:"hidden",children:i.children};return!(r&1)&&e.child!==o?(i=e.child,i.childLanes=0,i.pendingProps=a,e.deletions=null):(i=An(o,a),i.subtreeFlags=o.subtreeFlags&14680064),l!==null?s=An(l,s):(s=ti(s,r,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,r=t.child.memoizedState,r=r===null?Tc(n):{baseLanes:r.baseLanes|n,cachePool:null,transitions:r.transitions},s.memoizedState=r,s.childLanes=t.childLanes&~n,e.memoizedState=Cc,i}return s=t.child,t=s.sibling,i=An(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Wu(t,e){return e=Dl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ws(t,e,n,i){return i!==null&&Ru(i),Ki(e,t.child,null,n),t=Wu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Uw(t,e,n,i,o,s,r){if(n)return e.flags&256?(e.flags&=-257,i=Ta(Error(U(422))),Ws(t,e,r,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,o=e.mode,i=Dl({mode:"visible",children:i.children},o,0,null),s=ti(s,o,r,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Ki(e,t.child,null,r),e.child.memoizedState=Tc(r),e.memoizedState=Cc,s);if(!(e.mode&1))return Ws(t,e,r,null);if(o.data==="$!"){if(i=o.nextSibling&&o.nextSibling.dataset,i)var l=i.dgst;return i=l,s=Error(U(419)),i=Ta(s,i,void 0),Ws(t,e,r,i)}if(l=(r&t.childLanes)!==0,Je||l){if(i=Te,i!==null){switch(r&-r){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(i.suspendedLanes|r)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,tn(t,o),Tt(i,t,o,-1))}return Zu(),i=Ta(Error(U(421))),Ws(t,e,r,i)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=Qw.bind(null,t),o._reactRetry=e,null):(t=s.treeContext,nt=kn(o.nextSibling),ot=e,ae=!0,bt=null,t!==null&&(ut[dt++]=Wt,ut[dt++]=Jt,ut[dt++]=si,Wt=t.id,Jt=t.overflow,si=e),e=Wu(e,i.children),e.flags|=4096,e)}function jf(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),vc(t.return,e,n)}function ka(t,e,n,i,o){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=o)}function Q0(t,e,n){var i=e.pendingProps,o=i.revealOrder,s=i.tail;if(Ve(t,e,i.children,n),i=ce.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jf(t,n,e);else if(t.tag===19)jf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(se(ce,i),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&Kr(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),ka(e,!1,o,n,s);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&Kr(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}ka(e,!0,n,null,s);break;case"together":ka(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Cr(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function nn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),li|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=An(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=An(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Bw(t,e,n){switch(e.tag){case 3:Y0(e),Yi();break;case 5:b0(e);break;case 1:Ke(e.type)&&$r(e);break;case 4:Bu(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,o=e.memoizedProps.value;se(Wr,i._currentValue),i._currentValue=o;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(se(ce,ce.current&1),e.flags|=128,null):n&e.child.childLanes?K0(t,e,n):(se(ce,ce.current&1),t=nn(t,e,n),t!==null?t.sibling:null);se(ce,ce.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return Q0(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),se(ce,ce.current),i)break;return null;case 22:case 23:return e.lanes=0,W0(t,e,n)}return nn(t,e,n)}var X0,kc,Z0,ex;X0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kc=function(){};Z0=function(t,e,n,i){var o=t.memoizedProps;if(o!==i){t=e.stateNode,Xn(Bt.current);var s=null;switch(n){case"input":o=Ja(t,o),i=Ja(t,i),s=[];break;case"select":o=fe({},o,{value:void 0}),i=fe({},i,{value:void 0}),s=[];break;case"textarea":o=Qa(t,o),i=Qa(t,i),s=[];break;default:typeof o.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Hr)}Za(n,i);var r;n=null;for(c in o)if(!i.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var l=o[c];for(r in l)l.hasOwnProperty(r)&&(n||(n={}),n[r]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ns.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var a=i[c];if(l=o!=null?o[c]:void 0,i.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(r in l)!l.hasOwnProperty(r)||a&&a.hasOwnProperty(r)||(n||(n={}),n[r]="");for(r in a)a.hasOwnProperty(r)&&l[r]!==a[r]&&(n||(n={}),n[r]=a[r])}else n||(s||(s=[]),s.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ns.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&re("scroll",t),s||l===a||(s=[])):(s=s||[]).push(c,a))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};ex=function(t,e,n,i){n!==i&&(e.flags|=4)};function vo(t,e){if(!ae)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Pe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&14680064,i|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Vw(t,e,n){var i=e.pendingProps;switch(Pu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(e),null;case 1:return Ke(e.type)&&jr(),Pe(e),null;case 3:return i=e.stateNode,Qi(),le(Ye),le(ze),Ou(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Gs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bt!==null&&(Dc(bt),bt=null))),kc(t,e),Pe(e),null;case 5:Vu(e);var o=Xn(hs.current);if(n=e.type,t!==null&&e.stateNode!=null)Z0(t,e,n,i,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(U(166));return Pe(e),null}if(t=Xn(Bt.current),Gs(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[Lt]=e,i[fs]=s,t=(e.mode&1)!==0,n){case"dialog":re("cancel",i),re("close",i);break;case"iframe":case"object":case"embed":re("load",i);break;case"video":case"audio":for(o=0;o<Ro.length;o++)re(Ro[o],i);break;case"source":re("error",i);break;case"img":case"image":case"link":re("error",i),re("load",i);break;case"details":re("toggle",i);break;case"input":Qd(i,s),re("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},re("invalid",i);break;case"textarea":Zd(i,s),re("invalid",i)}Za(n,s),o=null;for(var r in s)if(s.hasOwnProperty(r)){var l=s[r];r==="children"?typeof l=="string"?i.textContent!==l&&(s.suppressHydrationWarning!==!0&&$s(i.textContent,l,t),o=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&$s(i.textContent,l,t),o=["children",""+l]):ns.hasOwnProperty(r)&&l!=null&&r==="onScroll"&&re("scroll",i)}switch(n){case"input":zs(i),Xd(i,s,!0);break;case"textarea":zs(i),ef(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Hr)}i=o,e.updateQueue=i,i!==null&&(e.flags|=4)}else{r=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Eg(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=r.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=r.createElement(n,{is:i.is}):(t=r.createElement(n),n==="select"&&(r=t,i.multiple?r.multiple=!0:i.size&&(r.size=i.size))):t=r.createElementNS(t,n),t[Lt]=e,t[fs]=i,X0(t,e,!1,!1),e.stateNode=t;e:{switch(r=ec(n,i),n){case"dialog":re("cancel",t),re("close",t),o=i;break;case"iframe":case"object":case"embed":re("load",t),o=i;break;case"video":case"audio":for(o=0;o<Ro.length;o++)re(Ro[o],t);o=i;break;case"source":re("error",t),o=i;break;case"img":case"image":case"link":re("error",t),re("load",t),o=i;break;case"details":re("toggle",t),o=i;break;case"input":Qd(t,i),o=Ja(t,i),re("invalid",t);break;case"option":o=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},o=fe({},i,{value:void 0}),re("invalid",t);break;case"textarea":Zd(t,i),o=Qa(t,i),re("invalid",t);break;default:o=i}Za(n,o),l=o;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Mg(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Ng(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&is(t,a):typeof a=="number"&&is(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ns.hasOwnProperty(s)?a!=null&&s==="onScroll"&&re("scroll",t):a!=null&&xu(t,s,a,r))}switch(n){case"input":zs(t),Xd(t,i,!1);break;case"textarea":zs(t),ef(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Rn(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?Li(t,!!i.multiple,s,!1):i.defaultValue!=null&&Li(t,!!i.multiple,i.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=Hr)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pe(e),null;case 6:if(t&&e.stateNode!=null)ex(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(U(166));if(n=Xn(hs.current),Xn(Bt.current),Gs(e)){if(i=e.stateNode,n=e.memoizedProps,i[Lt]=e,(s=i.nodeValue!==n)&&(t=ot,t!==null))switch(t.tag){case 3:$s(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$s(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Lt]=e,e.stateNode=i}return Pe(e),null;case 13:if(le(ce),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ae&&nt!==null&&e.mode&1&&!(e.flags&128))v0(),Yi(),e.flags|=98560,s=!1;else if(s=Gs(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(U(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[Lt]=e}else Yi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pe(e),s=!1}else bt!==null&&(Dc(bt),bt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||ce.current&1?Se===0&&(Se=3):Zu())),e.updateQueue!==null&&(e.flags|=4),Pe(e),null);case 4:return Qi(),kc(t,e),t===null&&us(e.stateNode.containerInfo),Pe(e),null;case 10:return zu(e.type._context),Pe(e),null;case 17:return Ke(e.type)&&jr(),Pe(e),null;case 19:if(le(ce),s=e.memoizedState,s===null)return Pe(e),null;if(i=(e.flags&128)!==0,r=s.rendering,r===null)if(i)vo(s,!1);else{if(Se!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(r=Kr(t),r!==null){for(e.flags|=128,vo(s,!1),i=r.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,r=s.alternate,r===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=r.childLanes,s.lanes=r.lanes,s.child=r.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=r.memoizedProps,s.memoizedState=r.memoizedState,s.updateQueue=r.updateQueue,s.type=r.type,t=r.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return se(ce,ce.current&1|2),e.child}t=t.sibling}s.tail!==null&&xe()>Zi&&(e.flags|=128,i=!0,vo(s,!1),e.lanes=4194304)}else{if(!i)if(t=Kr(r),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),vo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!r.alternate&&!ae)return Pe(e),null}else 2*xe()-s.renderingStartTime>Zi&&n!==1073741824&&(e.flags|=128,i=!0,vo(s,!1),e.lanes=4194304);s.isBackwards?(r.sibling=e.child,e.child=r):(n=s.last,n!==null?n.sibling=r:e.child=r,s.last=r)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=xe(),e.sibling=null,n=ce.current,se(ce,i?n&1|2:n&1),e):(Pe(e),null);case 22:case 23:return Xu(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Ze&1073741824&&(Pe(e),e.subtreeFlags&6&&(e.flags|=8192)):Pe(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function Ow(t,e){switch(Pu(e),e.tag){case 1:return Ke(e.type)&&jr(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qi(),le(Ye),le(ze),Ou(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Vu(e),null;case 13:if(le(ce),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Yi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return le(ce),null;case 4:return Qi(),null;case 10:return zu(e.type._context),null;case 22:case 23:return Xu(),null;case 24:return null;default:return null}}var Js=!1,De=!1,Hw=typeof WeakSet=="function"?WeakSet:Set,j=null;function Ai(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){he(t,e,i)}else n.current=null}function Ic(t,e,n){try{n()}catch(i){he(t,e,i)}}var $f=!1;function jw(t,e){if(uc=Br,t=s0(),Au(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var r=0,l=-1,a=-1,c=0,u=0,h=t,m=null;t:for(;;){for(var g;h!==n||o!==0&&h.nodeType!==3||(l=r+o),h!==s||i!==0&&h.nodeType!==3||(a=r+i),h.nodeType===3&&(r+=h.nodeValue.length),(g=h.firstChild)!==null;)m=h,h=g;for(;;){if(h===t)break t;if(m===n&&++c===o&&(l=r),m===s&&++u===i&&(a=r),(g=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=g}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(dc={focusedElem:t,selectionRange:n},Br=!1,j=e;j!==null;)if(e=j,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,j=t;else for(;j!==null;){e=j;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,v=x.memoizedState,_=e.stateNode,w=_.getSnapshotBeforeUpdate(e.elementType===e.type?y:wt(e.type,y),v);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(b){he(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,j=t;break}j=e.return}return x=$f,$f=!1,x}function Go(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&t)===t){var s=o.destroy;o.destroy=void 0,s!==void 0&&Ic(e,n,s)}o=o.next}while(o!==i)}}function Pl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Ec(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function tx(t){var e=t.alternate;e!==null&&(t.alternate=null,tx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Lt],delete e[fs],delete e[hc],delete e[Tw],delete e[kw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nx(t){return t.tag===5||t.tag===3||t.tag===4}function Gf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nc(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hr));else if(i!==4&&(t=t.child,t!==null))for(Nc(t,e,n),t=t.sibling;t!==null;)Nc(t,e,n),t=t.sibling}function Ac(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Ac(t,e,n),t=t.sibling;t!==null;)Ac(t,e,n),t=t.sibling}var Ee=null,St=!1;function dn(t,e,n){for(n=n.child;n!==null;)ix(t,e,n),n=n.sibling}function ix(t,e,n){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Cl,n)}catch{}switch(n.tag){case 5:De||Ai(n,e);case 6:var i=Ee,o=St;Ee=null,dn(t,e,n),Ee=i,St=o,Ee!==null&&(St?(t=Ee,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ee.removeChild(n.stateNode));break;case 18:Ee!==null&&(St?(t=Ee,n=n.stateNode,t.nodeType===8?ya(t.parentNode,n):t.nodeType===1&&ya(t,n),ls(t)):ya(Ee,n.stateNode));break;case 4:i=Ee,o=St,Ee=n.stateNode.containerInfo,St=!0,dn(t,e,n),Ee=i,St=o;break;case 0:case 11:case 14:case 15:if(!De&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){o=i=i.next;do{var s=o,r=s.destroy;s=s.tag,r!==void 0&&(s&2||s&4)&&Ic(n,e,r),o=o.next}while(o!==i)}dn(t,e,n);break;case 1:if(!De&&(Ai(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(l){he(n,e,l)}dn(t,e,n);break;case 21:dn(t,e,n);break;case 22:n.mode&1?(De=(i=De)||n.memoizedState!==null,dn(t,e,n),De=i):dn(t,e,n);break;default:dn(t,e,n)}}function qf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Hw),e.forEach(function(i){var o=Xw.bind(null,t,i);n.has(i)||(n.add(i),i.then(o,o))})}}function _t(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];try{var s=t,r=e,l=r;e:for(;l!==null;){switch(l.tag){case 5:Ee=l.stateNode,St=!1;break e;case 3:Ee=l.stateNode.containerInfo,St=!0;break e;case 4:Ee=l.stateNode.containerInfo,St=!0;break e}l=l.return}if(Ee===null)throw Error(U(160));ix(s,r,o),Ee=null,St=!1;var a=o.alternate;a!==null&&(a.return=null),o.return=null}catch(c){he(o,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ox(e,t),e=e.sibling}function ox(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_t(e,t),At(t),i&4){try{Go(3,t,t.return),Pl(3,t)}catch(y){he(t,t.return,y)}try{Go(5,t,t.return)}catch(y){he(t,t.return,y)}}break;case 1:_t(e,t),At(t),i&512&&n!==null&&Ai(n,n.return);break;case 5:if(_t(e,t),At(t),i&512&&n!==null&&Ai(n,n.return),t.flags&32){var o=t.stateNode;try{is(o,"")}catch(y){he(t,t.return,y)}}if(i&4&&(o=t.stateNode,o!=null)){var s=t.memoizedProps,r=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&kg(o,s),ec(l,r);var c=ec(l,s);for(r=0;r<a.length;r+=2){var u=a[r],h=a[r+1];u==="style"?Mg(o,h):u==="dangerouslySetInnerHTML"?Ng(o,h):u==="children"?is(o,h):xu(o,u,h,c)}switch(l){case"input":Ya(o,s);break;case"textarea":Ig(o,s);break;case"select":var m=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Li(o,!!s.multiple,g,!1):m!==!!s.multiple&&(s.defaultValue!=null?Li(o,!!s.multiple,s.defaultValue,!0):Li(o,!!s.multiple,s.multiple?[]:"",!1))}o[fs]=s}catch(y){he(t,t.return,y)}}break;case 6:if(_t(e,t),At(t),i&4){if(t.stateNode===null)throw Error(U(162));o=t.stateNode,s=t.memoizedProps;try{o.nodeValue=s}catch(y){he(t,t.return,y)}}break;case 3:if(_t(e,t),At(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ls(e.containerInfo)}catch(y){he(t,t.return,y)}break;case 4:_t(e,t),At(t);break;case 13:_t(e,t),At(t),o=t.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(Ku=xe())),i&4&&qf(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(De=(c=De)||u,_t(e,t),De=c):_t(e,t),At(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(j=t,u=t.child;u!==null;){for(h=j=u;j!==null;){switch(m=j,g=m.child,m.tag){case 0:case 11:case 14:case 15:Go(4,m,m.return);break;case 1:Ai(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){i=m,n=m.return;try{e=i,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(y){he(i,n,y)}}break;case 5:Ai(m,m.return);break;case 22:if(m.memoizedState!==null){Jf(h);continue}}g!==null?(g.return=m,j=g):Jf(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{o=h.stateNode,c?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=h.stateNode,a=h.memoizedProps.style,r=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Ag("display",r))}catch(y){he(t,t.return,y)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){he(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:_t(e,t),At(t),i&4&&qf(t);break;case 21:break;default:_t(e,t),At(t)}}function At(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(nx(n)){var i=n;break e}n=n.return}throw Error(U(160))}switch(i.tag){case 5:var o=i.stateNode;i.flags&32&&(is(o,""),i.flags&=-33);var s=Gf(t);Ac(t,s,o);break;case 3:case 4:var r=i.stateNode.containerInfo,l=Gf(t);Nc(t,l,r);break;default:throw Error(U(161))}}catch(a){he(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $w(t,e,n){j=t,sx(t)}function sx(t,e,n){for(var i=(t.mode&1)!==0;j!==null;){var o=j,s=o.child;if(o.tag===22&&i){var r=o.memoizedState!==null||Js;if(!r){var l=o.alternate,a=l!==null&&l.memoizedState!==null||De;l=Js;var c=De;if(Js=r,(De=a)&&!c)for(j=o;j!==null;)r=j,a=r.child,r.tag===22&&r.memoizedState!==null?Yf(o):a!==null?(a.return=r,j=a):Yf(o);for(;s!==null;)j=s,sx(s),s=s.sibling;j=o,Js=l,De=c}Wf(t)}else o.subtreeFlags&8772&&s!==null?(s.return=o,j=s):Wf(t)}}function Wf(t){for(;j!==null;){var e=j;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:De||Pl(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!De)if(n===null)i.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:wt(e.type,n.memoizedProps);i.componentDidUpdate(o,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Mf(e,s,i);break;case 3:var r=e.updateQueue;if(r!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Mf(e,r,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&ls(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}De||e.flags&512&&Ec(e)}catch(m){he(e,e.return,m)}}if(e===t){j=null;break}if(n=e.sibling,n!==null){n.return=e.return,j=n;break}j=e.return}}function Jf(t){for(;j!==null;){var e=j;if(e===t){j=null;break}var n=e.sibling;if(n!==null){n.return=e.return,j=n;break}j=e.return}}function Yf(t){for(;j!==null;){var e=j;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Pl(4,e)}catch(a){he(e,n,a)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var o=e.return;try{i.componentDidMount()}catch(a){he(e,o,a)}}var s=e.return;try{Ec(e)}catch(a){he(e,s,a)}break;case 5:var r=e.return;try{Ec(e)}catch(a){he(e,r,a)}}}catch(a){he(e,e.return,a)}if(e===t){j=null;break}var l=e.sibling;if(l!==null){l.return=e.return,j=l;break}j=e.return}}var Gw=Math.ceil,Zr=an.ReactCurrentDispatcher,Ju=an.ReactCurrentOwner,mt=an.ReactCurrentBatchConfig,Q=0,Te=null,ye=null,Ne=0,Ze=0,Mi=Fn(0),Se=0,vs=null,li=0,Rl=0,Yu=0,qo=null,qe=null,Ku=0,Zi=1/0,$t=null,el=!1,Mc=null,En=null,Ys=!1,vn=null,tl=0,Wo=0,Pc=null,Tr=-1,kr=0;function Oe(){return Q&6?xe():Tr!==-1?Tr:Tr=xe()}function Nn(t){return t.mode&1?Q&2&&Ne!==0?Ne&-Ne:Ew.transition!==null?(kr===0&&(kr=jg()),kr):(t=ne,t!==0||(t=window.event,t=t===void 0?16:Kg(t.type)),t):1}function Tt(t,e,n,i){if(50<Wo)throw Wo=0,Pc=null,Error(U(185));Ts(t,n,i),(!(Q&2)||t!==Te)&&(t===Te&&(!(Q&2)&&(Rl|=n),Se===4&&gn(t,Ne)),Qe(t,i),n===1&&Q===0&&!(e.mode&1)&&(Zi=xe()+500,Nl&&Un()))}function Qe(t,e){var n=t.callbackNode;E_(t,e);var i=Ur(t,t===Te?Ne:0);if(i===0)n!==null&&of(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&of(n),e===1)t.tag===0?Iw(Kf.bind(null,t)):m0(Kf.bind(null,t)),bw(function(){!(Q&6)&&Un()}),n=null;else{switch($g(i)){case 1:n=Su;break;case 4:n=Og;break;case 16:n=Fr;break;case 536870912:n=Hg;break;default:n=Fr}n=px(n,rx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function rx(t,e){if(Tr=-1,kr=0,Q&6)throw Error(U(327));var n=t.callbackNode;if(Vi()&&t.callbackNode!==n)return null;var i=Ur(t,t===Te?Ne:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=nl(t,i);else{e=i;var o=Q;Q|=2;var s=ax();(Te!==t||Ne!==e)&&($t=null,Zi=xe()+500,ei(t,e));do try{Jw();break}catch(l){lx(t,l)}while(!0);Lu(),Zr.current=s,Q=o,ye!==null?e=0:(Te=null,Ne=0,e=Se)}if(e!==0){if(e===2&&(o=sc(t),o!==0&&(i=o,e=Rc(t,o))),e===1)throw n=vs,ei(t,0),gn(t,i),Qe(t,xe()),n;if(e===6)gn(t,i);else{if(o=t.current.alternate,!(i&30)&&!qw(o)&&(e=nl(t,i),e===2&&(s=sc(t),s!==0&&(i=s,e=Rc(t,s))),e===1))throw n=vs,ei(t,0),gn(t,i),Qe(t,xe()),n;switch(t.finishedWork=o,t.finishedLanes=i,e){case 0:case 1:throw Error(U(345));case 2:qn(t,qe,$t);break;case 3:if(gn(t,i),(i&130023424)===i&&(e=Ku+500-xe(),10<e)){if(Ur(t,0)!==0)break;if(o=t.suspendedLanes,(o&i)!==i){Oe(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=pc(qn.bind(null,t,qe,$t),e);break}qn(t,qe,$t);break;case 4:if(gn(t,i),(i&4194240)===i)break;for(e=t.eventTimes,o=-1;0<i;){var r=31-Ct(i);s=1<<r,r=e[r],r>o&&(o=r),i&=~s}if(i=o,i=xe()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Gw(i/1960))-i,10<i){t.timeoutHandle=pc(qn.bind(null,t,qe,$t),i);break}qn(t,qe,$t);break;case 5:qn(t,qe,$t);break;default:throw Error(U(329))}}}return Qe(t,xe()),t.callbackNode===n?rx.bind(null,t):null}function Rc(t,e){var n=qo;return t.current.memoizedState.isDehydrated&&(ei(t,e).flags|=256),t=nl(t,e),t!==2&&(e=qe,qe=n,e!==null&&Dc(e)),t}function Dc(t){qe===null?qe=t:qe.push.apply(qe,t)}function qw(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var o=n[i],s=o.getSnapshot;o=o.value;try{if(!Et(s(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function gn(t,e){for(e&=~Yu,e&=~Rl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ct(e),i=1<<n;t[n]=-1,e&=~i}}function Kf(t){if(Q&6)throw Error(U(327));Vi();var e=Ur(t,0);if(!(e&1))return Qe(t,xe()),null;var n=nl(t,e);if(t.tag!==0&&n===2){var i=sc(t);i!==0&&(e=i,n=Rc(t,i))}if(n===1)throw n=vs,ei(t,0),gn(t,e),Qe(t,xe()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qn(t,qe,$t),Qe(t,xe()),null}function Qu(t,e){var n=Q;Q|=1;try{return t(e)}finally{Q=n,Q===0&&(Zi=xe()+500,Nl&&Un())}}function ai(t){vn!==null&&vn.tag===0&&!(Q&6)&&Vi();var e=Q;Q|=1;var n=mt.transition,i=ne;try{if(mt.transition=null,ne=1,t)return t()}finally{ne=i,mt.transition=n,Q=e,!(Q&6)&&Un()}}function Xu(){Ze=Mi.current,le(Mi)}function ei(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Sw(n)),ye!==null)for(n=ye.return;n!==null;){var i=n;switch(Pu(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&jr();break;case 3:Qi(),le(Ye),le(ze),Ou();break;case 5:Vu(i);break;case 4:Qi();break;case 13:le(ce);break;case 19:le(ce);break;case 10:zu(i.type._context);break;case 22:case 23:Xu()}n=n.return}if(Te=t,ye=t=An(t.current,null),Ne=Ze=e,Se=0,vs=null,Yu=Rl=li=0,qe=qo=null,Qn!==null){for(e=0;e<Qn.length;e++)if(n=Qn[e],i=n.interleaved,i!==null){n.interleaved=null;var o=i.next,s=n.pending;if(s!==null){var r=s.next;s.next=o,i.next=r}n.pending=i}Qn=null}return t}function lx(t,e){do{var n=ye;try{if(Lu(),Sr.current=Xr,Qr){for(var i=de.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Qr=!1}if(ri=0,Ce=we=de=null,$o=!1,ms=0,Ju.current=null,n===null||n.return===null){Se=1,vs=e,ye=null;break}e:{var s=t,r=n.return,l=n,a=e;if(e=Ne,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=Ff(r);if(g!==null){g.flags&=-257,Uf(g,r,l,s,e),g.mode&1&&zf(s,c,e),e=g,a=c;var x=e.updateQueue;if(x===null){var y=new Set;y.add(a),e.updateQueue=y}else x.add(a);break e}else{if(!(e&1)){zf(s,c,e),Zu();break e}a=Error(U(426))}}else if(ae&&l.mode&1){var v=Ff(r);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Uf(v,r,l,s,e),Ru(Xi(a,l));break e}}s=a=Xi(a,l),Se!==4&&(Se=2),qo===null?qo=[s]:qo.push(s),s=r;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=$0(s,a,e);Af(s,_);break e;case 1:l=a;var w=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(En===null||!En.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=G0(s,l,e);Af(s,b);break e}}s=s.return}while(s!==null)}ux(n)}catch(C){e=C,ye===n&&n!==null&&(ye=n=n.return);continue}break}while(!0)}function ax(){var t=Zr.current;return Zr.current=Xr,t===null?Xr:t}function Zu(){(Se===0||Se===3||Se===2)&&(Se=4),Te===null||!(li&268435455)&&!(Rl&268435455)||gn(Te,Ne)}function nl(t,e){var n=Q;Q|=2;var i=ax();(Te!==t||Ne!==e)&&($t=null,ei(t,e));do try{Ww();break}catch(o){lx(t,o)}while(!0);if(Lu(),Q=n,Zr.current=i,ye!==null)throw Error(U(261));return Te=null,Ne=0,Se}function Ww(){for(;ye!==null;)cx(ye)}function Jw(){for(;ye!==null&&!y_();)cx(ye)}function cx(t){var e=fx(t.alternate,t,Ze);t.memoizedProps=t.pendingProps,e===null?ux(t):ye=e,Ju.current=null}function ux(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ow(n,e),n!==null){n.flags&=32767,ye=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Se=6,ye=null;return}}else if(n=Vw(n,e,Ze),n!==null){ye=n;return}if(e=e.sibling,e!==null){ye=e;return}ye=e=t}while(e!==null);Se===0&&(Se=5)}function qn(t,e,n){var i=ne,o=mt.transition;try{mt.transition=null,ne=1,Yw(t,e,n,i)}finally{mt.transition=o,ne=i}return null}function Yw(t,e,n,i){do Vi();while(vn!==null);if(Q&6)throw Error(U(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(N_(t,s),t===Te&&(ye=Te=null,Ne=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ys||(Ys=!0,px(Fr,function(){return Vi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=mt.transition,mt.transition=null;var r=ne;ne=1;var l=Q;Q|=4,Ju.current=null,jw(t,n),ox(n,t),mw(dc),Br=!!uc,dc=uc=null,t.current=n,$w(n),__(),Q=l,ne=r,mt.transition=s}else t.current=n;if(Ys&&(Ys=!1,vn=t,tl=o),s=t.pendingLanes,s===0&&(En=null),b_(n.stateNode),Qe(t,xe()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],i(o.value,{componentStack:o.stack,digest:o.digest});if(el)throw el=!1,t=Mc,Mc=null,t;return tl&1&&t.tag!==0&&Vi(),s=t.pendingLanes,s&1?t===Pc?Wo++:(Wo=0,Pc=t):Wo=0,Un(),null}function Vi(){if(vn!==null){var t=$g(tl),e=mt.transition,n=ne;try{if(mt.transition=null,ne=16>t?16:t,vn===null)var i=!1;else{if(t=vn,vn=null,tl=0,Q&6)throw Error(U(331));var o=Q;for(Q|=4,j=t.current;j!==null;){var s=j,r=s.child;if(j.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(j=c;j!==null;){var u=j;switch(u.tag){case 0:case 11:case 15:Go(8,u,s)}var h=u.child;if(h!==null)h.return=u,j=h;else for(;j!==null;){u=j;var m=u.sibling,g=u.return;if(tx(u),u===c){j=null;break}if(m!==null){m.return=g,j=m;break}j=g}}}var x=s.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}j=s}}if(s.subtreeFlags&2064&&r!==null)r.return=s,j=r;else e:for(;j!==null;){if(s=j,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Go(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,j=_;break e}j=s.return}}var w=t.current;for(j=w;j!==null;){r=j;var S=r.child;if(r.subtreeFlags&2064&&S!==null)S.return=r,j=S;else e:for(r=w;j!==null;){if(l=j,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Pl(9,l)}}catch(C){he(l,l.return,C)}if(l===r){j=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,j=b;break e}j=l.return}}if(Q=o,Un(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Cl,t)}catch{}i=!0}return i}finally{ne=n,mt.transition=e}}return!1}function Qf(t,e,n){e=Xi(n,e),e=$0(t,e,1),t=In(t,e,1),e=Oe(),t!==null&&(Ts(t,1,e),Qe(t,e))}function he(t,e,n){if(t.tag===3)Qf(t,t,n);else for(;e!==null;){if(e.tag===3){Qf(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(En===null||!En.has(i))){t=Xi(n,t),t=G0(e,t,1),e=In(e,t,1),t=Oe(),e!==null&&(Ts(e,1,t),Qe(e,t));break}}e=e.return}}function Kw(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Oe(),t.pingedLanes|=t.suspendedLanes&n,Te===t&&(Ne&n)===n&&(Se===4||Se===3&&(Ne&130023424)===Ne&&500>xe()-Ku?ei(t,0):Yu|=n),Qe(t,e)}function dx(t,e){e===0&&(t.mode&1?(e=Bs,Bs<<=1,!(Bs&130023424)&&(Bs=4194304)):e=1);var n=Oe();t=tn(t,e),t!==null&&(Ts(t,e,n),Qe(t,n))}function Qw(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),dx(t,n)}function Xw(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(U(314))}i!==null&&i.delete(e),dx(t,n)}var fx;fx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ye.current)Je=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Je=!1,Bw(t,e,n);Je=!!(t.flags&131072)}else Je=!1,ae&&e.flags&1048576&&g0(e,qr,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Cr(t,e),t=e.pendingProps;var o=Ji(e,ze.current);Bi(e,n),o=ju(null,e,i,t,o,n);var s=$u();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ke(i)?(s=!0,$r(e)):s=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Uu(e),o.updater=Ml,e.stateNode=o,o._reactInternals=e,_c(e,i,t,n),e=bc(null,e,i,!0,s,n)):(e.tag=0,ae&&s&&Mu(e),Ve(null,e,o,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Cr(t,e),t=e.pendingProps,o=i._init,i=o(i._payload),e.type=i,o=e.tag=eS(i),t=wt(i,t),o){case 0:e=Sc(null,e,i,t,n);break e;case 1:e=Of(null,e,i,t,n);break e;case 11:e=Bf(null,e,i,t,n);break e;case 14:e=Vf(null,e,i,wt(i.type,t),n);break e}throw Error(U(306,i,""))}return e;case 0:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:wt(i,o),Sc(t,e,i,o,n);case 1:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:wt(i,o),Of(t,e,i,o,n);case 3:e:{if(Y0(e),t===null)throw Error(U(387));i=e.pendingProps,s=e.memoizedState,o=s.element,S0(t,e),Yr(e,i,null,n);var r=e.memoizedState;if(i=r.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:r.cache,pendingSuspenseBoundaries:r.pendingSuspenseBoundaries,transitions:r.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){o=Xi(Error(U(423)),e),e=Hf(t,e,i,n,o);break e}else if(i!==o){o=Xi(Error(U(424)),e),e=Hf(t,e,i,n,o);break e}else for(nt=kn(e.stateNode.containerInfo.firstChild),ot=e,ae=!0,bt=null,n=_0(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yi(),i===o){e=nn(t,e,n);break e}Ve(t,e,i,n)}e=e.child}return e;case 5:return b0(e),t===null&&xc(e),i=e.type,o=e.pendingProps,s=t!==null?t.memoizedProps:null,r=o.children,fc(i,o)?r=null:s!==null&&fc(i,s)&&(e.flags|=32),J0(t,e),Ve(t,e,r,n),e.child;case 6:return t===null&&xc(e),null;case 13:return K0(t,e,n);case 4:return Bu(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Ki(e,null,i,n):Ve(t,e,i,n),e.child;case 11:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:wt(i,o),Bf(t,e,i,o,n);case 7:return Ve(t,e,e.pendingProps,n),e.child;case 8:return Ve(t,e,e.pendingProps.children,n),e.child;case 12:return Ve(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,o=e.pendingProps,s=e.memoizedProps,r=o.value,se(Wr,i._currentValue),i._currentValue=r,s!==null)if(Et(s.value,r)){if(s.children===o.children&&!Ye.current){e=nn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){r=s.child;for(var a=l.firstContext;a!==null;){if(a.context===i){if(s.tag===1){a=Qt(-1,n&-n),a.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?a.next=a:(a.next=u.next,u.next=a),c.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),vc(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)r=s.type===e.type?null:s.child;else if(s.tag===18){if(r=s.return,r===null)throw Error(U(341));r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),vc(r,n,e),r=s.sibling}else r=s.child;if(r!==null)r.return=s;else for(r=s;r!==null;){if(r===e){r=null;break}if(s=r.sibling,s!==null){s.return=r.return,r=s;break}r=r.return}s=r}Ve(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,i=e.pendingProps.children,Bi(e,n),o=xt(o),i=i(o),e.flags|=1,Ve(t,e,i,n),e.child;case 14:return i=e.type,o=wt(i,e.pendingProps),o=wt(i.type,o),Vf(t,e,i,o,n);case 15:return q0(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:wt(i,o),Cr(t,e),e.tag=1,Ke(i)?(t=!0,$r(e)):t=!1,Bi(e,n),j0(e,i,o),_c(e,i,o,n),bc(null,e,i,!0,t,n);case 19:return Q0(t,e,n);case 22:return W0(t,e,n)}throw Error(U(156,e.tag))};function px(t,e){return Vg(t,e)}function Zw(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ft(t,e,n,i){return new Zw(t,e,n,i)}function ed(t){return t=t.prototype,!(!t||!t.isReactComponent)}function eS(t){if(typeof t=="function")return ed(t)?1:0;if(t!=null){if(t=t.$$typeof,t===yu)return 11;if(t===_u)return 14}return 2}function An(t,e){var n=t.alternate;return n===null?(n=ft(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ir(t,e,n,i,o,s){var r=2;if(i=t,typeof t=="function")ed(t)&&(r=1);else if(typeof t=="string")r=5;else e:switch(t){case wi:return ti(n.children,o,s,e);case vu:r=8,o|=8;break;case $a:return t=ft(12,n,e,o|2),t.elementType=$a,t.lanes=s,t;case Ga:return t=ft(13,n,e,o),t.elementType=Ga,t.lanes=s,t;case qa:return t=ft(19,n,e,o),t.elementType=qa,t.lanes=s,t;case bg:return Dl(n,o,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wg:r=10;break e;case Sg:r=9;break e;case yu:r=11;break e;case _u:r=14;break e;case pn:r=16,i=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=ft(r,n,e,o),e.elementType=t,e.type=i,e.lanes=s,e}function ti(t,e,n,i){return t=ft(7,t,i,e),t.lanes=n,t}function Dl(t,e,n,i){return t=ft(22,t,i,e),t.elementType=bg,t.lanes=n,t.stateNode={isHidden:!1},t}function Ia(t,e,n){return t=ft(6,t,null,e),t.lanes=n,t}function Ea(t,e,n){return e=ft(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function tS(t,e,n,i,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=aa(0),this.expirationTimes=aa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=aa(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function td(t,e,n,i,o,s,r,l,a){return t=new tS(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ft(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uu(s),t}function nS(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_i,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function hx(t){if(!t)return Dn;t=t._reactInternals;e:{if(pi(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ke(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(Ke(n))return h0(t,n,e)}return e}function mx(t,e,n,i,o,s,r,l,a){return t=td(n,i,!0,t,o,s,r,l,a),t.context=hx(null),n=t.current,i=Oe(),o=Nn(n),s=Qt(i,o),s.callback=e??null,In(n,s,o),t.current.lanes=o,Ts(t,o,i),Qe(t,i),t}function Ll(t,e,n,i){var o=e.current,s=Oe(),r=Nn(o);return n=hx(n),e.context===null?e.context=n:e.pendingContext=n,e=Qt(s,r),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=In(o,e,r),t!==null&&(Tt(t,o,r,s),wr(t,o,r)),r}function il(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Xf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function nd(t,e){Xf(t,e),(t=t.alternate)&&Xf(t,e)}function iS(){return null}var gx=typeof reportError=="function"?reportError:function(t){console.error(t)};function id(t){this._internalRoot=t}zl.prototype.render=id.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Ll(t,e,null,null)};zl.prototype.unmount=id.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ai(function(){Ll(null,t,null,null)}),e[en]=null}};function zl(t){this._internalRoot=t}zl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Wg();t={blockedOn:null,target:t,priority:e};for(var n=0;n<mn.length&&e!==0&&e<mn[n].priority;n++);mn.splice(n,0,t),n===0&&Yg(t)}};function od(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Zf(){}function oS(t,e,n,i,o){if(o){if(typeof i=="function"){var s=i;i=function(){var c=il(r);s.call(c)}}var r=mx(e,i,t,0,null,!1,!1,"",Zf);return t._reactRootContainer=r,t[en]=r.current,us(t.nodeType===8?t.parentNode:t),ai(),r}for(;o=t.lastChild;)t.removeChild(o);if(typeof i=="function"){var l=i;i=function(){var c=il(a);l.call(c)}}var a=td(t,0,!1,null,null,!1,!1,"",Zf);return t._reactRootContainer=a,t[en]=a.current,us(t.nodeType===8?t.parentNode:t),ai(function(){Ll(e,a,n,i)}),a}function Ul(t,e,n,i,o){var s=n._reactRootContainer;if(s){var r=s;if(typeof o=="function"){var l=o;o=function(){var a=il(r);l.call(a)}}Ll(e,r,t,o)}else r=oS(n,e,t,o,i);return il(r)}Gg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Po(e.pendingLanes);n!==0&&(bu(e,n|1),Qe(e,xe()),!(Q&6)&&(Zi=xe()+500,Un()))}break;case 13:ai(function(){var i=tn(t,1);if(i!==null){var o=Oe();Tt(i,t,1,o)}}),nd(t,1)}};Cu=function(t){if(t.tag===13){var e=tn(t,134217728);if(e!==null){var n=Oe();Tt(e,t,134217728,n)}nd(t,134217728)}};qg=function(t){if(t.tag===13){var e=Nn(t),n=tn(t,e);if(n!==null){var i=Oe();Tt(n,t,e,i)}nd(t,e)}};Wg=function(){return ne};Jg=function(t,e){var n=ne;try{return ne=t,e()}finally{ne=n}};nc=function(t,e,n){switch(e){case"input":if(Ya(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var o=El(i);if(!o)throw Error(U(90));Tg(i),Ya(i,o)}}}break;case"textarea":Ig(t,n);break;case"select":e=n.value,e!=null&&Li(t,!!n.multiple,e,!1)}};Dg=Qu;Lg=ai;var sS={usingClientEntryPoint:!1,Events:[Is,Ti,El,Pg,Rg,Qu]},yo={findFiberByHostInstance:Kn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rS={bundleType:yo.bundleType,version:yo.version,rendererPackageName:yo.rendererPackageName,rendererConfig:yo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:an.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ug(t),t===null?null:t.stateNode},findFiberByHostInstance:yo.findFiberByHostInstance||iS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ks=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ks.isDisabled&&Ks.supportsFiber)try{Cl=Ks.inject(rS),Ut=Ks}catch{}}lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sS;lt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!od(e))throw Error(U(200));return nS(t,e,null,n)};lt.createRoot=function(t,e){if(!od(t))throw Error(U(299));var n=!1,i="",o=gx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=td(t,1,!1,null,null,n,!1,i,o),t[en]=e.current,us(t.nodeType===8?t.parentNode:t),new id(e)};lt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=Ug(e),t=t===null?null:t.stateNode,t};lt.flushSync=function(t){return ai(t)};lt.hydrate=function(t,e,n){if(!Fl(e))throw Error(U(200));return Ul(null,t,e,!0,n)};lt.hydrateRoot=function(t,e,n){if(!od(t))throw Error(U(405));var i=n!=null&&n.hydratedSources||null,o=!1,s="",r=gx;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(r=n.onRecoverableError)),e=mx(e,null,t,1,n??null,o,!1,s,r),t[en]=e.current,us(t),i)for(t=0;t<i.length;t++)n=i[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new zl(e)};lt.render=function(t,e,n){if(!Fl(e))throw Error(U(200));return Ul(null,t,e,!1,n)};lt.unmountComponentAtNode=function(t){if(!Fl(t))throw Error(U(40));return t._reactRootContainer?(ai(function(){Ul(null,null,t,!1,function(){t._reactRootContainer=null,t[en]=null})}),!0):!1};lt.unstable_batchedUpdates=Qu;lt.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Fl(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Ul(t,e,n,!1,i)};lt.version="18.3.1-next-f1338f8080-20240426";function xx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xx)}catch(t){console.error(t)}}xx(),xg.exports=lt;var lS=xg.exports,ep=lS;Ha.createRoot=ep.createRoot,Ha.hydrateRoot=ep.hydrateRoot;function me(t,e){try{const n=localStorage.getItem(t);return n==="undefined"?e:n?JSON.parse(n):e}catch(n){return console.error(`Error parsing JSON from localStorage key "${t}":`,n),localStorage.removeItem(t),e}}const aS=t=>f.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M12 22h6a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2h6z"}),f.jsx("path",{d:"M12 2v4"}),f.jsx("path",{d:"M20 12v-2a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2"})]}),cS=t=>f.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M12 5C12 5 12 5 12 5c-2.2 0-4 1.8-4 4v0c0 1.1.9 2 2 2h4c1.1 0 2-.9 2-2v0c0-2.2-1.8-4-4-4z"}),f.jsx("path",{d:"M12 11v11"}),f.jsx("path",{d:"M10 11H8c-1.1 0-2 .9-2 2v0c0 2.2 1.8 4 4 4h0"}),f.jsx("path",{d:"M14 11h2c1.1 0 2 .9 2 2v0c0 2.2-1.8 4-4 4h0"}),f.jsx("circle",{cx:"12",cy:"5",r:"2"})]}),uS=t=>f.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M12 22c-3.3 0-6-2.7-6-6v-2a6 6 0 1 1 12 0v2c0 3.3-2.7 6-6 6z"}),f.jsx("path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"}),f.jsx("path",{d:"M12 4V2"}),f.jsx("path",{d:"M12 20v2"}),f.jsx("path",{d:"m4.9 4.9 1.4 1.4"}),f.jsx("path",{d:"m17.7 17.7 1.4 1.4"}),f.jsx("path",{d:"M2 12h2"}),f.jsx("path",{d:"M20 12h2"}),f.jsx("path",{d:"m4.9 19.1 1.4-1.4"}),f.jsx("path",{d:"m17.7 6.3 1.4-1.4"})]}),dS=t=>f.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M12 22c-3.3 0-6-2.7-6-6v-2a6 6 0 1 1 12 0v2c0 3.3-2.7 6-6 6z"}),f.jsx("path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"}),f.jsx("path",{d:"M12 4V2"}),f.jsx("path",{d:"M12 20v2"}),f.jsx("path",{d:"m4.9 4.9 1.4 1.4"}),f.jsx("path",{d:"m17.7 17.7 1.4 1.4"}),f.jsx("path",{d:"M2 12h2"}),f.jsx("path",{d:"M20 12h2"}),f.jsx("path",{d:"m4.9 19.1 1.4-1.4"}),f.jsx("path",{d:"m17.7 6.3 1.4-1.4"})]}),fS=t=>f.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M12 22c-3.3 0-6-2.7-6-6v-2a6 6 0 1 1 12 0v2c0 3.3-2.7 6-6 6z"}),f.jsx("path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"}),f.jsx("path",{d:"M12 4V2"}),f.jsx("path",{d:"M12 20v2"}),f.jsx("path",{d:"m4.9 4.9 1.4 1.4"}),f.jsx("path",{d:"m17.7 17.7 1.4 1.4"}),f.jsx("path",{d:"M2 12h2"}),f.jsx("path",{d:"M20 12h2"}),f.jsx("path",{d:"m4.9 19.1 1.4-1.4"}),f.jsx("path",{d:"m17.7 6.3 1.4-1.4"})]}),Xt={sleep:{id:"sleep",title:"Analisi del Sonno",Icon:aS,questions:[{text:"Quante ore dormi in media per notte?",options:[{text:"Meno di 5 ore",value:1},{text:"5-6 ore",value:2},{text:"7-8 ore",value:4},{text:"Pi di 8 ore",value:3}]},{text:"Ti svegli durante la notte?",options:[{text:"Spesso",value:1},{text:"A volte",value:2},{text:"Raramente",value:3},{text:"Mai",value:4}]},{text:"Come ti senti al risveglio?",options:[{text:"Stanco e non riposato",value:1},{text:"Leggermente stanco",value:2},{text:"Abbastanza riposato",value:3},{text:"Pieno di energie",value:4}]},{text:"Quanto tempo impieghi per addormentarti?",options:[{text:"Pi di 60 minuti",value:1},{text:"30-60 minuti",value:2},{text:"15-30 minuti",value:3},{text:"Meno di 15 minuti",value:4}]},{text:"Usi dispositivi elettronici (telefono, TV) prima di dormire?",options:[{text:"Sempre, fino a un attimo prima",value:1},{text:"Spesso",value:2},{text:"A volte",value:3},{text:"Raramente o mai",value:4}]},{text:"La tua camera da letto  buia e silenziosa?",options:[{text:"No,  luminosa e/o rumorosa",value:1},{text:"Abbastanza",value:2},{text:"S, per la maggior parte",value:3},{text:"S, completamente",value:4}]},{text:"Ti capita di russare o avere apnee notturne?",options:[{text:"S, mi  stato detto spesso",value:1},{text:"A volte",value:2},{text:"Non che io sappia",value:3},{text:"No, mai",value:4}]},{text:"Hai orari di sonno regolari (anche nel weekend)?",options:[{text:"No, molto irregolari",value:1},{text:"Abbastanza irregolari",value:2},{text:"Abbastanza regolari",value:3},{text:"S, molto regolari",value:4}]},{text:"Bevi caff o alcolici nelle ore serali?",options:[{text:"S, regolarmente",value:1},{text:"Spesso",value:2},{text:"A volte",value:3},{text:"Raramente o mai",value:4}]},{text:"Fai attivit fisica intensa poco prima di coricarti?",options:[{text:"S, regolarmente",value:1},{text:"Spesso",value:2},{text:"A volte",value:3},{text:"Raramente o mai",value:4}]},{text:"Ti senti assonnato durante il giorno?",options:[{text:"Molto, fatico a rimanere sveglio",value:1},{text:"Abbastanza",value:2},{text:"Un po'",value:3},{text:"Per niente",value:4}]},{text:"Fai sonnellini durante il giorno?",options:[{text:"S, lunghi e spesso",value:1},{text:"S, ma brevi (meno di 30 min)",value:3},{text:"Raramente",value:4},{text:"Quasi mai",value:2}]},{text:"La temperatura della tua camera  confortevole?",options:[{text:"No, troppo calda o troppo fredda",value:1},{text:"A volte s, a volte no",value:2},{text:"Generalmente s",value:3},{text:"S,  ideale",value:4}]},{text:"Il tuo materasso e cuscino sono comodi?",options:[{text:"No, per niente",value:1},{text:"Potrebbero essere migliori",value:2},{text:"S, abbastanza",value:3},{text:"S, molto comodi",value:4}]},{text:"Hai pensieri stressanti o ansiosi quando vai a letto?",options:[{text:"S, quasi ogni sera",value:1},{text:"Spesso",value:2},{text:"A volte",value:3},{text:"Raramente",value:4}]},{text:"Ceni molto tardi o in modo pesante?",options:[{text:"S, quasi sempre",value:1},{text:"Spesso",value:2},{text:"A volte",value:3},{text:"Raramente o mai",value:4}]},{text:"Ti alzi per andare in bagno durante la notte?",options:[{text:"Pi di due volte",value:1},{text:"Una o due volte",value:2},{text:"Raramente",value:3},{text:"Mai",value:4}]},{text:"Come giudicheresti la qualit generale del tuo sonno?",options:[{text:"Molto scarsa",value:1},{text:"Scarsa",value:2},{text:"Buona",value:3},{text:"Eccellente",value:4}]},{text:"Soffri di crampi o sindrome delle gambe senza riposo?",options:[{text:"S, frequentemente",value:1},{text:"A volte",value:2},{text:"Raramente",value:3},{text:"Mai",value:4}]},{text:"Assumi farmaci o integratori per dormire?",options:[{text:"S, regolarmente",value:1},{text:"Occasionalmente",value:2},{text:"Molto raramente",value:3},{text:"Mai",value:4}]}],results:[{scoreMin:20,scoreMax:40,title:"Qualit del sonno molto scarsa",summary:"Il tuo sonno sembra essere significativamente disturbato.  fondamentale indagare le cause e adottare strategie mirate per migliorare il riposo notturno."},{scoreMin:41,scoreMax:60,title:"Qualit del sonno migliorabile",summary:"Ci sono diversi aspetti del tuo sonno che possono essere migliorati. Piccoli cambiamenti nelle tue abitudini potrebbero fare una grande differenza."},{scoreMin:61,scoreMax:80,title:"Buona qualit del sonno",summary:"Hai delle buone abitudini di sonno, ma c' ancora margine per ottimizzare il tuo riposo e massimizzare i benefici per la tua salute."}]},fitness:{id:"fitness",title:"Analisi Fitness",Icon:cS,questions:[{text:"Quante volte a settimana fai attivit fisica aerobica (corsa, nuoto, bici)?",options:[{text:"Mai",value:1},{text:"1-2 volte",value:2},{text:"3-4 volte",value:3},{text:"5 o pi volte",value:4}]},{text:"Quanto dura in media una tua sessione di allenamento?",options:[{text:"Meno di 20 minuti",value:1},{text:"20-40 minuti",value:2},{text:"40-60 minuti",value:3},{text:"Pi di 60 minuti",value:4}]},{text:"Includi esercizi di forza (pesi, corpo libero) nella tua routine?",options:[{text:"Mai",value:1},{text:"Raramente",value:2},{text:"1-2 volte a settimana",value:3},{text:"3 o pi volte a settimana",value:4}]},{text:"Come percepisci l'intensit del tuo allenamento tipico?",options:[{text:"Molto leggera",value:1},{text:"Leggera",value:2},{text:"Moderata",value:3},{text:"Intensa",value:4}]},{text:"Fai stretching o esercizi di flessibilit?",options:[{text:"Mai",value:1},{text:"Raramente",value:2},{text:"Dopo ogni allenamento",value:4},{text:"Alcune volte a settimana",value:3}]},{text:"Quanti passi fai in media al giorno?",options:[{text:"Meno di 3.000",value:1},{text:"3.000 - 6.000",value:2},{text:"6.000 - 10.000",value:3},{text:"Pi di 10.000",value:4}]},{text:"Passi la maggior parte della tua giornata seduto?",options:[{text:"S, quasi tutto il giorno",value:1},{text:"S, pi di met giornata",value:2},{text:"No, sono spesso in movimento",value:3},{text:"No, ho un lavoro molto attivo",value:4}]},{text:"Riesci a salire 3 piani di scale senza affanno eccessivo?",options:[{text:"No, con molta fatica",value:1},{text:"S, ma con un po' di affanno",value:2},{text:"S, abbastanza facilmente",value:3},{text:"S, senza problemi",value:4}]},{text:"Ti dedichi al riscaldamento prima dell'allenamento e al defaticamento dopo?",options:[{text:"Mai",value:1},{text:"Raramente",value:2},{text:"A volte",value:3},{text:"Sempre",value:4}]},{text:"Come ti senti dopo un'attivit fisica?",options:[{text:"Esausto e dolorante per giorni",value:1},{text:"Molto stanco",value:2},{text:"Piacevolmente stanco",value:3},{text:"Energizzato",value:4}]},{text:"Hai un obiettivo di fitness specifico (es. perdere peso, aumentare la massa muscolare)?",options:[{text:"No, nessuno",value:1},{text:"S, ma non lo seguo con costanza",value:2},{text:"S, e lo seguo abbastanza bene",value:3},{text:"S, e sono molto disciplinato",value:4}]},{text:"La tua routine di allenamento  varia?",options:[{text:"No, faccio sempre le stesse cose",value:1},{text:"Non molto, vario raramente",value:2},{text:"S, cerco di variare",value:3},{text:"S,  molto diversificata",value:4}]},{text:"Ti alleni da solo o in compagnia?",options:[{text:"Sempre da solo",value:2},{text:"Preferibilmente in compagnia",value:3},{text:"Dipende, entrambi",value:4},{text:"Non mi alleno",value:1}]},{text:"Quanto  importante l'attivit fisica nella tua vita?",options:[{text:"Per niente",value:1},{text:"Poco",value:2},{text:"Abbastanza",value:3},{text:"Molto",value:4}]},{text:"Hai mai avuto infortuni legati all'attivit fisica?",options:[{text:"S, e mi impedisce di allenarmi",value:1},{text:"S, pi di uno in passato",value:2},{text:"S, ma di lieve entit",value:3},{text:"No, mai",value:4}]},{text:"Come recuperi dopo l'allenamento (sonno, alimentazione)?",options:[{text:"Non ci presto attenzione",value:1},{text:"Potrei fare di pi",value:2},{text:"Ci sto attento",value:3},{text:"Il recupero  una mia priorit",value:4}]},{text:"Ascolti i segnali del tuo corpo (es. ti fermi se senti dolore)?",options:[{text:"No, tendo a ignorarli",value:1},{text:"Non sempre",value:2},{text:"Generalmente s",value:3},{text:"S, sempre",value:4}]},{text:"Ti idrati a sufficienza durante il giorno e l'allenamento?",options:[{text:"No, bevo molto poco",value:1},{text:"Potrei bere di pi",value:2},{text:"S, bevo regolarmente",value:3},{text:"S, sono molto attento all'idratazione",value:4}]},{text:"La tua motivazione ad allenarti  costante?",options:[{text:"No,  molto altalenante",value:1},{text:"A volte c', a volte no",value:2},{text:" abbastanza costante",value:3},{text:"S, sono molto motivato",value:4}]},{text:"Come giudichi il tuo attuale livello di forma fisica?",options:[{text:"Molto scarso",value:1},{text:"Scarsa",value:2},{text:"Buono",value:3},{text:"Eccellente",value:4}]}],results:[{scoreMin:20,scoreMax:40,title:"Livello di fitness da migliorare",summary:"La tua routine di attivit fisica sembra essere limitata. Incrementare gradualmente l'esercizio fisico porterebbe notevoli benefici alla tua salute generale."},{scoreMin:41,scoreMax:60,title:"Livello di fitness discreto",summary:"Hai una base di attivit fisica, ma c' un ampio margine di miglioramento. Aumentare la frequenza, la durata o l'intensit potrebbe essere il prossimo passo."},{scoreMin:61,scoreMax:80,title:"Buon livello di fitness",summary:"Sei una persona attiva e hai un buon livello di forma fisica. Continua cos e valuta di inserire nuove sfide per mantenere alta la motivazione."}]},stress:{id:"stress",title:"Analisi Ansia e Stress",Icon:uS,questions:[{text:"Con che frequenza ti senti nervoso o ansioso?",options:[{text:"Quasi ogni giorno",value:1},{text:"Pi della met dei giorni",value:2},{text:"Alcuni giorni",value:3},{text:"Raramente o mai",value:4}]},{text:"Riesci a controllare le tue preoccupazioni?",options:[{text:"No,  molto difficile",value:1},{text:"A volte, con sforzo",value:2},{text:"Generalmente s",value:3},{text:"S, facilmente",value:4}]},{text:"Ti capita di sentirti improvvisamente spaventato o in preda al panico?",options:[{text:"Spesso",value:1},{text:"A volte",value:2},{text:"Raramente",value:3},{text:"Mai",value:4}]},{text:"Hai difficolt a rilassarti?",options:[{text:"S, quasi sempre",value:1},{text:"Spesso",value:2},{text:"A volte",value:3},{text:"Raramente",value:4}]},{text:"Ti senti irritabile o ti arrabbi facilmente?",options:[{text:"Molto spesso",value:1},{text:"Spesso",value:2},{text:"A volte",value:3},{text:"Raramente",value:4}]},{text:"Hai difficolt di concentrazione?",options:[{text:"S, quasi sempre",value:1},{text:"Spesso",value:2},{text:"A volte",value:3},{text:"Raramente",value:4}]},{text:"Soffri di mal di testa, mal di stomaco o tensioni muscolari inspiegabili?",options:[{text:"S, frequentemente",value:1},{text:"A volte",value:2},{text:"Raramente",value:3},{text:"Mai",value:4}]},{text:"Dedichi del tempo ad attivit che ti rilassano (hobby, meditazione, ecc.)?",options:[{text:"Mai",value:1},{text:"Raramente",value:2},{text:"A volte",value:3},{text:"Regolarmente",value:4}]},{text:"Ti senti sopraffatto dalle tue responsabilit?",options:[{text:"Quasi sempre",value:1},{text:"Spesso",value:2},{text:"A volte",value:3},{text:"Raramente",value:4}]},{text:"Hai qualcuno con cui parlare apertamente dei tuoi problemi?",options:[{text:"No, nessuno",value:1},{text:"Poche persone",value:2},{text:"S, alcuni amici/familiari",value:3},{text:"S, una solida rete di supporto",value:4}]},{text:"Come gestisci le situazioni impreviste o i cambiamenti?",options:[{text:"Vado in panico",value:1},{text:"Con molta difficolt",value:2},{text:"Mi adatto, anche se con fatica",value:3},{text:"Con flessibilit",value:4}]},{text:"Ti senti ottimista riguardo al futuro?",options:[{text:"No, per niente",value:1},{text:"Poco",value:2},{text:"Abbastanza",value:3},{text:"S, molto",value:4}]},{text:"Hai problemi a prendere decisioni?",options:[{text:"S, anche per le piccole cose",value:1},{text:"Spesso",value:2},{text:"A volte",value:3},{text:"Raramente",value:4}]},{text:"Ti senti stanco o senza energie anche senza sforzo fisico?",options:[{text:"Quasi sempre",value:1},{text:"Spesso",value:2},{text:"A volte",value:3},{text:"Raramente",value:4}]},{text:"Il tuo appetito  cambiato a causa dello stress (mangi di pi o di meno)?",options:[{text:"S,  cambiato notevolmente",value:1},{text:"Un po'",value:2},{text:"Non che io abbia notato",value:3},{text:"No,  rimasto uguale",value:4}]},{text:"Riesci a dire 'no' quando ti vengono chieste troppe cose?",options:[{text:"No, mai",value:1},{text:"Raramente, mi sento in colpa",value:2},{text:"A volte, ma con difficolt",value:3},{text:"S, riesco a stabilire i miei limiti",value:4}]},{text:"Pensi in modo catastrofico, immaginando sempre il peggio?",options:[{text:"S,  il mio modo di pensare abituale",value:1},{text:"Spesso",value:2},{text:"A volte",value:3},{text:"Raramente",value:4}]},{text:"Come giudichi la tua capacit di gestire lo stress?",options:[{text:"Molto bassa",value:1},{text:"Bassa",value:2},{text:"Discreta",value:3},{text:"Buona",value:4}]},{text:"Ti senti disconnesso dagli altri o isolato?",options:[{text:"S, molto spesso",value:1},{text:"Spesso",value:2},{text:"A volte",value:3},{text:"Raramente",value:4}]},{text:"Hai perso interesse o piacere nelle attivit che prima ti piacevano?",options:[{text:"S, in quasi tutto",value:1},{text:"In molte cose",value:2},{text:"In alcune cose",value:3},{text:"No, per niente",value:4}]}],results:[{scoreMin:20,scoreMax:40,title:"Livello di stress e ansia elevato",summary:"I risultati indicano un livello significativo di stress e ansia. Potrebbe essere molto utile esplorare tecniche di gestione dello stress e, se necessario, consultare un professionista."},{scoreMin:41,scoreMax:60,title:"Livello di stress e ansia moderato",summary:"Sperimenti periodi di stress e ansia che influenzano il tuo benessere. Imparare nuove strategie di coping potrebbe aiutarti a gestire meglio queste situazioni."},{scoreMin:61,scoreMax:80,title:"Buona gestione dello stress",summary:"Sembra che tu abbia delle buone strategie per gestire lo stress e l'ansia. Continua a prenderti cura del tuo benessere mentale e a coltivare le tue risorse."}]},diet:{id:"diet",title:"Analisi Dietetica",Icon:dS,questions:[{text:"Quante porzioni di frutta e verdura consumi al giorno?",options:[{text:"0-1",value:1},{text:"2-3",value:2},{text:"4-5",value:3},{text:"Pi di 5",value:4}]},{text:"Che tipo di carboidrati scegli prevalentemente?",options:[{text:"Raffinati (pane bianco, pasta, riso bianco)",value:1},{text:"Un mix di raffinati e integrali",value:2},{text:"Prevalentemente integrali",value:3},{text:"Integrali e legumi",value:4}]},{text:"Quante volte a settimana mangi pesce, specialmente quello azzurro?",options:[{text:"Mai",value:1},{text:"Meno di una volta",value:2},{text:"1-2 volte",value:4},{text:"Pi di 2 volte",value:3}]},{text:"Qual  la tua principale fonte di proteine?",options:[{text:"Carne rossa e processata",value:1},{text:"Carne bianca e formaggi",value:2},{text:"Un mix che include legumi e pesce",value:3},{text:"Prevalentemente fonti vegetali (legumi, tofu)",value:4}]},{text:"Consumi bevande zuccherate (bibite, succhi di frutta confezionati)?",options:[{text:"Ogni giorno",value:1},{text:"Diverse volte a settimana",value:2},{text:"Raramente",value:3},{text:"Mai",value:4}]},{text:"Quanti caff bevi al giorno?",options:[{text:"Pi di 4",value:1},{text:"3-4",value:2},{text:"1-2",value:3},{text:"Nessuno o decaffeinato",value:4}]},{text:"Fai regolarmente colazione?",options:[{text:"No, mai",value:1},{text:"A volte",value:2},{text:"S, ma con prodotti confezionati/zuccherati",value:3},{text:"S, una colazione equilibrata",value:4}]},{text:"Consumi cibi fritti o molto processati (fast food, snack confezionati)?",options:[{text:"Spesso, pi volte a settimana",value:1},{text:"Circa una volta a settimana",value:2},{text:"Un paio di volte al mese",value:3},{text:"Molto raramente o mai",value:4}]},{text:"Quanta acqua bevi al giorno?",options:[{text:"Meno di 1 litro",value:1},{text:"Circa 1 litro",value:2},{text:"1.5 - 2 litri",value:3},{text:"Pi di 2 litri",value:4}]},{text:"Soffri di gonfiore, pesantezza o altri disturbi digestivi dopo i pasti?",options:[{text:"S, molto spesso",value:1},{text:"Spesso",value:2},{text:"A volte",value:3},{text:"Raramente",value:4}]},{text:"Quante volte a settimana consumi legumi (fagioli, lenticchie, ceci)?",options:[{text:"Mai",value:1},{text:"Meno di una volta",value:2},{text:"1-2 volte",value:3},{text:"3 o pi volte",value:4}]},{text:"Che tipo di grassi usi per cucinare?",options:[{text:"Burro, margarina, strutto",value:1},{text:"Oli di semi vari (girasole, mais)",value:2},{text:"Principalmente olio extra vergine d'oliva",value:4},{text:"Un mix, con prevalenza di olio EVO",value:3}]},{text:"Leggi le etichette nutrizionali dei prodotti che acquisti?",options:[{text:"No, mai",value:1},{text:"Raramente",value:2},{text:"A volte, per alcuni prodotti",value:3},{text:"S, quasi sempre",value:4}]},{text:"I tuoi pasti sono regolari o tendi a saltarli?",options:[{text:"Spesso salto i pasti",value:1},{text:"A volte ne salto uno",value:2},{text:"Cerco di essere regolare",value:3},{text:"Ho orari molto regolari",value:4}]},{text:"Mangi di fretta, magari in piedi o davanti a uno schermo?",options:[{text:"S, quasi sempre",value:1},{text:"Spesso",value:2},{text:"A volte",value:3},{text:"Raramente, mi prendo il mio tempo",value:4}]},{text:"Consumi dolci, torte o biscotti?",options:[{text:"Ogni giorno",value:1},{text:"Diverse volte a settimana",value:2},{text:"Solo nel weekend o in occasioni speciali",value:3},{text:"Molto raramente",value:4}]},{text:"Includi frutta secca e semi nella tua dieta?",options:[{text:"No, mai",value:1},{text:"Raramente",value:2},{text:"Qualche volta a settimana",value:3},{text:"S, una piccola porzione quasi ogni giorno",value:4}]},{text:"Quante volte a settimana mangi carne rossa?",options:[{text:"Pi di 3 volte",value:1},{text:"2-3 volte",value:2},{text:"Una volta",value:3},{text:"Raramente o mai",value:4}]},{text:"Assumi integratori alimentari?",options:[{text:"S, diversi e senza consulto medico",value:1},{text:"S, su consiglio del medico/farmacista",value:4},{text:"A volte, quando mi sento stanco",value:2},{text:"No, mai",value:3}]},{text:"Come descriveresti la tua dieta nel complesso?",options:[{text:"Poco sana e sbilanciata",value:1},{text:"Potrebbe essere molto migliore",value:2},{text:"Abbastanza sana ed equilibrata",value:3},{text:"Molto sana e varia",value:4}]}],results:[{scoreMin:20,scoreMax:40,title:"Abitudini alimentari da rivedere",summary:"La tua dieta attuale presenta diverse aree di miglioramento. Potrebbe essere utile concentrarsi sull'introduzione di cibi pi freschi e nutrienti e sulla riduzione di quelli processati."},{scoreMin:41,scoreMax:60,title:"Abitudini alimentari discrete",summary:"Hai una buona base, ma ci sono alcuni aspetti della tua alimentazione che, se modificati, potrebbero portare a un maggiore benessere generale."},{scoreMin:61,scoreMax:80,title:"Buone abitudini alimentari",summary:"Segui una dieta generalmente sana ed equilibrata. Continua a fare scelte consapevoli per mantenere il tuo stato di salute ottimale."}]},microbiome:{id:"microbiome",title:"Analisi del Microbioma",Icon:fS,questions:[{text:"Quanta fibra assumi giornalmente (da frutta, verdura, legumi, cereali integrali)?",options:[{text:"Molto poca",value:1},{text:"Una quantit moderata",value:2},{text:"Una buona quantit",value:3},{text:"Molta, ad ogni pasto",value:4}]},{text:"Consumi cibi fermentati (yogurt con fermenti vivi, kefir, crauti, kombucha)?",options:[{text:"Mai",value:1},{text:"Raramente",value:2},{text:"Qualche volta a settimana",value:3},{text:"Quasi ogni giorno",value:4}]},{text:"La tua dieta  varia o tendi a mangiare sempre le stesse cose?",options:[{text:"Mangio sempre le stesse cose",value:1},{text:"Poco varia",value:2},{text:"Abbastanza varia",value:3},{text:"Molto varia, provo spesso nuovi alimenti",value:4}]},{text:"Hai fatto uso di antibiotici negli ultimi 6 mesi?",options:[{text:"S, per un lungo periodo o pi cicli",value:1},{text:"S, un ciclo breve",value:2},{text:"No",value:4},{text:"Non ricordo",value:3}]},{text:"La tua regolarit intestinale :",options:[{text:"Molto irregolare (stitichezza o diarrea frequenti)",value:1},{text:"A volte irregolare",value:2},{text:"Generalmente regolare",value:3},{text:"Molto regolare",value:4}]},{text:"Soffri di intolleranze o sensibilit alimentari (glutine, lattosio, ecc.)?",options:[{text:"S, a diversi alimenti",value:1},{text:"S, a uno o due alimenti",value:2},{text:"Sospetto di averne, ma non ho diagnosi",value:3},{text:"No, che io sappia",value:4}]},{text:"Consumi dolcificanti artificiali (aspartame, sucralosio)?",options:[{text:"S, quotidianamente",value:1},{text:"Spesso",value:2},{text:"Raramente",value:3},{text:"Mai",value:4}]},{text:"Includi nella tua dieta polifenoli (presenti in t verde, caff, cioccolato fondente, frutti di bosco)?",options:[{text:"Raramente o mai",value:1},{text:"A volte",value:2},{text:"Spesso",value:3},{text:"S, regolarmente",value:4}]},{text:"Il tuo livello di stress quotidiano :",options:[{text:"Molto alto",value:1},{text:"Alto",value:2},{text:"Moderato",value:3},{text:"Basso",value:4}]},{text:"Passi del tempo all'aria aperta o a contatto con la natura?",options:[{text:"Molto raramente",value:1},{text:"A volte, nel weekend",value:2},{text:"Abbastanza spesso",value:3},{text:"S, quotidianamente",value:4}]},{text:"Consumi aglio, cipolle, porri o asparagi (fonti di prebiotici)?",options:[{text:"Mai o quasi mai",value:1},{text:"Raramente",value:2},{text:"Qualche volta a settimana",value:3},{text:"Spesso",value:4}]},{text:"Hai animali domestici in casa?",options:[{text:"S",value:4},{text:"No",value:2},{text:"Ne ho avuti in passato",value:3},{text:"Non risponde",value:1}]},{text:"La tua nascita  avvenuta con parto naturale o cesareo?",options:[{text:"Cesareo",value:2},{text:"Naturale",value:4},{text:"Non lo so",value:3},{text:"Non risponde",value:1}]},{text:"Sei stato allattato al seno da bambino?",options:[{text:"No",value:2},{text:"S, per alcuni mesi",value:3},{text:"S, per pi di 6 mesi",value:4},{text:"Non lo so",value:1}]},{text:"Soffri di malattie infiammatorie croniche intestinali (es. Crohn, colite ulcerosa) o sindrome dell'intestino irritabile (IBS)?",options:[{text:"S, ho una diagnosi",value:1},{text:"Ho sintomi ma nessuna diagnosi",value:2},{text:"No",value:4},{text:"Non risponde",value:3}]},{text:"Fumi?",options:[{text:"S, regolarmente",value:1},{text:"Occasionalmente",value:2},{text:"Ho smesso da poco",value:3},{text:"No, non fumo",value:4}]},{text:"Bevi alcolici?",options:[{text:"Ogni giorno",value:1},{text:"Diverse volte a settimana",value:2},{text:"Solo occasionalmente (es. nel weekend)",value:3},{text:"Molto raramente o mai",value:4}]},{text:"Dormi un numero sufficiente di ore per notte?",options:[{text:"No, dormo poco e male",value:1},{text:"A volte non abbastanza",value:2},{text:"Generalmente s",value:3},{text:"S, dormo bene e a sufficienza",value:4}]},{text:"Fai attivit fisica regolarmente?",options:[{text:"No, sono sedentario",value:1},{text:"Raramente",value:2},{text:"Qualche volta a settimana",value:3},{text:"S, regolarmente",value:4}]},{text:"Soffri di allergie o malattie autoimmuni?",options:[{text:"S, pi di una",value:1},{text:"S, una",value:2},{text:"No",value:4},{text:"Non che io sappia",value:3}]}],results:[{scoreMin:20,scoreMax:40,title:"Microbioma potenzialmente in disbiosi",summary:"Diversi fattori nel tuo stile di vita potrebbero non supportare un microbioma sano. Potrebbe essere utile concentrarsi su una dieta pi varia e ricca di fibre e prebiotici."},{scoreMin:41,scoreMax:60,title:"Equilibrio del microbioma migliorabile",summary:"Ci sono buone basi, ma alcuni aspetti possono essere ottimizzati per favorire ulteriormente la salute del tuo intestino e, di conseguenza, di tutto l'organismo."},{scoreMin:61,scoreMax:80,title:"Buon supporto al microbioma",summary:"Il tuo stile di vita sembra essere generalmente favorevole a un microbioma sano ed equilibrato. Continua a prenderti cura del tuo intestino con scelte alimentari consapevoli."}]}},ni={start:{id:"start",name:" Programma Start: Routine del Benessere",subtitle:" La Settimana del Successo",description:"Completa le attivit giornaliere e settimanali per costruire abitudini sane e accumulare punti.",Icon:"",numWeeks:10,daily:[{id:"start_d_new_0",title:"Meditare regolarmente",Icon:"",description:"1520 minuti prima di dormire.",points:5,remindable:!0,reminderConfig:{type:"daily",time:"22:00"}},{id:"start_d_new_1",title:"Orari regolari (mattina)",Icon:"",description:"Sveglia costante.",points:5},{id:"start_d_new_2",title:"Orari regolari (sera)",Icon:"",description:"Orario fisso per dormire.",points:5},{id:"start_d_new_3",title:"Stretching o movimento",Icon:"",description:"Durante la giornata.",points:5},{id:"start_d_new_4",title:"Evitare caffeina",Icon:"",description:"Nel pomeriggio e sera.",points:5},{id:"start_d_new_5",title:"Evitare alcol",Icon:"",description:"Nel pomeriggio e sera.",points:5},{id:"start_d_new_6",title:"Rilassamento muscolare",Icon:"",description:"Prima di dormire.",points:5},{id:"start_d_new_7",title:"Spegnere dispositivi",Icon:"",description:"Almeno 1h prima di dormire.",points:5},{id:"start_d_new_8",title:"Leggere un libro",Icon:"",description:"Attivit serale.",points:5},{id:"start_d_new_9",title:"Bagno caldo",Icon:"",description:"Relax serale.",points:5},{id:"start_d_new_10",title:"Tracciare abitudini",Icon:"",description:"Diario del sonno.",points:5},{id:"start_d_new_11",title:"Terapia binaurale",Icon:"",description:"Onde Alpha/Delta.",points:5},{id:"start_d_new_12",title:"Fitoterapia",Icon:"",description:"Se indicata.",points:5},{id:"start_d_new_13",title:"Idratazione",Icon:"",description:"8 bicchieri dacqua.",points:5,remindable:!0,reminderConfig:{type:"interval",hours:2,startHour:9,endHour:19}},{id:"start_d_new_14",title:"Oli essenziali",Icon:"",description:"Relax serale.",points:5},{id:"start_d_new_15",title:"Autocompassione",Icon:"",description:"Gentilezza verso s.",points:5},{id:"start_d_new_16",title:"Passeggiata allaperto",Icon:"",description:"1020 minuti.",points:5},{id:"start_d_new_17",title:"Gratitudine",Icon:"",description:"Esercizi positivi.",points:5},{id:"start_d_new_18",title:"Musica rilassante",Icon:"",description:"Ascolto consapevole.",points:5},{id:"start_d_new_19",title:"Creativit",Icon:"",description:"Disegno, scrittura, ecc.",points:5},{id:"start_d_new_20",title:"Limitare social media",Icon:"",description:"<30 min al giorno.",points:5},{id:"start_d_new_21",title:"Pianificare pasti",Icon:"",description:"Organizzazione settimanale.",points:5},{id:"start_d_new_22",title:"Verdure a foglia verde",Icon:"",description:"Almeno una porzione.",points:5},{id:"start_d_new_23",title:"Detox digitale",Icon:"",description:"1 giorno senza schermi.",points:10},{id:"start_d_new_24",title:"Meditazione serale (ripetuta)",Icon:"",description:"Seconda sessione.",points:5}],weekly:[{id:"start_w_s3_1",title:"Weekend con alimentazione salutare",description:"Frutta, verdura, omega-3, proteine magre per almeno 2 giorni.",points:30,Icon:""},{id:"start_w_s3_2",title:"Terapia Cranio-Sacrale",description:"1 sessione settimanale per rilassare il sistema nervoso.",points:25,Icon:""},{id:"start_w_s3_3",title:"Cibi ricchi di omega-3",description:"Almeno 3 volte a settimana (es. salmone, noci, semi di lino).",points:15,Icon:""},{id:"start_w_s3_4",title:"Settimana senza Alcol",description:"Evita completamente il consumo di alcolici per 7 giorni.",points:20,Icon:""},{id:"start_w_s3_5",title:"Meal Prep",description:"Prepara i pasti in lotti per la settimana.",points:10,Icon:""},{id:"start_w_s3_6",title:"Yoga o Pilates",description:"Partecipa ad almeno 1 sessione settimanale.",points:20,Icon:""},{id:"start_w_s3_7",title:"Sauna infrarossi",description:"1 sessione per rilassare corpo e mente.",points:30,Icon:""},{id:"start_w_s3_8",title:"Zona 2  Attivit fisica",description:"2 sessioni di movimento aerobico a bassa intensit.",points:80,Icon:""},{id:"start_w_s3_9",title:"Tisana Detox",description:"Bevi almeno 3 tisane depurative durante la settimana.",points:20,Icon:""},{id:"start_w_s3_10",title:"Terapia binaurale/mindfulness",description:"2 sessioni di ascolto consapevole o meditazione guidata.",points:40,Icon:""},{id:"start_w_s3_11",title:"Massaggio rilassante",description:"1 sessione settimanale per sciogliere tensioni muscolari.",points:50,Icon:""},{id:"start_w_s3_12",title:"Biofeedback",description:"1 sessione con coerenza cardiaca.",points:30,Icon:""},{id:"start_w_s3_13",title:"Stimolazione Nervo Vago",description:"Tecnica di rilassamento vagale (es. vocalizzi, respirazione lenta).",points:30,Icon:""},{id:"start_w_s3_14",title:"Programma combinato",description:"Sauna + massaggio + terapia binaurale + fitoterapia in ununica sessione.",points:150,Icon:""}]},food_level_1:{id:"food_level_1",name:"Missione Alimentare: Livello 1",subtitle:"La Festa dei Sapori",description:"Migliora le tue abitudini con queste missioni giornaliere e settimanali.",Icon:"",dailyTarget:35,numWeeks:10,daily:[{id:"food1_d_1",title:"Riduzione dello Zucchero (1 giorno)",Icon:"",description:"Evita dolci e bevande zuccherate per tutta la giornata.",points:10},{id:"food1_d_2",title:"Introduzione dei Legumi",Icon:"",description:"Integra legumi in almeno un pasto del giorno.",points:10},{id:"food1_d_3",title:"Colazione Equilibrata",Icon:"",description:"Yogurt greco, frutta fresca, granola integrale. Bevanda: t verde.",points:5},{id:"food1_d_4",title:"Smoothie Detox",Icon:"",description:"Spinaci, banana, ananas, semi di chia. Bevanda: acqua di cocco.",points:5},{id:"food1_d_5",title:"Spuntino Sano",Icon:"",description:"Carote e sedano con guacamole. Bevanda: tisana al finocchio.",points:5},{id:"food1_d_6",title:"Cena Light",Icon:"",description:"Pesce al vapore, patate dolci, asparagi. Bevanda: t alla menta.",points:10},{id:"food1_d_7",title:"Insalata Proteica",Icon:"",description:"Pollo grigliato, avocado, pomodorini, semi di zucca. Bevanda: infuso ai frutti di bosco.",points:10}],weekly:[{id:"food1_w_1",title:" Riduzione dello Zucchero",description:"Evitare bevande zuccherate e dolci in almeno due pasti.",points:20,Icon:""},{id:"food1_w_2",title:" Introduzione dei Legumi",description:"Integrare lenticchie, fagioli o ceci in almeno tre pasti.",points:30,Icon:""},{id:"food1_w_3",title:" Cottura al Forno",description:"Sostituire cibi fritti con cottura al forno.",points:20,Icon:""},{id:"food1_w_4",title:" Snack Sani",description:"Frutta secca, noci e semi al posto di snack industriali.",points:20,Icon:""},{id:"food1_w_5",title:" Pasti Bilanciati",description:"Proteine magre, carboidrati complessi e verdure colorate.",points:30,Icon:""},{id:"food1_w_6",title:" Colazione Equilibrata",description:"Yogurt greco, frutta fresca, granola integrale. Bevanda: t verde.",points:20,Icon:""},{id:"food1_w_7",title:" Pranzo Vegetariano",description:"Insalata di quinoa, verdure grigliate, hummus. Bevanda: acqua al limone.",points:30,Icon:""},{id:"food1_w_8",title:" Smoothie Detox",description:"Spinaci, banana, ananas, semi di chia. Bevanda: acqua di cocco.",points:10,Icon:""},{id:"food1_w_9",title:" Spuntino Sano",description:"Carote e sedano con guacamole. Bevanda: tisana al finocchio.",points:10,Icon:""},{id:"food1_w_10",title:" Cena Light",description:"Pesce al vapore, patate dolci, asparagi. Bevanda: t alla menta.",points:30,Icon:""},{id:"food1_w_11",title:" Insalata Proteica",description:"Pollo grigliato, avocado, pomodorini, semi di zucca. Bevanda: infuso ai frutti di bosco.",points:30,Icon:""},{id:"food1_w_12",title:" Giornata di Frutta",description:"Solo frutta fresca (mele, pere, fragole, uva). Bevanda: smoothie di frutta mista.",points:30,Icon:""}]},food_level_2:{id:"food_level_2",name:"Missione Alimentare: Livello 2",subtitle:"Energia in Cucina",description:"Potenzia le tue abitudini con queste missioni giornaliere.",Icon:"",dailyTarget:35,unlocksAt:250,dependsOn:"food_level_1",numWeeks:10,daily:[{id:"food2_d_1",title:"Riduzione dello Zucchero (2 giorni)",Icon:"",description:"Evita dolci e bevande zuccherate per almeno 2 giorni.",points:10},{id:"food2_d_2",title:"Introduzione dei Legumi (2 pasti)",Icon:"",description:"Integra legumi in almeno due pasti.",points:10},{id:"food2_d_3",title:"Colazione Equilibrata (2 volte)",Icon:"",description:"Yogurt, frutta, granola. Bevanda: t verde.",points:5},{id:"food2_d_4",title:"Smoothie Detox (2 volte)",Icon:"",description:"Spinaci, banana, ananas, semi di chia.",points:5},{id:"food2_d_5",title:"Spuntino Sano",Icon:"",description:"Carote e sedano con guacamole.",points:5},{id:"food2_d_6",title:"Cena Light",Icon:"",description:"Pesce al vapore, patate dolci, asparagi.",points:10},{id:"food2_d_7",title:"Cottura al Forno",Icon:"",description:"Sostituisci frittura con cottura al forno.",points:10},{id:"food2_d_8",title:"Snack Sani",Icon:"",description:"Frutta secca, noci, semi.",points:10}],weekly:[]},food_level_3:{id:"food_level_3",name:"Missione Alimentare: Livello 3",subtitle:"Sfida del Gourmet",description:"Diventa un maestro della nutrizione con missioni avanzate.",Icon:"",dailyTarget:35,unlocksAt:300,dependsOn:"food_level_2",numWeeks:10,daily:[{id:"food3_d_1",title:"Riduzione dello Zucchero (5 giorni)",Icon:"",description:"Evita dolci e bevande zuccherate per almeno 5 giorni a settimana.",points:10},{id:"food3_d_2",title:"Introduzione dei Legumi (2 pasti)",Icon:"",description:"Integra legumi in almeno due pasti.",points:10},{id:"food3_d_3",title:"Colazione Equilibrata (4 volte)",Icon:"",description:"Yogurt, frutta, granola. Bevanda: t verde.",points:5},{id:"food3_d_4",title:"Smoothie Detox (4 volte)",Icon:"",description:"Spinaci, banana, ananas, semi di chia.",points:5},{id:"food3_d_5",title:"Spuntino Sano",Icon:"",description:"Carote e sedano con guacamole.",points:5},{id:"food3_d_6",title:"Cena Light",Icon:"",description:"Pesce al vapore, patate dolci, asparagi.",points:10},{id:"food3_d_7",title:"Cottura al Forno",Icon:"",description:"Sostituisci frittura con cottura al forno.",points:10},{id:"food3_d_8",title:"Snack Sani (4 volte)",Icon:"",description:"Frutta secca, noci, semi almeno 4 volte a settimana.",points:10},{id:"food3_d_9",title:"Pasti Bilanciati (4 volte)",Icon:"",description:"Proteine magre, carboidrati complessi, verdure colorate.",points:10},{id:"food3_d_10",title:"Colazione Equilibrata (2 volte)",Icon:"",description:"Seconda sessione settimanale di colazione equilibrata.",points:5},{id:"food3_d_11",title:"Pranzo Vegetariano (4 volte)",Icon:"",description:"Quinoa, verdure grigliate, hummus. Bevanda: acqua aromatizzata.",points:10}],weekly:[]},sleep_level_1:{id:"sleep_level_1",name:"Missione Sonno Giornaliera: Livello 1",subtitle:"Alba Tranquilla",description:"Include tutte le Attivit Giornaliere di base come mantenere orari regolari di sonno e praticare la respirazione profonda prima di dormire.",Icon:"",numWeeks:10,dailyTarget:35,dailyMaxTarget:60,weekly:[],daily:[{id:"sl1_d_1",title:"Orari Regolari di Sonno",Icon:"",description:"Andare a letto e svegliarsi alla stessa ora ogni giorno.",points:10},{id:"sl1_d_2",title:"Respirazione Profonda",Icon:"",description:"Pratica di 1015 minuti prima di dormire.",points:10},{id:"sl1_d_3",title:"No Dispositivi Elettronici",Icon:"",description:"Evita schermi almeno 1 ora prima di dormire.",points:10},{id:"sl1_d_4",title:"Fitoterapici (fase 1)",Icon:"",description:"Assunzione di rimedi naturali se indicati.",points:15},{id:"sl1_d_5",title:"Rilassamento Muscolare",Icon:"",description:"Esercizi di rilassamento per 1015 minuti.",points:10},{id:"sl1_d_6",title:"No Caffeina",Icon:"",description:"Evita caff e t nel pomeriggio e sera.",points:10}]},sleep_level_2:{id:"sleep_level_2",name:"Missione Sonno Giornaliera: Livello 2",subtitle:"Sogno Calmo",description:"Attivit focalizzate sul rilassamento profondo per migliorare la qualit del riposo notturno.",Icon:"",numWeeks:10,dailyTarget:40,dailyMaxTarget:60,unlocksAt:300,dependsOn:"sleep_level_1",weekly:[],daily:[{id:"sl2_d_1",title:"Rilassamento Muscolare Progressivo",Icon:"",description:"20 minuti di rilascio graduale della tensione muscolare.",points:15},{id:"sl2_d_2",title:"Musica Rilassante",Icon:"",description:"Ascolta musica tranquilla per 2030 minuti prima di dormire.",points:10},{id:"sl2_d_3",title:"Fitoterapici (fase 2)",Icon:"",description:"Assunzione di rimedi naturali se indicati per la fase 2 del sonno.",points:15},{id:"sl2_d_4",title:"Visualizzazione Tranquilla",Icon:"",description:"Immagina un luogo sereno per 1015 minuti.",points:15},{id:"sl2_d_5",title:"Bagno Caldo Serale",Icon:"",description:"30 minuti di bagno rilassante prima di dormire.",points:10}]},sleep_level_3:{id:"sleep_level_3",name:"Missione Sonno Giornaliera: Livello 3",subtitle:"Notte Magica",description:"Include tutte le Attivit giornaliere avanzate quali meditazione profonda e tecniche di rilassamento per un riposo ottimale.",Icon:"",numWeeks:10,dailyTarget:45,dailyMaxTarget:60,unlocksAt:300,dependsOn:"sleep_level_2",weekly:[],daily:[{id:"sl3_d_1",title:"Meditazione Guidata per il Sonno",Icon:"",description:"20 minuti di meditazione profonda per favorire il rilassamento.",points:20},{id:"sl3_d_2",title:"Mindfulness Serale",Icon:"",description:"20 minuti di consapevolezza prima di dormire.",points:15},{id:"sl3_d_3",title:"Fitoterapici (fasi 34)",Icon:"",description:"Rimedi naturali per il sonno profondo, se indicati.",points:15},{id:"sl3_d_4",title:"Oli Essenziali di Lavanda",Icon:"",description:"20 minuti di aromaterapia rilassante.",points:15},{id:"sl3_d_5",title:"Stretching Leggero",Icon:"",description:"20 minuti di esercizi dolci prima di coricarsi.",points:15},{id:"sl3_d_6",title:"Visualizzazione Positiva",Icon:"",description:"10 minuti di immagini mentali serene e rassicuranti.",points:15}]},sleep_level_4:{id:"sleep_level_4",name:"Missione Sonno Giornaliera: Livello 4",subtitle:"Sonno Profondo",description:"Include tutte le Attivit giornaliere con tecniche avanzate di gestione del sonno come l'utilizzo di fitoterapici e routine di rilassamento complesse per garantire un sonno ristoratore.",Icon:"",numWeeks:10,dailyTarget:55,dailyMaxTarget:70,unlocksAt:400,dependsOn:"sleep_level_3",weekly:[],daily:[{id:"sl4_d_1",title:"Diario del Sonno",Icon:"",description:"Monitoraggio quotidiano delle abitudini di sonno.",points:15},{id:"sl4_d_2",title:"Fitoterapici (fase REM)",Icon:"",description:"Rimedi naturali per migliorare la fase REM, se indicati.",points:15},{id:"sl4_d_3",title:"Yoga Rilassante",Icon:"",description:"30 minuti di yoga dolce prima di dormire.",points:20},{id:"sl4_d_4",title:"Rilassamento Profondo",Icon:"",description:"20 minuti di tecniche avanzate di rilassamento.",points:20},{id:"sl4_d_5",title:"Gestione del Tempo",Icon:"",description:"Tecniche per ridurre lo stress quotidiano e migliorare la routine serale.",points:15},{id:"sl4_d_6",title:"Attivit Rilassanti Serali",Icon:"",description:"Lettura, scrittura o attivit creative prima di dormire.",points:15}]},anxiety_stress_level_1:{id:"anxiety_stress_level_1",name:"Programma Ansia-Stress: Livello 1",subtitle:"Il Giardino della Serenit",description:"Include tutte le Attivit Settimanali per ridurre Ansia e Stress.",Icon:"",weeklyMinTarget:200,numWeeks:14,daily:[],weekly:[{id:"anxiety1_w_1",title:"Respirazione Profonda",Icon:"",description:"1015 minuti di respirazione lenta e consapevole.",points:10},{id:"anxiety1_w_2",title:"Visualizzazione Rilassante",Icon:"",description:"Immagina un luogo sereno per 1015 minuti.",points:10},{id:"anxiety1_w_3",title:"Camminata Consapevole",Icon:"",description:"30 minuti focalizzati su respiro e ambiente.",points:20},{id:"anxiety1_w_4",title:"Mindfulness",Icon:"",description:"20 minuti di consapevolezza e presenza mentale.",points:20},{id:"anxiety1_w_5",title:"Bagno con Sali di Epsom",Icon:"",description:"20 minuti per rilassare muscoli e tensione.",points:30},{id:"anxiety1_w_6",title:"Diario delle Emozioni",Icon:"",description:"Scrivi pensieri ed emozioni per 15 minuti al giorno.",points:20},{id:"anxiety1_w_7",title:"Terapia dellAbbraccio",Icon:"",description:"Abbraccia una persona cara per almeno 10 minuti.",points:20},{id:"anxiety1_w_8",title:"Aromaterapia",Icon:"",description:"Usa oli essenziali come lavanda o camomilla.",points:20},{id:"anxiety1_w_9",title:"Progresso Graduale",Icon:"",description:"Pianifica e realizza piccoli obiettivi settimanali.",points:20},{id:"anxiety1_w_10",title:"Coping Positivo",Icon:"",description:"Identifica e pratica tecniche di gestione emotiva.",points:20},{id:"anxiety1_w_11",title:"Gratitudine",Icon:"",description:"Scrivi 3 cose per cui sei grato ogni giorno.",points:20},{id:"anxiety1_w_12",title:"Musica Rilassante",Icon:"",description:"Ascolta musica per 2030 minuti focalizzandoti sul rilassamento.",points:10},{id:"anxiety1_w_13",title:"Massaggio ai Piedi",Icon:"",description:"Usa una pallina da tennis o da massaggio.",points:10},{id:"anxiety1_w_14",title:"Grounding",Icon:"",description:"Focalizzati su 5 cose che puoi vedere, toccare, sentire, annusare e gustare.",points:20},{id:"anxiety1_w_15",title:"Espressione Creativa",Icon:"",description:"Disegna, dipingi, scrivi poesie o racconti.",points:20},{id:"anxiety1_w_16",title:"Giornata di Disconnessione",Icon:"",description:"Trascorri una giornata senza dispositivi elettronici.",points:30},{id:"anxiety1_w_17",title:"Yoga Rilassante",Icon:"",description:"Stretching dolce e respirazione consapevole.",points:30},{id:"anxiety1_w_18",title:"Meditazione Guidata per Ansia",Icon:"",description:"Ascolta una meditazione guidata specifica per lansia.",points:20},{id:"anxiety1_w_19",title:"Biofeedback (Ansia)",Icon:"",description:"Sessione di coerenza cardiaca e monitoraggio.",points:60},{id:"anxiety1_w_20",title:"Tai Chi o Qigong",Icon:"",description:"Movimenti lenti e controllati per rilassare corpo e mente.",points:30},{id:"anxiety1_w_21",title:"Stimolazione Nervo Vago",Icon:"",description:"Tecniche vagali per ridurre lo stress.",points:40}]},anxiety_stress_level_2:{id:"anxiety_stress_level_2",name:"Programma Ansia-Stress: Livello 2",subtitle:"Oasi della Tranquillit",description:"Include Attivit Giornaliere pi impegnative per migliorare la gestione di ansia e stress.",Icon:"",dailyTarget:40,unlocksAt:350,dependsOn:"anxiety_stress_level_1",numWeeks:10,daily:[{id:"anxiety2_d_1",title:"Sessione di Mindfulness (20 minuti)",Icon:"",description:"Pratiche di consapevolezza e presenza mentale.",points:20},{id:"anxiety2_d_2",title:"Bagno con Sali di Epsom (20 minuti)",Icon:"",description:"Rilassa i muscoli e allevia la tensione.",points:10},{id:"anxiety2_d_3",title:"Terapia dellAbbraccio (10 minuti)",Icon:"",description:"Abbraccia una persona cara per almeno 10 minuti.",points:5},{id:"anxiety2_d_4",title:"Aromaterapia (20 minuti)",Icon:"",description:"Usa oli essenziali come lavanda o camomilla.",points:10},{id:"anxiety2_d_5",title:"Grounding (cinque sensi)",Icon:"",description:"Focalizzati su ci che puoi vedere, toccare, sentire, annusare e gustare.",points:20}],weekly:[]},anxiety_stress_level_3:{id:"anxiety_stress_level_3",name:"Programma Ansia-Stress: Livello 3",subtitle:"Super Zen",description:"Include Attivit Giornaliere pi avanzate per una gestione ottimale di ansia e stress.",Icon:"",dailyTarget:60,unlocksAt:300,dependsOn:"anxiety_stress_level_2",numWeeks:10,daily:[{id:"anxiety3_d_1",title:"Tecniche di Coping Positivo",Icon:"",description:"Identifica e pratica strategie di gestione emotiva e resilienza.",points:20},{id:"anxiety3_d_2",title:"Espressione Creativa",Icon:"",description:"Disegna, dipingi, scrivi poesie o racconti per liberare le emozioni.",points:20},{id:"anxiety3_d_3",title:"Giornata di Disconnessione",Icon:"",description:"Trascorri una giornata senza dispositivi elettronici.",points:20},{id:"anxiety3_d_4",title:"Meditazione Guidata per Ansia",Icon:"",description:"Ascolta una meditazione guidata specifica per lansia (20 minuti).",points:20},{id:"anxiety3_d_5",title:"Biofeedback per Ansia",Icon:"",description:"Sessione di coerenza cardiaca e monitoraggio per ridurre lo stress.",points:20}],weekly:[]},activity_gold:{id:"activity_gold",name:"Sempre Giovani  Livello Gold",subtitle:"Missione Attivit Fisica Settimanale",description:"Attivit per over 65 con focus su mobilit, forza e resistenza. Sicurezza ed efficacia per il benessere quotidiano.",Icon:"",numWeeks:14,weeklyMinTarget:65,weeklyMaxTarget:150,daily:[],weekly:[{id:"ag_w_1",title:"Passeggiata Attiva",Icon:"",description:"30 minuti a ritmo moderato.",points:30},{id:"ag_w_2",title:"Yoga Dolce",Icon:"",description:"45 minuti di esercizi dolci e respirazione.",points:30},{id:"ag_w_3",title:"Cyclette",Icon:"",description:"2030 minuti a ritmo moderato.",points:40},{id:"ag_w_4",title:"Resistenza Leggera",Icon:"",description:"20 minuti di esercizi con pesi leggeri o elastici.",points:40},{id:"ag_w_5",title:"Camminata in Natura",Icon:"",description:"45 minuti allaperto, in ambiente naturale.",points:45},{id:"ag_w_6",title:"Ginnastica in Acqua",Icon:"",description:"30 minuti di esercizi in piscina.",points:40},{id:"ag_w_7",title:"Stretching e Mobilit",Icon:"",description:"2030 minuti di esercizi di flessibilit e mobilit articolare.",points:25},{id:"ag_w_8",title:"Zona 2  Ciclismo o Camminata",Icon:"",description:"45 minuti a ritmo moderato, 2 volte a settimana.",points:60},{id:"ag_w_9",title:"Nuoto Moderato",Icon:"",description:"20 minuti di nuoto a ritmo costante.",points:45}]},activity_sprint_1:{id:"activity_sprint_1",name:"Inizio Sprint  Livello 1",subtitle:"Missione Attivit Fisica Settimanale",description:"Attivit per iniziare il tuo percorso sportivo, con focus su camminata, resistenza e mobilit. Ideale per i pi giovani o gi allenati.",Icon:"",numWeeks:14,weeklyMinTarget:65,weeklyMaxTarget:100,daily:[],weekly:[{id:"as1_w_1",title:"Camminata Veloce",Icon:"",description:"30 minuti a passo sostenuto.",points:50},{id:"as1_w_2",title:"Circuito di Resistenza",Icon:"",description:"Pesi leggeri, 3 set da 12 ripetizioni.",points:60},{id:"as1_w_3",title:"Yoga Dinamico",Icon:"",description:"60 minuti di yoga attivo e fluido.",points:50},{id:"as1_w_4",title:"Nuoto",Icon:"",description:"30 minuti a ritmo moderato.",points:50},{id:"as1_w_5",title:"Stretching e Mobilit",Icon:"",description:"20 minuti di esercizi per flessibilit e articolazioni.",points:30},{id:"as1_w_6",title:"Cyclette",Icon:"",description:"30 minuti a ritmo costante.",points:40}]},activity_sprint_2:{id:"activity_sprint_2",name:"Energia in Movimento  Livello 2",subtitle:"Missione Attivit Fisica Settimanale",description:"Attivit pi avanzate per aumentare forza e resistenza. Ideale per chi  gi allenato. Livello intermedio.",Icon:"",numWeeks:14,weeklyMinTarget:100,weeklyMaxTarget:160,unlocksAt:210,dependsOn:"activity_sprint_1",daily:[],weekly:[{id:"as2_w_1",title:"Corsa Leggera",Icon:"",description:"30 minuti di corsa a ritmo costante.",points:40},{id:"as2_w_2",title:"Circuito Forza",Icon:"",description:"Pesi medi, 4 set da 10 ripetizioni.",points:50},{id:"as2_w_3",title:"HIIT",Icon:"",description:"20 minuti di allenamento ad alta intensit a intervalli.",points:80},{id:"as2_w_4",title:"Pilates",Icon:"",description:"60 minuti di esercizi per postura, core e flessibilit.",points:40},{id:"as2_w_5",title:"Nuoto Intenso",Icon:"",description:"45 minuti di nuoto a ritmo sostenuto.",points:60}]},activity_sprint_3:{id:"activity_sprint_3",name:"Eccellenza Atletica  Livello 3",subtitle:"Missione Attivit Fisica Settimanale",description:"Attivit avanzate ad alta intensit per performance massime. Livello avanzato.",Icon:"",numWeeks:14,weeklyMinTarget:100,weeklyMaxTarget:180,unlocksAt:200,dependsOn:"activity_sprint_2",daily:[],weekly:[{id:"as3_w_1",title:"Corsa Intensa",Icon:"",description:"45 minuti di corsa a ritmo sostenuto.",points:30},{id:"as3_w_2",title:"Allenamento Pesi Pesanti",Icon:"",description:"5 set da 8 ripetizioni con carico elevato.",points:40},{id:"as3_w_3",title:"HIIT",Icon:"",description:"30 minuti di allenamento ad alta intensit a intervalli.",points:40},{id:"as3_w_4",title:"Yoga di Potenza",Icon:"",description:"75 minuti di yoga intensivo per forza e resistenza.",points:30},{id:"as3_w_5",title:"Nuoto a Stile Libero",Icon:"",description:"60 minuti di nuoto continuo a ritmo sostenuto.",points:40}]},stress:{id:"stress",name:"Stress Management",description:"Missioni mirate a ridurre lo stress, trovare equilibrio e coltivare la calma nella vita quotidiana.",subtitle:"La Settimana del Successo",Icon:"",isSmart:!0,numWeeks:10,dailyTarget:50,weeklyMinTarget:350,daily:[{id:"stress_d_1",title:"Respirazione Profonda",Icon:"",description:"5 minuti di respirazione diaframmatica per calmare il sistema nervoso.",points:15},{id:"stress_d_2",title:"Pausa Consapevole",Icon:"",description:"Ogni 90 minuti, fai una pausa di 2 minuti lontano dagli schermi.",points:10},{id:"stress_d_3",title:"Diario della Gratitudine",Icon:"",description:"Scrivi 3 cose per cui sei grato oggi.",points:10},{id:"stress_d_4",title:"Movimento Dolce",Icon:"",description:"15 minuti di stretching leggero o camminata lenta.",points:10},{id:"stress_d_5",title:"Tisana Rilassante",Icon:"",description:"Bevi una tisana (camomilla, melissa) prima di dormire.",points:5}],weekly:[{id:"stress_w_1",title:"Meditazione o Yoga",Icon:"",description:"Dedica 30 minuti a una sessione di yoga o meditazione guidata.",points:100},{id:"stress_w_2",title:"Tempo nella Natura",Icon:"",description:"Trascorri almeno 1 ora in un parco, bosco o al mare.",points:150},{id:"stress_w_3",title:"Hobby De-Stress",Icon:"",description:"Dedica 1 ora a un hobby che ti rilassa e ti piace (senza schermi).",points:100}]},performance:{id:"performance",name:"Programma Performance",description:"Massimizza la tua energia fisica e mentale, migliora la concentrazione e raggiungi i tuoi obiettivi con pi efficacia.",subtitle:"La Settimana del Successo",Icon:"",isSmart:!0,numWeeks:10,dailyTarget:55,weeklyMinTarget:350,daily:[{id:"perf_d_1",title:"Colazione Energetica",Icon:"",description:"Fai una colazione ricca di proteine e grassi sani.",points:10},{id:"perf_d_2",title:"Idratazione Strategica",Icon:"",description:"Bevi un bicchiere d'acqua ogni ora. Obiettivo: 2 litri.",points:10},{id:"perf_d_3",title:"Allenamento Focus",Icon:"",description:"30 minuti di attivit fisica mirata (corsa, pesi, HIIT).",points:20},{id:"perf_d_4",title:"Micro-Pausa Attiva",Icon:"",description:"Fai 5 minuti di stretching o camminata ogni 90 minuti di lavoro seduto.",points:5},{id:"perf_d_5",title:"Pianificazione del Domani",Icon:"",description:"Dedica 5 minuti la sera a pianificare le 3 priorit del giorno dopo.",points:10}],weekly:[{id:"perf_w_1",title:"Allenamento Intenso",Icon:"",description:"Completa 2 sessioni di allenamento ad alta intensit (HIIT).",points:150},{id:"perf_w_2",title:"Apprendimento Attivo",Icon:"",description:"Dedica 1 ora all'apprendimento di una nuova abilit o argomento.",points:100},{id:"perf_w_3",title:"Revisione Settimanale",Icon:"",description:"Rivedi i progressi della settimana e fissa gli obiettivi per la prossima.",points:100}]},longevity:{id:"longevity",name:"Programma Longevit",description:"Adotta abitudini basate sulla scienza per promuovere un invecchiamento sano, mantenere la vitalit e prevenire le malattie.",subtitle:"La Settimana del Successo",Icon:"",isSmart:!0,numWeeks:10,dailyTarget:45,weeklyMinTarget:400,daily:[{id:"longev_d_1",title:"Dieta Antiossidante",Icon:"",description:"Consuma almeno 2 porzioni di frutti di bosco, verdure a foglia scura o t verde.",points:10},{id:"longev_d_2",title:"10.000 Passi",Icon:"",description:"Raggiungi l'obiettivo di 10.000 passi durante la giornata.",points:15},{id:"longev_d_3",title:"Grassi Sani",Icon:"",description:"Includi una fonte di grassi sani (avocado, noci, olio EVO) nei tuoi pasti.",points:10},{id:"longev_d_4",title:"Allenamento Mentale",Icon:"",description:"Dedica 15 minuti ad attivit che sfidano la mente (puzzle, lettura complessa, nuova lingua).",points:10}],weekly:[{id:"longev_w_1",title:"Forza Muscolare",Icon:"",description:"Completa 2 sessioni di allenamento con i pesi per mantenere la massa muscolare.",points:150},{id:"longev_w_2",title:"Connessione Sociale",Icon:"",description:"Passa del tempo di qualit e significativo con amici o familiari.",points:100},{id:"longev_w_3",title:"Legumi Power",Icon:"",description:"Consuma legumi (fagioli, lenticchie, ceci) almeno 3 volte a settimana.",points:100},{id:"longev_w_4",title:"Finestra Alimentare",Icon:"",description:"Prova a concentrare i pasti in una finestra di 8-10 ore.",points:50}]}},pS=t=>f.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),f.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),vx=t=>f.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),yx=t=>f.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),f.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),_x=t=>f.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M3 3v18h18"}),f.jsx("path",{d:"M7 12v5h12V8l-5 5-4-4Z"})]}),Mn=t=>f.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"m12 3-1.45 4.1-4.1-1.45L8 12l-5.55 1.45 4.1 1.45L12 21l1.45-4.1 4.1 1.45L16 12l5.55-1.45-4.1-1.45Z"})}),Bl=t=>f.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M12 21c4-4 6-10 6-14a6 6 0 0 0-12 0c0 4 2 10 6 14Z"}),f.jsx("path",{d:"M12 15v6"}),f.jsx("path",{d:"M8 12c-2-2.5-2.5-6-1-8 1.5-2 4-2.5 6-1"}),f.jsx("path",{d:"M16 12c2-2.5 2.5-6 1-8-1.5-2-4-2.5-6-1"})]}),hS=t=>f.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M4.5 3h15"}),f.jsx("path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-16V3"}),f.jsx("path",{d:"M6 14h12"})]}),sd=t=>f.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5"}),f.jsx("path",{d:"M16 2v4"}),f.jsx("path",{d:"M8 2v4"}),f.jsx("path",{d:"M3 10h18"}),f.jsx("path",{d:"M18 22a4 4 0 1 0 0-8 4 4 0 0 0 0 8Z"}),f.jsx("path",{d:"M18 16.5V18l.5.5"})]}),wx=t=>f.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M12 12h.01"}),f.jsx("path",{d:"M16 6V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2"}),f.jsx("path",{d:"M12 18h.01"}),f.jsx("path",{d:"M18 10h-2a2 2 0 0 1-2-2V4H8v4a2 2 0 0 1-2 2H2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V10Z"}),f.jsx("path",{d:"M8 12h.01"})]}),rd=t=>f.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"}),f.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),f.jsx("path",{d:"M12 11h4"}),f.jsx("path",{d:"M12 16h4"}),f.jsx("path",{d:"M8 11h.01"}),f.jsx("path",{d:"M8 16h.01"})]}),mS=t=>f.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}),f.jsx("polyline",{points:"10 17 15 12 10 7"}),f.jsx("line",{x1:"15",x2:"3",y1:"12",y2:"12"})]}),Sx=t=>f.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),f.jsx("polyline",{points:"14 2 14 8 20 8"}),f.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),f.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),f.jsx("line",{x1:"10",y1:"9",x2:"8",y2:"9"})]}),bx=t=>f.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),f.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),gS=({user:t,currentPage:e,onNavigate:n,onLogout:i,isOpen:o,setIsOpen:s})=>{const r=[{id:"home",label:"Home",Icon:pS},{id:"profile",label:"Profilo",Icon:vx},{id:"assessments",label:"Test Autovalutazione",Icon:yx},{id:"dashboard",label:"Wellness Dashboard",Icon:_x},{id:"wellnessRoutine",label:"Routine Benessere",Icon:Mn},{id:"breathing",label:"Meditazione Guidata",Icon:Bl},{id:"community",label:"Community & Coach",Icon:bx}],l=[{id:"bloodAnalysis",label:"Analisi Referti",Icon:hS},{id:"analysisQuote",label:"Analisi & Preventivi",Icon:rd},{id:"spaBookings",label:"Percorsi SPA",Icon:sd}],a=[{id:"prescriptions",label:"Invio Ricette",Icon:Sx},{id:"pharmacyServices",label:"Servizi Farmacia",Icon:wx}],c=({item:h})=>f.jsx("li",{children:f.jsxs("a",{href:"#",onClick:m=>{m.preventDefault(),n(h.id),window.innerWidth<768&&s(!1)},className:`flex items-center gap-3 p-3 my-1 rounded-md text-lg transition-colors ${e===h.id?"bg-sky-500 text-white shadow-md":"text-sky-100 hover:bg-sky-600"}`,children:[f.jsx(h.Icon,{className:"sidebar-icon"}),f.jsx("span",{children:h.label})]})}),u=f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"p-4 border-b border-sky-700",children:[f.jsx("h1",{className:"text-xl font-bold text-white",children:"Clinical Wellness Spa"}),t&&f.jsxs("p",{className:"text-sky-200 text-sm",children:["Benvenuto, ",t.name]})]}),f.jsxs("nav",{className:"flex-grow p-2 overflow-y-auto",children:[f.jsx("ul",{children:r.map(h=>f.jsx(c,{item:h},h.id))}),f.jsxs("div",{className:"mt-4 pt-4 border-t border-sky-700",children:[f.jsx("h2",{className:"px-3 py-1 text-sm font-semibold text-sky-300 uppercase tracking-wider",children:"Clinical Wellness SPA"}),f.jsx("ul",{children:l.map(h=>f.jsx(c,{item:h},h.id))})]}),f.jsx("div",{className:"my-2 border-t border-sky-700"}),f.jsxs("div",{className:"mt-2 pt-2",children:[f.jsx("h2",{className:"px-3 py-1 text-sm font-semibold text-sky-300 uppercase tracking-wider",children:"Servizi Farmacia Centrale"}),f.jsx("ul",{children:a.map(h=>f.jsx(c,{item:h},h.id))})]})]}),f.jsx("div",{className:"p-4 border-t border-sky-700 mt-auto",children:f.jsxs("a",{href:"#",onClick:h=>{h.preventDefault(),i(),window.innerWidth<768&&s(!1)},className:"flex items-center gap-3 p-3 rounded-md text-lg text-sky-100 hover:bg-sky-600 transition-colors",children:[f.jsx(mS,{className:"sidebar-icon"}),f.jsx("span",{children:"Logout"})]})})]});return f.jsxs(f.Fragment,{children:[o&&f.jsx("div",{className:"fixed inset-0 bg-black opacity-50 z-30 md:hidden",onClick:()=>s(!1)}),f.jsx("aside",{className:`fixed top-0 left-0 h-full w-64 bg-sky-800 text-white flex flex-col shadow-lg z-40 transform transition-transform duration-300 ease-in-out ${o?"translate-x-0":"-translate-x-full"} md:translate-x-0`,children:u})]})},on=t=>f.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),f.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),hi=t=>f.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),f.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),ld=t=>f.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M18 6 6 18"}),f.jsx("path",{d:"m6 6 12 12"})]}),xS=({notification:t,onClose:e})=>{const[n,i]=L.useState(!1);L.useEffect(()=>{const r=setTimeout(()=>{i(!0)},3e3);return()=>clearTimeout(r)},[]),L.useEffect(()=>{if(n){const r=setTimeout(e,300);return()=>clearTimeout(r)}},[n,e]);const o={success:{bg:"bg-green-500",icon:f.jsx(on,{className:"w-6 h-6 text-white"})},error:{bg:"bg-red-500",icon:f.jsx(hi,{className:"w-6 h-6 text-white"})}},s=o[t.type]||o.success;return f.jsxs("div",{className:`fixed top-5 right-5 z-50 flex items-center p-4 rounded-lg shadow-lg text-white ${s.bg} ${n?"animate-toast-out":"animate-toast-in"}`,children:[f.jsx("div",{className:"mr-3",children:s.icon}),f.jsx("div",{className:"font-semibold",children:t.message}),f.jsx("button",{onClick:()=>i(!0),className:"ml-4 -mr-2 p-1 rounded-full hover:bg-white/20 transition-colors",children:f.jsx(ld,{className:"w-5 h-5"})})]})},vS=t=>f.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("line",{x1:"4",x2:"20",y1:"12",y2:"12"}),f.jsx("line",{x1:"4",x2:"20",y1:"6",y2:"6"}),f.jsx("line",{x1:"4",x2:"20",y1:"18",y2:"18"})]}),yS=({user:t,onSave:e})=>{const[n,i]=L.useState(""),[o,s]=L.useState(""),[r,l]=L.useState(""),[a,c]=L.useState(""),u=h=>{h.preventDefault(),n&&o&&r&&a&&e({...t,gender:n,age:parseInt(o),height:parseInt(r),weight:parseInt(a)})};return f.jsx("div",{className:"fixed inset-0 bg-slate-900/90 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[f.jsxs("div",{className:"bg-sky-600 p-6 text-center",children:[f.jsx("h2",{className:"text-2xl font-bold text-white",children:"Benvenuto in Clinical Wellness"}),f.jsx("p",{className:"text-sky-100 mt-2",children:"Configuriamo il tuo profilo biometrico per iniziare."})]}),f.jsxs("form",{onSubmit:u,className:"p-8 space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",children:"Sesso Biologico"}),f.jsxs("div",{className:"flex gap-4",children:[f.jsxs("label",{className:`flex-1 cursor-pointer p-4 rounded-xl border-2 flex flex-col items-center transition-all ${n==="male"?"border-sky-500 bg-sky-50 text-sky-700":"border-slate-200 hover:border-slate-300"}`,children:[f.jsx("input",{type:"radio",name:"gender",value:"male",checked:n==="male",onChange:()=>i("male"),className:"hidden"}),f.jsx("span",{className:"text-2xl mb-1",children:""}),f.jsx("span",{className:"font-semibold",children:"Uomo"})]}),f.jsxs("label",{className:`flex-1 cursor-pointer p-4 rounded-xl border-2 flex flex-col items-center transition-all ${n==="female"?"border-pink-500 bg-pink-50 text-pink-700":"border-slate-200 hover:border-slate-300"}`,children:[f.jsx("input",{type:"radio",name:"gender",value:"female",checked:n==="female",onChange:()=>i("female"),className:"hidden"}),f.jsx("span",{className:"text-2xl mb-1",children:""}),f.jsx("span",{className:"font-semibold",children:"Donna"})]})]})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Et"}),f.jsx("input",{type:"number",min:"1",max:"120",value:o,onChange:h=>s(h.target.value),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 outline-none text-center font-bold text-slate-800",placeholder:"Anni",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Altezza"}),f.jsx("input",{type:"number",min:"50",max:"250",value:r,onChange:h=>l(h.target.value),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 outline-none text-center font-bold text-slate-800",placeholder:"CM",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Peso"}),f.jsx("input",{type:"number",min:"20",max:"300",value:a,onChange:h=>c(h.target.value),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 outline-none text-center font-bold text-slate-800",placeholder:"KG",required:!0})]})]}),f.jsxs("button",{type:"submit",disabled:!n||!o||!r||!a,className:"w-full bg-sky-600 text-white font-bold py-4 rounded-xl shadow-lg hover:bg-sky-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2",children:[f.jsx("span",{children:"Crea il mio Profilo Salute"}),f.jsx(on,{className:"w-5 h-5"})]})]})]})})},_S=t=>f.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("circle",{cx:"12",cy:"10",r:"3"}),f.jsx("path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662"})]}),wS=({onLogin:t})=>{const[e,n]=L.useState(""),[i,o]=L.useState(""),s=r=>{if(r.preventDefault(),e.trim()&&i.trim()){const l={name:e.trim(),email:i.trim()};t(l)}};return f.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-slate-100 p-4",children:f.jsxs("div",{className:"w-full max-w-md",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("h1",{className:"text-4xl font-bold text-slate-800",children:"Clinical Wellness Spa"}),f.jsx("p",{className:"mt-2 text-lg text-slate-600",children:"Il tuo percorso verso il benessere inizia qui."})]}),f.jsxs("div",{className:"bg-white shadow-2xl rounded-2xl p-8 animate-fade-in",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx(_S,{className:"mx-auto h-16 w-16 text-sky-600 mb-4"}),f.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Area Riservata"}),f.jsx("p",{className:"mt-1 text-slate-500",children:"Accedi per continuare"})]}),f.jsxs("form",{className:"space-y-6",onSubmit:s,children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-700 mb-1",children:"Nome"}),f.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:e,onChange:r=>n(r.target.value),className:"appearance-none relative block w-full px-3 py-3 border border-slate-300 placeholder-slate-500 text-slate-900 rounded-md focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm",placeholder:"Il tuo nome"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-slate-700 mb-1",children:"Indirizzo Email"}),f.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:i,onChange:r=>o(r.target.value),className:"appearance-none relative block w-full px-3 py-3 border border-slate-300 placeholder-slate-500 text-slate-900 rounded-md focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm",placeholder:"indirizzo@esempio.com"})]}),f.jsx("div",{children:f.jsx("button",{type:"submit",disabled:!e.trim()||!i.trim(),className:"group relative w-full flex justify-center py-3 px-4 mt-4 border border-transparent text-sm font-medium rounded-md text-white bg-sky-600 hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500 disabled:bg-slate-400 disabled:cursor-not-allowed transition-colors",children:"Accedi"})})]})]}),f.jsxs("p",{className:"mt-6 text-center text-sm text-slate-500",children:[" ",new Date().getFullYear()," Clinical Wellness Spa. Tutti i diritti riservati."]})]})})},SS=t=>f.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7"}),f.jsx("polyline",{points:"16 17 22 17 22 11"})]}),bS=({user:t,onNavigate:e})=>{const[n,i]=L.useState(null);if(L.useEffect(()=>{let a=[];for(const c of Object.keys(Xt)){const u=me(`assessmentHistory_${t.email}_${c}`,[]);if(u.length>0){const h=u[u.length-1];a.push({id:c,title:Xt[c].title.replace("Analisi ",""),score:h.score,Icon:Xt[c].Icon})}}a.length>0&&(a.sort((c,u)=>c.score-u.score),i(a[0]))},[t.email]),!n)return f.jsxs("div",{className:"bg-sky-600 text-white rounded-xl shadow-lg p-6 mb-8 animate-fade-in",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(Mn,{className:"w-10 h-10 text-sky-300 flex-shrink-0"}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold",children:"Inizia il tuo percorso di benessere!"}),f.jsx("p",{className:"text-sky-200",children:"Completa il tuo primo test di autovalutazione per scoprire i tuoi punti di forza."})]})]}),f.jsx("button",{onClick:()=>e("assessments"),className:"mt-4 w-full bg-white text-sky-700 font-bold py-2 px-4 rounded-lg hover:bg-sky-100 transition-colors",children:"Inizia il primo test"})]});const{Icon:o,title:s,score:r,id:l}=n;return f.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8 animate-fade-in border border-slate-200",children:[f.jsx("h3",{className:"text-sm font-semibold text-slate-500 mb-2",children:"Focus Benessere"}),f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:f.jsx(SS,{className:"w-6 h-6 text-red-600"})}),f.jsxs("div",{className:"flex-grow",children:[f.jsxs("h2",{className:"text-xl font-bold text-slate-800",children:["Area da Migliorare: ",s]}),f.jsxs("p",{className:"text-slate-600",children:["Il tuo ultimo punteggio  ",f.jsx("span",{className:"font-bold text-red-600",children:r}),". Concentrati su quest'area per migliorare il tuo benessere generale."]}),f.jsx("button",{onClick:()=>e("assessments"),className:"mt-3 text-sky-600 font-semibold hover:text-sky-800 transition-colors text-sm",children:"Vai ai test di valutazione "})]})]})]})},tp=({user:t,onNavigate:e})=>{const n=[{id:"assessments",title:"Test Autovalutazione",subtitle:"Scopri il tuo benessere",Icon:yx},{id:"dashboard",title:"Dashboard Benessere",subtitle:"Visualizza i tuoi progressi",Icon:_x},{id:"wellnessRoutine",title:"Routine Benessere",subtitle:"Completa le tue missioni",Icon:Mn},{id:"breathing",title:"Meditazione Guidata",subtitle:"Esercizi di respirazione",Icon:Bl},{id:"spaBookings",title:"Percorsi SPA",subtitle:"Scopri i percorsi benessere",Icon:sd},{id:"analysisQuote",title:"Analisi & Preventivi",subtitle:"Crea il tuo piano di analisi",Icon:rd},{id:"prescriptions",title:"Invio Ricette Mediche",subtitle:"Invia ricette alla farmacia",Icon:Sx},{id:"pharmacyServices",title:"Servizi Farmacia",subtitle:"Telemedicina e altro",Icon:wx}];return f.jsxs("div",{className:"p-4 md:p-8 animate-fade-in",children:[f.jsxs("header",{className:"mb-8",children:[f.jsxs("h1",{className:"text-4xl font-bold text-slate-800",children:["Bentornato, ",t.name,"!"]}),f.jsx("p",{className:"text-xl text-slate-600",children:"Il tuo coach personale per il benessere."})]}),f.jsx(bS,{user:t,onNavigate:e}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map(i=>f.jsx("div",{onClick:()=>e(i.id),className:"bg-white rounded-xl shadow-md p-6 flex flex-col justify-between items-start cursor-pointer hover:shadow-xl hover:scale-105 transition-all duration-300 animate-slide-in-up",children:f.jsxs("div",{children:[f.jsx("div",{className:"p-3 bg-sky-100 rounded-full mb-4 inline-block",children:f.jsx(i.Icon,{className:"w-8 h-8 text-sky-600"})}),f.jsx("h2",{className:"text-xl font-bold text-slate-800",children:i.title}),f.jsx("p",{className:"text-slate-500 mt-1",children:i.subtitle})]})},i.id))})]})},CS=t=>f.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"7.5",cy:"15.5",r:"5.5"}),f.jsx("path",{d:"m21 2-9.6 9.6"}),f.jsx("path",{d:"m15.5 7.5 3 3L22 7l-3-3"})]}),TS=t=>f.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2l.15-.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),f.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),kS=({user:t,onLogout:e,onNavigate:n})=>f.jsxs("div",{className:"p-4 md:p-8 animate-fade-in",children:[f.jsx("h1",{className:"text-4xl font-bold text-slate-800 mb-8",children:"Profilo Utente"}),f.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg max-w-md mx-auto",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("div",{className:"w-24 h-24 rounded-full bg-sky-100 mx-auto flex items-center justify-center mb-4",children:f.jsx(vx,{className:"w-12 h-12 text-sky-600"})}),f.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:t.name}),f.jsx("p",{className:"text-slate-500",children:t.email})]}),f.jsxs("div",{className:"border-t border-slate-200 pt-6 space-y-4",children:[f.jsxs("button",{onClick:()=>n("adminSettings"),className:"w-full bg-slate-600 text-white font-semibold py-3 rounded-lg hover:bg-slate-700 transition-colors shadow-md flex items-center justify-center gap-2",children:[f.jsx(TS,{className:"w-5 h-5"}),f.jsx("span",{children:"Impostazioni Punteggi"})]}),f.jsxs("button",{onClick:()=>n("manualUnlock"),className:"w-full bg-sky-600 text-white font-semibold py-3 rounded-lg hover:bg-sky-700 transition-colors shadow-md flex items-center justify-center gap-2",children:[f.jsx(CS,{className:"w-5 h-5"}),f.jsx("span",{children:"Sblocco Manuale Livelli"})]}),f.jsx("button",{onClick:e,className:"w-full bg-red-500 text-white font-semibold py-3 rounded-lg hover:bg-red-600 transition-colors shadow-md",children:"Logout"})]})]})]}),IS=({data:t,width:e=400,height:n=200,color:i="#0ea5e9"})=>{if(!t||t.length<2)return f.jsx("div",{className:"flex items-center justify-center h-full text-slate-500 text-sm italic",children:"Dati insufficienti per il grafico."});const o=20,s=e-o*2,r=n-o*2,l=80,a=20,c=m=>m/(t.length-1)*s+o,u=m=>r-(m-a)/(l-a)*r+o,h=t.map((m,g)=>`${g===0?"M":"L"} ${c(g)} ${u(m.score)}`).join(" ");return f.jsxs("svg",{viewBox:`0 0 ${e} ${n}`,className:"w-full h-full overflow-visible","aria-label":"Grafico dell'andamento dei punteggi",children:[f.jsx("path",{d:h,fill:"none",stroke:i,strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),t.map((m,g)=>f.jsxs("g",{className:"group",children:[f.jsx("circle",{cx:c(g),cy:u(m.score),r:"5",fill:"white",stroke:i,strokeWidth:"2",className:"transition-all duration-300 group-hover:r-7"}),f.jsx("rect",{x:c(g)-40,y:u(m.score)-35,width:"80",height:"25",rx:"4",fill:"#1e293b",opacity:"0",className:"group-hover:opacity-90 transition-opacity duration-200 pointer-events-none"}),f.jsxs("text",{x:c(g),y:u(m.score)-20,textAnchor:"middle",fill:"white",fontSize:"10",opacity:"0",className:"group-hover:opacity-100 transition-opacity duration-200 pointer-events-none font-bold",children:[m.score," (",new Date(m.date).toLocaleDateString("it-IT",{day:"2-digit",month:"2-digit"}),")"]})]},g)),f.jsx("text",{x:o-5,y:u(a),textAnchor:"end",dominantBaseline:"middle",className:"text-xs fill-slate-400 font-medium",children:a}),f.jsx("text",{x:o-5,y:u(l),textAnchor:"end",dominantBaseline:"middle",className:"text-xs fill-slate-400 font-medium",children:l})]})},Vl=t=>f.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),f.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),ES=({user:t,onNavigate:e,onStartAssessment:n})=>{const[i,o]=L.useState({}),s=15;L.useEffect(()=>{if(t){const a={};Object.keys(Xt).forEach(c=>{const u=me(`assessmentHistory_${t.email}_${c}`,[]);u.length>0&&(a[c]=u)}),o(a)}},[t]);const r=Object.keys(i).length>0,l=a=>{const c=i[a];if(!c||c.length===0)return{status:"new",daysRemaining:0};const u=new Date(c[c.length-1].date),m=Math.abs(new Date().getTime()-u.getTime()),g=Math.ceil(m/(1e3*60*60*24));return g<s?{status:"locked",daysRemaining:s-g}:{status:"ready",daysRemaining:0}};return f.jsxs("div",{className:"p-4 md:p-8 animate-fade-in pb-32",children:[f.jsx("h1",{className:"text-4xl font-bold text-slate-800 mb-2",children:"Test di Autovalutazione"}),f.jsx("p",{className:"text-xl text-slate-600 mb-8",children:"Misura il tuo benessere. Ripeti i test ogni 15 giorni per monitorare i progressi."}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.values(Xt).map(a=>{const{status:c,daysRemaining:u}=l(a.id),h=c==="locked";return f.jsxs("div",{className:`rounded-xl shadow-md p-6 flex flex-col items-start transition-all duration-300 relative overflow-hidden ${h?"bg-slate-50 border border-slate-200":"bg-white hover:shadow-xl hover:scale-105 cursor-pointer"}`,onClick:()=>!h&&n(a.id),children:[f.jsxs("div",{className:"flex justify-between w-full mb-4",children:[f.jsx("div",{className:`p-3 rounded-full ${h?"bg-slate-200":"bg-sky-100"}`,children:f.jsx(a.Icon,{className:`w-8 h-8 ${h?"text-slate-500":"text-sky-600"}`})}),h&&f.jsxs("div",{className:"flex items-center gap-1 bg-green-100 text-green-700 px-2 py-1 rounded-lg h-fit",children:[f.jsx(on,{className:"w-4 h-4"}),f.jsx("span",{className:"text-xs font-bold",children:"Completato"})]})]}),f.jsx("h2",{className:`text-xl font-bold ${h?"text-slate-500":"text-slate-800"}`,children:a.title}),f.jsx("p",{className:"text-slate-500 mt-2 text-sm",children:h?"Test completato di recente. Attendi per vedere reali miglioramenti.":"Valuta la tua situazione attuale in quest'area."}),h&&f.jsxs("div",{className:"mt-4 w-full pt-4 border-t border-slate-200",children:[f.jsxs("div",{className:"flex items-center gap-2 text-slate-500 mb-3",children:[f.jsx(Vl,{className:"w-4 h-4"}),f.jsxs("span",{className:"text-sm font-semibold",children:["Disponibile tra ",u," ",u===1?"giorno":"giorni"]})]}),f.jsx("button",{onClick:m=>{m.stopPropagation(),confirm("Rifare il test prima dei 15 giorni potrebbe non mostrare cambiamenti significativi. Vuoi procedere comunque?")&&n(a.id)},className:"text-xs text-sky-600 hover:text-sky-800 underline font-medium",children:"Vuoi ripeterlo subito?"})]})]},a.id)})}),r&&f.jsxs("div",{className:"mt-16 pt-8 border-t border-slate-200 animate-fade-in",children:[f.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-6",children:"I tuoi progressi nel tempo"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.keys(i).map(a=>{const c=Xt[a],u=i[a],h=u.length>0?u[u.length-1].score:0;return f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-slate-100",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 bg-sky-50 rounded-lg",children:f.jsx(c.Icon,{className:"w-6 h-6 text-sky-600"})}),f.jsx("h3",{className:"font-bold text-slate-700",children:c.title})]}),f.jsx("span",{className:"text-2xl font-bold text-slate-800 bg-slate-100 px-3 py-1 rounded-md min-w-[3rem] text-center",children:h})]}),f.jsx("div",{className:"w-full h-48",children:f.jsx(IS,{data:u,width:400,height:200})})]},a)})})]})]})},NS=({assessment:t,onComplete:e})=>{const[n,i]=L.useState({}),[o,s]=L.useState(0),r=(u,h)=>{i(m=>({...m,[u]:h}))};if(L.useEffect(()=>{if(Object.keys(n).length>0&&Object.keys(n).length===t.questions.length){const h=Object.values(n).reduce((g,x)=>g+x,0),m=setTimeout(()=>e(h),350);return()=>clearTimeout(m)}},[n,t.questions.length,e]),L.useEffect(()=>{if(n[o]!==void 0&&!(o===t.questions.length-1)){const h=setTimeout(()=>{s(m=>m+1)},300);return()=>clearTimeout(h)}},[n,o,t.questions.length]),Object.keys(n).length===t.questions.length)return f.jsx("div",{className:"p-4 md:p-8 text-center animate-fade-in",children:f.jsx("h2",{className:"text-2xl font-bold text-slate-700",children:"Calcolo dei risultati..."})});const a=t.questions[o],c=o/t.questions.length*100;return f.jsxs("div",{className:"p-4 md:p-8 animate-fade-in",children:[f.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-2",children:t.title}),f.jsxs("p",{className:"text-slate-600 mb-6",children:["Domanda ",o+1," di ",t.questions.length]}),f.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mb-8",children:f.jsx("div",{className:"bg-sky-500 h-2.5 rounded-full",style:{width:`${c}%`,transition:"width 0.5s ease-in-out"}})}),f.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md animate-slide-in-up",children:[f.jsx("h3",{className:"text-xl font-semibold text-slate-700 mb-6",children:a.text}),f.jsx("div",{className:"space-y-3",children:a.options.map((u,h)=>f.jsx("button",{onClick:()=>r(o,u.value),className:`w-full text-left p-4 rounded-lg border-2 transition-all duration-200 text-slate-700 ${n[o]===u.value?"bg-sky-100 border-sky-500 font-semibold ring-2 ring-sky-300":"bg-slate-50 border-slate-200 hover:bg-sky-50 hover:border-sky-400"}`,children:u.text},h))})]},o)]})};function ad(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let mi=ad();function Cx(t){mi=t}const Tx=/[&<>"']/,AS=new RegExp(Tx.source,"g"),kx=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,MS=new RegExp(kx.source,"g"),PS={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},np=t=>PS[t];function et(t,e){if(e){if(Tx.test(t))return t.replace(AS,np)}else if(kx.test(t))return t.replace(MS,np);return t}const RS=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function DS(t){return t.replace(RS,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const LS=/(^|[^\[])\^/g;function ie(t,e){let n=typeof t=="string"?t:t.source;e=e||"";const i={replace:(o,s)=>{let r=typeof s=="string"?s:s.source;return r=r.replace(LS,"$1"),n=n.replace(o,r),i},getRegex:()=>new RegExp(n,e)};return i}function ip(t){try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const Jo={exec:()=>null};function op(t,e){const n=t.replace(/\|/g,(s,r,l)=>{let a=!1,c=r;for(;--c>=0&&l[c]==="\\";)a=!a;return a?"|":" |"}),i=n.split(/ \|/);let o=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),e)if(i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;o<i.length;o++)i[o]=i[o].trim().replace(/\\\|/g,"|");return i}function _o(t,e,n){const i=t.length;if(i===0)return"";let o=0;for(;o<i&&t.charAt(i-o-1)===e;)o++;return t.slice(0,i-o)}function zS(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let i=0;i<t.length;i++)if(t[i]==="\\")i++;else if(t[i]===e[0])n++;else if(t[i]===e[1]&&(n--,n<0))return i;return-1}function sp(t,e,n,i){const o=e.href,s=e.title?et(e.title):null,r=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){i.state.inLink=!0;const l={type:"link",raw:n,href:o,title:s,text:r,tokens:i.inlineTokens(r)};return i.state.inLink=!1,l}return{type:"image",raw:n,href:o,title:s,text:et(r)}}function FS(t,e){const n=t.match(/^(\s+)(?:```)/);if(n===null)return e;const i=n[1];return e.split(`
`).map(o=>{const s=o.match(/^\s+/);if(s===null)return o;const[r]=s;return r.length>=i.length?o.slice(i.length):o}).join(`
`)}class ol{constructor(e){H(this,"options");H(this,"rules");H(this,"lexer");this.options=e||mi}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const i=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?i:_o(i,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const i=n[0],o=FS(i,n[3]||"");return{type:"code",raw:i,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:o}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let i=n[2].trim();if(/#$/.test(i)){const o=_o(i,"#");(this.options.pedantic||!o||/ $/.test(o))&&(i=o.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:_o(n[0],`
`)}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){let i=_o(n[0],`
`).split(`
`),o="",s="";const r=[];for(;i.length>0;){let l=!1;const a=[];let c;for(c=0;c<i.length;c++)if(/^ {0,3}>/.test(i[c]))a.push(i[c]),l=!0;else if(!l)a.push(i[c]);else break;i=i.slice(c);const u=a.join(`
`),h=u.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");o=o?`${o}
${u}`:u,s=s?`${s}
${h}`:h;const m=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,r,!0),this.lexer.state.top=m,i.length===0)break;const g=r[r.length-1];if((g==null?void 0:g.type)==="code")break;if((g==null?void 0:g.type)==="blockquote"){const x=g,y=x.raw+`
`+i.join(`
`),v=this.blockquote(y);r[r.length-1]=v,o=o.substring(0,o.length-x.raw.length)+v.raw,s=s.substring(0,s.length-x.text.length)+v.text;break}else if((g==null?void 0:g.type)==="list"){const x=g,y=x.raw+`
`+i.join(`
`),v=this.list(y);r[r.length-1]=v,o=o.substring(0,o.length-g.raw.length)+v.raw,s=s.substring(0,s.length-x.raw.length)+v.raw,i=y.substring(r[r.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:o,tokens:r,text:s}}}list(e){let n=this.rules.block.list.exec(e);if(n){let i=n[1].trim();const o=i.length>1,s={type:"list",raw:"",ordered:o,start:o?+i.slice(0,-1):"",loose:!1,items:[]};i=o?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=o?i:"[*+-]");const r=new RegExp(`^( {0,3}${i})((?:[	 ][^\\n]*)?(?:\\n|$))`);let l=!1;for(;e;){let a=!1,c="",u="";if(!(n=r.exec(e))||this.rules.block.hr.test(e))break;c=n[0],e=e.substring(c.length);let h=n[2].split(`
`,1)[0].replace(/^\t+/,_=>" ".repeat(3*_.length)),m=e.split(`
`,1)[0],g=!h.trim(),x=0;if(this.options.pedantic?(x=2,u=h.trimStart()):g?x=n[1].length+1:(x=n[2].search(/[^ ]/),x=x>4?1:x,u=h.slice(x),x+=n[1].length),g&&/^ *$/.test(m)&&(c+=m+`
`,e=e.substring(m.length+1),a=!0),!a){const _=new RegExp(`^ {0,${Math.min(3,x-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),w=new RegExp(`^ {0,${Math.min(3,x-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),S=new RegExp(`^ {0,${Math.min(3,x-1)}}(?:\`\`\`|~~~)`),b=new RegExp(`^ {0,${Math.min(3,x-1)}}#`);for(;e;){const C=e.split(`
`,1)[0];if(m=C,this.options.pedantic&&(m=m.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),S.test(m)||b.test(m)||_.test(m)||w.test(e))break;if(m.search(/[^ ]/)>=x||!m.trim())u+=`
`+m.slice(x);else{if(g||h.search(/[^ ]/)>=4||S.test(h)||b.test(h)||w.test(h))break;u+=`
`+m}!g&&!m.trim()&&(g=!0),c+=C+`
`,e=e.substring(C.length+1),h=m.slice(x)}}s.loose||(l?s.loose=!0:/\n *\n *$/.test(c)&&(l=!0));let y=null,v;this.options.gfm&&(y=/^\[[ xX]\] /.exec(u),y&&(v=y[0]!=="[ ] ",u=u.replace(/^\[[ xX]\] +/,""))),s.items.push({type:"list_item",raw:c,task:!!y,checked:v,loose:!1,text:u,tokens:[]}),s.raw+=c}s.items[s.items.length-1].raw=s.items[s.items.length-1].raw.trimEnd(),s.items[s.items.length-1].text=s.items[s.items.length-1].text.trimEnd(),s.raw=s.raw.trimEnd();for(let a=0;a<s.items.length;a++)if(this.lexer.state.top=!1,s.items[a].tokens=this.lexer.blockTokens(s.items[a].text,[]),!s.loose){const c=s.items[a].tokens.filter(h=>h.type==="space"),u=c.length>0&&c.some(h=>/\n.*\n/.test(h.raw));s.loose=u}if(s.loose)for(let a=0;a<s.items.length;a++)s.items[a].loose=!0;return s}}html(e){const n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){const n=this.rules.block.def.exec(e);if(n){const i=n[1].toLowerCase().replace(/\s+/g," "),o=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:i,raw:n[0],href:o,title:s}}}table(e){const n=this.rules.block.table.exec(e);if(!n||!/[:|]/.test(n[2]))return;const i=op(n[1]),o=n[2].replace(/^\||\| *$/g,"").split("|"),s=n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[],r={type:"table",raw:n[0],header:[],align:[],rows:[]};if(i.length===o.length){for(const l of o)/^ *-+: *$/.test(l)?r.align.push("right"):/^ *:-+: *$/.test(l)?r.align.push("center"):/^ *:-+ *$/.test(l)?r.align.push("left"):r.align.push(null);for(let l=0;l<i.length;l++)r.header.push({text:i[l],tokens:this.lexer.inline(i[l]),header:!0,align:r.align[l]});for(const l of s)r.rows.push(op(l,r.header.length).map((a,c)=>({text:a,tokens:this.lexer.inline(a),header:!1,align:r.align[c]})));return r}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const i=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:i,tokens:this.lexer.inline(i)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:et(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const i=n[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;const r=_o(i.slice(0,-1),"\\");if((i.length-r.length)%2===0)return}else{const r=zS(n[2],"()");if(r>-1){const a=(n[0].indexOf("!")===0?5:4)+n[1].length+r;n[2]=n[2].substring(0,r),n[0]=n[0].substring(0,a).trim(),n[3]=""}}let o=n[2],s="";if(this.options.pedantic){const r=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);r&&(o=r[1],s=r[3])}else s=n[3]?n[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(this.options.pedantic&&!/>$/.test(i)?o=o.slice(1):o=o.slice(1,-1)),sp(n,{href:o&&o.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer)}}reflink(e,n){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){const o=(i[2]||i[1]).replace(/\s+/g," "),s=n[o.toLowerCase()];if(!s){const r=i[0].charAt(0);return{type:"text",raw:r,text:r}}return sp(i,s,i[0],this.lexer)}}emStrong(e,n,i=""){let o=this.rules.inline.emStrongLDelim.exec(e);if(!o||o[3]&&i.match(/[\p{L}\p{N}]/u))return;if(!(o[1]||o[2]||"")||!i||this.rules.inline.punctuation.exec(i)){const r=[...o[0]].length-1;let l,a,c=r,u=0;const h=o[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,n=n.slice(-1*e.length+r);(o=h.exec(n))!=null;){if(l=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!l)continue;if(a=[...l].length,o[3]||o[4]){c+=a;continue}else if((o[5]||o[6])&&r%3&&!((r+a)%3)){u+=a;continue}if(c-=a,c>0)continue;a=Math.min(a,a+c+u);const m=[...o[0]][0].length,g=e.slice(0,r+o.index+m+a);if(Math.min(r,a)%2){const y=g.slice(1,-1);return{type:"em",raw:g,text:y,tokens:this.lexer.inlineTokens(y)}}const x=g.slice(2,-2);return{type:"strong",raw:g,text:x,tokens:this.lexer.inlineTokens(x)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let i=n[2].replace(/\n/g," ");const o=/[^ ]/.test(i),s=/^ /.test(i)&&/ $/.test(i);return o&&s&&(i=i.substring(1,i.length-1)),i=et(i,!0),{type:"codespan",raw:n[0],text:i}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){const n=this.rules.inline.autolink.exec(e);if(n){let i,o;return n[2]==="@"?(i=et(n[1]),o="mailto:"+i):(i=et(n[1]),o=i),{type:"link",raw:n[0],text:i,href:o,tokens:[{type:"text",raw:i,text:i}]}}}url(e){var i;let n;if(n=this.rules.inline.url.exec(e)){let o,s;if(n[2]==="@")o=et(n[0]),s="mailto:"+o;else{let r;do r=n[0],n[0]=((i=this.rules.inline._backpedal.exec(n[0]))==null?void 0:i[0])??"";while(r!==n[0]);o=et(n[0]),n[1]==="www."?s="http://"+n[0]:s=n[0]}return{type:"link",raw:n[0],text:o,href:s,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(e){const n=this.rules.inline.text.exec(e);if(n){let i;return this.lexer.state.inRawBlock?i=n[0]:i=et(n[0]),{type:"text",raw:n[0],text:i}}}}const US=/^(?: *(?:\n|$))+/,BS=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,VS=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Ns=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,OS=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Ix=/(?:[*+-]|\d{1,9}[.)])/,Ex=ie(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Ix).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),cd=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,HS=/^[^\n]+/,ud=/(?!\s*\])(?:\\.|[^\[\]\\])+/,jS=ie(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",ud).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),$S=ie(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Ix).getRegex(),Ol="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",dd=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,GS=ie("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",dd).replace("tag",Ol).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Nx=ie(cd).replace("hr",Ns).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ol).getRegex(),qS=ie(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Nx).getRegex(),fd={blockquote:qS,code:BS,def:jS,fences:VS,heading:OS,hr:Ns,html:GS,lheading:Ex,list:$S,newline:US,paragraph:Nx,table:Jo,text:HS},rp=ie("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ns).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ol).getRegex(),WS={...fd,table:rp,paragraph:ie(cd).replace("hr",Ns).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",rp).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ol).getRegex()},JS={...fd,html:ie(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",dd).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Jo,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ie(cd).replace("hr",Ns).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ex).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Ax=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,YS=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Mx=/^( {2,}|\\)\n(?!\s*$)/,KS=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,As="\\p{P}\\p{S}",QS=ie(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,As).getRegex(),XS=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,ZS=ie(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,As).getRegex(),eb=ie("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,As).getRegex(),tb=ie("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,As).getRegex(),nb=ie(/\\([punct])/,"gu").replace(/punct/g,As).getRegex(),ib=ie(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),ob=ie(dd).replace("(?:-->|$)","-->").getRegex(),sb=ie("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",ob).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),sl=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,rb=ie(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",sl).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Px=ie(/^!?\[(label)\]\[(ref)\]/).replace("label",sl).replace("ref",ud).getRegex(),Rx=ie(/^!?\[(ref)\](?:\[\])?/).replace("ref",ud).getRegex(),lb=ie("reflink|nolink(?!\\()","g").replace("reflink",Px).replace("nolink",Rx).getRegex(),pd={_backpedal:Jo,anyPunctuation:nb,autolink:ib,blockSkip:XS,br:Mx,code:YS,del:Jo,emStrongLDelim:ZS,emStrongRDelimAst:eb,emStrongRDelimUnd:tb,escape:Ax,link:rb,nolink:Rx,punctuation:QS,reflink:Px,reflinkSearch:lb,tag:sb,text:KS,url:Jo},ab={...pd,link:ie(/^!?\[(label)\]\((.*?)\)/).replace("label",sl).getRegex(),reflink:ie(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",sl).getRegex()},Lc={...pd,escape:ie(Ax).replace("])","~|])").getRegex(),url:ie(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},cb={...Lc,br:ie(Mx).replace("{2,}","*").getRegex(),text:ie(Lc.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Qs={normal:fd,gfm:WS,pedantic:JS},wo={normal:pd,gfm:Lc,breaks:cb,pedantic:ab};class zt{constructor(e){H(this,"tokens");H(this,"options");H(this,"state");H(this,"tokenizer");H(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||mi,this.options.tokenizer=this.options.tokenizer||new ol,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:Qs.normal,inline:wo.normal};this.options.pedantic?(n.block=Qs.pedantic,n.inline=wo.pedantic):this.options.gfm&&(n.block=Qs.gfm,this.options.breaks?n.inline=wo.breaks:n.inline=wo.gfm),this.tokenizer.rules=n}static get rules(){return{block:Qs,inline:wo}}static lex(e,n){return new zt(n).lex(e)}static lexInline(e,n){return new zt(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const i=this.inlineQueue[n];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],i=!1){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(l,a,c)=>a+"    ".repeat(c.length));let o,s,r;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(o=l.call({lexer:this},e,n))?(e=e.substring(o.raw.length),n.push(o),!0):!1))){if(o=this.tokenizer.space(e)){e=e.substring(o.raw.length),o.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(o);continue}if(o=this.tokenizer.code(e)){e=e.substring(o.raw.length),s=n[n.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+o.raw,s.text+=`
`+o.text,this.inlineQueue[this.inlineQueue.length-1].src=s.text):n.push(o);continue}if(o=this.tokenizer.fences(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.heading(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.hr(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.blockquote(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.list(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.html(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.def(e)){e=e.substring(o.raw.length),s=n[n.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+o.raw,s.text+=`
`+o.raw,this.inlineQueue[this.inlineQueue.length-1].src=s.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title});continue}if(o=this.tokenizer.table(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.lheading(e)){e=e.substring(o.raw.length),n.push(o);continue}if(r=e,this.options.extensions&&this.options.extensions.startBlock){let l=1/0;const a=e.slice(1);let c;this.options.extensions.startBlock.forEach(u=>{c=u.call({lexer:this},a),typeof c=="number"&&c>=0&&(l=Math.min(l,c))}),l<1/0&&l>=0&&(r=e.substring(0,l+1))}if(this.state.top&&(o=this.tokenizer.paragraph(r))){s=n[n.length-1],i&&(s==null?void 0:s.type)==="paragraph"?(s.raw+=`
`+o.raw,s.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):n.push(o),i=r.length!==e.length,e=e.substring(o.raw.length);continue}if(o=this.tokenizer.text(e)){e=e.substring(o.raw.length),s=n[n.length-1],s&&s.type==="text"?(s.raw+=`
`+o.raw,s.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):n.push(o);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let i,o,s,r=e,l,a,c;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)u.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,l.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(a||(c=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>(i=u.call({lexer:this},e,n))?(e=e.substring(i.raw.length),n.push(i),!0):!1))){if(i=this.tokenizer.escape(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.tag(e)){e=e.substring(i.raw.length),o=n[n.length-1],o&&i.type==="text"&&o.type==="text"?(o.raw+=i.raw,o.text+=i.text):n.push(i);continue}if(i=this.tokenizer.link(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(i.raw.length),o=n[n.length-1],o&&i.type==="text"&&o.type==="text"?(o.raw+=i.raw,o.text+=i.text):n.push(i);continue}if(i=this.tokenizer.emStrong(e,r,c)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.codespan(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.br(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.del(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.autolink(e)){e=e.substring(i.raw.length),n.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(e))){e=e.substring(i.raw.length),n.push(i);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let u=1/0;const h=e.slice(1);let m;this.options.extensions.startInline.forEach(g=>{m=g.call({lexer:this},h),typeof m=="number"&&m>=0&&(u=Math.min(u,m))}),u<1/0&&u>=0&&(s=e.substring(0,u+1))}if(i=this.tokenizer.inlineText(s)){e=e.substring(i.raw.length),i.raw.slice(-1)!=="_"&&(c=i.raw.slice(-1)),a=!0,o=n[n.length-1],o&&o.type==="text"?(o.raw+=i.raw,o.text+=i.text):n.push(i);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return n}}class rl{constructor(e){H(this,"options");H(this,"parser");this.options=e||mi}space(e){return""}code({text:e,lang:n,escaped:i}){var r;const o=(r=(n||"").match(/^\S*/))==null?void 0:r[0],s=e.replace(/\n$/,"")+`
`;return o?'<pre><code class="language-'+et(o)+'">'+(i?s:et(s,!0))+`</code></pre>
`:"<pre><code>"+(i?s:et(s,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:n}){return`<h${n}>${this.parser.parseInline(e)}</h${n}>
`}hr(e){return`<hr>
`}list(e){const n=e.ordered,i=e.start;let o="";for(let l=0;l<e.items.length;l++){const a=e.items[l];o+=this.listitem(a)}const s=n?"ol":"ul",r=n&&i!==1?' start="'+i+'"':"";return"<"+s+r+`>
`+o+"</"+s+`>
`}listitem(e){let n="";if(e.task){const i=this.checkbox({checked:!!e.checked});e.loose?e.tokens.length>0&&e.tokens[0].type==="paragraph"?(e.tokens[0].text=i+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=i+" "+e.tokens[0].tokens[0].text)):e.tokens.unshift({type:"text",raw:i+" ",text:i+" "}):n+=i+" "}return n+=this.parser.parse(e.tokens,!!e.loose),`<li>${n}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let n="",i="";for(let s=0;s<e.header.length;s++)i+=this.tablecell(e.header[s]);n+=this.tablerow({text:i});let o="";for(let s=0;s<e.rows.length;s++){const r=e.rows[s];i="";for(let l=0;l<r.length;l++)i+=this.tablecell(r[l]);o+=this.tablerow({text:i})}return o&&(o=`<tbody>${o}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+o+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const n=this.parser.parseInline(e.tokens),i=e.header?"th":"td";return(e.align?`<${i} align="${e.align}">`:`<${i}>`)+n+`</${i}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${e}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:n,tokens:i}){const o=this.parser.parseInline(i),s=ip(e);if(s===null)return o;e=s;let r='<a href="'+e+'"';return n&&(r+=' title="'+n+'"'),r+=">"+o+"</a>",r}image({href:e,title:n,text:i}){const o=ip(e);if(o===null)return i;e=o;let s=`<img src="${e}" alt="${i}"`;return n&&(s+=` title="${n}"`),s+=">",s}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):e.text}}class hd{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class Ft{constructor(e){H(this,"options");H(this,"renderer");H(this,"textRenderer");this.options=e||mi,this.options.renderer=this.options.renderer||new rl,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new hd}static parse(e,n){return new Ft(n).parse(e)}static parseInline(e,n){return new Ft(n).parseInline(e)}parse(e,n=!0){let i="";for(let o=0;o<e.length;o++){const s=e[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const l=s,a=this.options.extensions.renderers[l.type].call({parser:this},l);if(a!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(l.type)){i+=a||"";continue}}const r=s;switch(r.type){case"space":{i+=this.renderer.space(r);continue}case"hr":{i+=this.renderer.hr(r);continue}case"heading":{i+=this.renderer.heading(r);continue}case"code":{i+=this.renderer.code(r);continue}case"table":{i+=this.renderer.table(r);continue}case"blockquote":{i+=this.renderer.blockquote(r);continue}case"list":{i+=this.renderer.list(r);continue}case"html":{i+=this.renderer.html(r);continue}case"paragraph":{i+=this.renderer.paragraph(r);continue}case"text":{let l=r,a=this.renderer.text(l);for(;o+1<e.length&&e[o+1].type==="text";)l=e[++o],a+=`
`+this.renderer.text(l);n?i+=this.renderer.paragraph({type:"paragraph",raw:a,text:a,tokens:[{type:"text",raw:a,text:a}]}):i+=a;continue}default:{const l='Token with "'+r.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return i}parseInline(e,n){n=n||this.renderer;let i="";for(let o=0;o<e.length;o++){const s=e[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const l=this.options.extensions.renderers[s.type].call({parser:this},s);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){i+=l||"";continue}}const r=s;switch(r.type){case"escape":{i+=n.text(r);break}case"html":{i+=n.html(r);break}case"link":{i+=n.link(r);break}case"image":{i+=n.image(r);break}case"strong":{i+=n.strong(r);break}case"em":{i+=n.em(r);break}case"codespan":{i+=n.codespan(r);break}case"br":{i+=n.br(r);break}case"del":{i+=n.del(r);break}case"text":{i+=n.text(r);break}default:{const l='Token with "'+r.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return i}}class Yo{constructor(e){H(this,"options");this.options=e||mi}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}H(Yo,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var ln,Dx,zc,Lx;class ub{constructor(...e){$d(this,ln);H(this,"defaults",ad());H(this,"options",this.setOptions);H(this,"parse",uo(this,ln,zc).call(this,zt.lex,Ft.parse));H(this,"parseInline",uo(this,ln,zc).call(this,zt.lexInline,Ft.parseInline));H(this,"Parser",Ft);H(this,"Renderer",rl);H(this,"TextRenderer",hd);H(this,"Lexer",zt);H(this,"Tokenizer",ol);H(this,"Hooks",Yo);this.use(...e)}walkTokens(e,n){var o,s;let i=[];for(const r of e)switch(i=i.concat(n.call(this,r)),r.type){case"table":{const l=r;for(const a of l.header)i=i.concat(this.walkTokens(a.tokens,n));for(const a of l.rows)for(const c of a)i=i.concat(this.walkTokens(c.tokens,n));break}case"list":{const l=r;i=i.concat(this.walkTokens(l.items,n));break}default:{const l=r;(s=(o=this.defaults.extensions)==null?void 0:o.childTokens)!=null&&s[l.type]?this.defaults.extensions.childTokens[l.type].forEach(a=>{const c=l[a].flat(1/0);i=i.concat(this.walkTokens(c,n))}):l.tokens&&(i=i.concat(this.walkTokens(l.tokens,n)))}}return i}use(...e){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(i=>{const o={...i};if(o.async=this.defaults.async||o.async||!1,i.extensions&&(i.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){const r=n.renderers[s.name];r?n.renderers[s.name]=function(...l){let a=s.renderer.apply(this,l);return a===!1&&(a=r.apply(this,l)),a}:n.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const r=n[s.level];r?r.unshift(s.tokenizer):n[s.level]=[s.tokenizer],s.start&&(s.level==="block"?n.startBlock?n.startBlock.push(s.start):n.startBlock=[s.start]:s.level==="inline"&&(n.startInline?n.startInline.push(s.start):n.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(n.childTokens[s.name]=s.childTokens)}),o.extensions=n),i.renderer){const s=this.defaults.renderer||new rl(this.defaults);for(const r in i.renderer){if(!(r in s))throw new Error(`renderer '${r}' does not exist`);if(["options","parser"].includes(r))continue;const l=r;let a=i.renderer[l];i.useNewRenderer||(a=uo(this,ln,Dx).call(this,a,l,s));const c=s[l];s[l]=(...u)=>{let h=a.apply(s,u);return h===!1&&(h=c.apply(s,u)),h||""}}o.renderer=s}if(i.tokenizer){const s=this.defaults.tokenizer||new ol(this.defaults);for(const r in i.tokenizer){if(!(r in s))throw new Error(`tokenizer '${r}' does not exist`);if(["options","rules","lexer"].includes(r))continue;const l=r,a=i.tokenizer[l],c=s[l];s[l]=(...u)=>{let h=a.apply(s,u);return h===!1&&(h=c.apply(s,u)),h}}o.tokenizer=s}if(i.hooks){const s=this.defaults.hooks||new Yo;for(const r in i.hooks){if(!(r in s))throw new Error(`hook '${r}' does not exist`);if(r==="options")continue;const l=r,a=i.hooks[l],c=s[l];Yo.passThroughHooks.has(r)?s[l]=u=>{if(this.defaults.async)return Promise.resolve(a.call(s,u)).then(m=>c.call(s,m));const h=a.call(s,u);return c.call(s,h)}:s[l]=(...u)=>{let h=a.apply(s,u);return h===!1&&(h=c.apply(s,u)),h}}o.hooks=s}if(i.walkTokens){const s=this.defaults.walkTokens,r=i.walkTokens;o.walkTokens=function(l){let a=[];return a.push(r.call(this,l)),s&&(a=a.concat(s.call(this,l))),a}}this.defaults={...this.defaults,...o}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return zt.lex(e,n??this.defaults)}parser(e,n){return Ft.parse(e,n??this.defaults)}}ln=new WeakSet,Dx=function(e,n,i){switch(n){case"heading":return function(o){return!o.type||o.type!==n?e.apply(this,arguments):e.call(this,i.parser.parseInline(o.tokens),o.depth,DS(i.parser.parseInline(o.tokens,i.parser.textRenderer)))};case"code":return function(o){return!o.type||o.type!==n?e.apply(this,arguments):e.call(this,o.text,o.lang,!!o.escaped)};case"table":return function(o){if(!o.type||o.type!==n)return e.apply(this,arguments);let s="",r="";for(let a=0;a<o.header.length;a++)r+=this.tablecell({text:o.header[a].text,tokens:o.header[a].tokens,header:!0,align:o.align[a]});s+=this.tablerow({text:r});let l="";for(let a=0;a<o.rows.length;a++){const c=o.rows[a];r="";for(let u=0;u<c.length;u++)r+=this.tablecell({text:c[u].text,tokens:c[u].tokens,header:!1,align:o.align[u]});l+=this.tablerow({text:r})}return e.call(this,s,l)};case"blockquote":return function(o){if(!o.type||o.type!==n)return e.apply(this,arguments);const s=this.parser.parse(o.tokens);return e.call(this,s)};case"list":return function(o){if(!o.type||o.type!==n)return e.apply(this,arguments);const s=o.ordered,r=o.start,l=o.loose;let a="";for(let c=0;c<o.items.length;c++){const u=o.items[c],h=u.checked,m=u.task;let g="";if(u.task){const x=this.checkbox({checked:!!h});l?u.tokens.length>0&&u.tokens[0].type==="paragraph"?(u.tokens[0].text=x+" "+u.tokens[0].text,u.tokens[0].tokens&&u.tokens[0].tokens.length>0&&u.tokens[0].tokens[0].type==="text"&&(u.tokens[0].tokens[0].text=x+" "+u.tokens[0].tokens[0].text)):u.tokens.unshift({type:"text",text:x+" "}):g+=x+" "}g+=this.parser.parse(u.tokens,l),a+=this.listitem({type:"list_item",raw:g,text:g,task:m,checked:!!h,loose:l,tokens:u.tokens})}return e.call(this,a,s,r)};case"html":return function(o){return!o.type||o.type!==n?e.apply(this,arguments):e.call(this,o.text,o.block)};case"paragraph":return function(o){return!o.type||o.type!==n?e.apply(this,arguments):e.call(this,this.parser.parseInline(o.tokens))};case"escape":return function(o){return!o.type||o.type!==n?e.apply(this,arguments):e.call(this,o.text)};case"link":return function(o){return!o.type||o.type!==n?e.apply(this,arguments):e.call(this,o.href,o.title,this.parser.parseInline(o.tokens))};case"image":return function(o){return!o.type||o.type!==n?e.apply(this,arguments):e.call(this,o.href,o.title,o.text)};case"strong":return function(o){return!o.type||o.type!==n?e.apply(this,arguments):e.call(this,this.parser.parseInline(o.tokens))};case"em":return function(o){return!o.type||o.type!==n?e.apply(this,arguments):e.call(this,this.parser.parseInline(o.tokens))};case"codespan":return function(o){return!o.type||o.type!==n?e.apply(this,arguments):e.call(this,o.text)};case"del":return function(o){return!o.type||o.type!==n?e.apply(this,arguments):e.call(this,this.parser.parseInline(o.tokens))};case"text":return function(o){return!o.type||o.type!==n?e.apply(this,arguments):e.call(this,o.text)}}return e},zc=function(e,n){return(i,o)=>{const s={...o},r={...this.defaults,...s};this.defaults.async===!0&&s.async===!1&&(r.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),r.async=!0);const l=uo(this,ln,Lx).call(this,!!r.silent,!!r.async);if(typeof i>"u"||i===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof i!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected"));if(r.hooks&&(r.hooks.options=r),r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(i):i).then(a=>e(a,r)).then(a=>r.hooks?r.hooks.processAllTokens(a):a).then(a=>r.walkTokens?Promise.all(this.walkTokens(a,r.walkTokens)).then(()=>a):a).then(a=>n(a,r)).then(a=>r.hooks?r.hooks.postprocess(a):a).catch(l);try{r.hooks&&(i=r.hooks.preprocess(i));let a=e(i,r);r.hooks&&(a=r.hooks.processAllTokens(a)),r.walkTokens&&this.walkTokens(a,r.walkTokens);let c=n(a,r);return r.hooks&&(c=r.hooks.postprocess(c)),c}catch(a){return l(a)}}},Lx=function(e,n){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const o="<p>An error occurred:</p><pre>"+et(i.message+"",!0)+"</pre>";return n?Promise.resolve(o):o}if(n)return Promise.reject(i);throw i}};const ci=new ub;function Z(t,e){return ci.parse(t,e)}Z.options=Z.setOptions=function(t){return ci.setOptions(t),Z.defaults=ci.defaults,Cx(Z.defaults),Z};Z.getDefaults=ad;Z.defaults=mi;Z.use=function(...t){return ci.use(...t),Z.defaults=ci.defaults,Cx(Z.defaults),Z};Z.walkTokens=function(t,e){return ci.walkTokens(t,e)};Z.parseInline=ci.parseInline;Z.Parser=Ft;Z.parser=Ft.parse;Z.Renderer=rl;Z.TextRenderer=hd;Z.Lexer=zt;Z.lexer=zt.lex;Z.Tokenizer=ol;Z.Hooks=Yo;Z.parse=Z;Z.options;Z.setOptions;Z.use;Z.walkTokens;Z.parseInline;Ft.parse;zt.lex;const md=t=>f.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),f.jsx("polyline",{points:"7 10 12 15 17 10"}),f.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),db=({assessment:t,score:e,onRetake:n,onBackToHome:i})=>{const o=t.results.find(r=>e>=r.scoreMin&&e<=r.scoreMax)||t.results.sort((r,l)=>r.scoreMin-l.scoreMin)[0],s=()=>{const r=new Date().toLocaleDateString("it-IT"),l=`CLINICAL WELLNESS SPA - RISULTATO TEST

Test: ${t.title}
Data: ${r}
Punteggio: ${e}

Risultato: ${o.title}

Analisi:
${o.summary}

Nota: Questo documento  generato automaticamente e non sostituisce un parere medico professionale.`,a=new Blob(["\uFEFF"+l],{type:"text/plain;charset=utf-8"}),c=URL.createObjectURL(a),u=document.createElement("a");u.href=c,u.download=`Risultato_${t.id}_${r.replace(/\//g,"-")}.txt`,document.body.appendChild(u),u.click(),document.body.removeChild(u)};return f.jsx("div",{className:"p-4 md:p-8 text-center animate-fade-in",children:f.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg max-w-2xl mx-auto",children:[f.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-2",children:o.title}),f.jsxs("p",{className:"text-lg text-slate-600 mb-4",children:["Il tuo punteggio: ",f.jsx("span",{className:"font-bold text-sky-600",children:e})]}),f.jsx("div",{className:"prose text-slate-700 text-left my-6 mx-auto",dangerouslySetInnerHTML:{__html:Z.parse(o.summary)}}),f.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4 mt-8",children:[f.jsx("button",{onClick:n,className:"px-6 py-3 bg-slate-200 text-slate-800 font-semibold rounded-lg hover:bg-slate-300 transition-colors",children:"Ripeti il test"}),f.jsxs("button",{onClick:s,className:"px-6 py-3 bg-emerald-500 text-white font-semibold rounded-lg hover:bg-emerald-600 transition-colors flex items-center justify-center gap-2",children:[f.jsx(md,{className:"w-5 h-5"}),"Scarica Report (.txt)"]}),f.jsx("button",{onClick:i,className:"px-6 py-3 bg-sky-600 text-white font-semibold rounded-lg hover:bg-sky-700 transition-colors shadow-md",children:"Torna alla Home"})]})]})})},So=(t,e)=>{if(t===0)return null;const n=Xt[e];if(!n)return null;const i=n.questions.length*4;return Math.min(100,Math.round(t/i*100))},fb=t=>{const e=(n,i,o,s,r,l)=>n===null||o===null||r===null?null:Math.round(n*i+o*s+r*l);return{body:e(t.fitness,.5,t.sleep,.3,t.diet,.2),mind:e(t.sleep,.4,t.stress,.5,t.microbiome,.1),emotions:e(t.sleep,.4,t.stress,.5,t.diet,.1)}},On={DEPRESSION_HAPPINESS:`
    <h4 class="font-bold text-sky-700 mb-2">ESERCIZI PER LA SALUTE E FELICITA' - Decalogo per la Gestione della Depressione</h4>
    <ol class="list-decimal list-inside space-y-1 text-sm">
        <li><strong>Mindfulness:</strong> Pratica la meditazione mindfulness per 20-30 minuti al giorno.</li>
        <li><strong>Esercizio Fisico:</strong> Fai esercizio fisico regolarmente, almeno 30 minuti al giorno.</li>
        <li><strong>Connettersi con gli Altri:</strong> Trascorri tempo con amici e familiari.</li>
        <li><strong>Pianificazione delle Attivit:</strong> Organizza attivit piacevoli e gratificanti.</li>
        <li><strong>Alimentazione Sana:</strong> Mantieni una dieta equilibrata e nutriente.</li>
        <li><strong>Routine del Sonno:</strong> Segui una routine regolare per il sonno.</li>
        <li><strong>Limitare l'Alcool:</strong> Evita il consumo eccessivo di alcool.</li>
        <li><strong>Diario delle Emozioni:</strong> Scrivi i tuoi pensieri e le tue emozioni ogni giorno.</li>
        <li><strong>Terapia e Supporto:</strong> Se necessario chiedi il supporto di un terapeuta.</li>
        <li><strong>Tecniche di Gestione dello Stress:</strong> Respirazione profonda e rilassamento muscolare.</li>
    </ol>
    <p class="mt-2 text-xs font-semibold">Durata degli Esercizi: 20 gg poi eseguire nuovamente i test.</p>
    `,MINDFULNESS_INSOMNIA:`
    <h4 class="font-bold text-sky-700 mb-2">MINDFULNESS PER GESTIRE L'INSONNIA</h4>
    <p class="text-sm mb-2">La pratica della Mindfulness pu migliorare la qualit del sonno aiutando a calmare la mente prima di dormire. Attraverso la pratica regolare, si impara a osservare i propri pensieri senza esserne travolti.</p>
    <p class="text-sm mb-2">Si consiglia di meditare regolarmente <strong>15-20 minuti al giorno</strong> prima di andare a letto.</p>
    <p class="mt-2 text-xs font-semibold">Durata degli esercizi: 20 gg poi eseguire nuovamente i test.</p>
    `,OSTEOPATHY:`
    <h4 class="font-bold text-sky-700 mb-2">Postura, Stress e Longevit: Osteopatia Strutturale</h4>
    <p class="text-sm mb-2">L'Osteopatia interviene sulle disfunzioni strutturali, migliorando l'allineamento corporeo e prevenendo problemi legati a una postura scorretta. Il trattamento pu agire sulla componente neurovegetativa e sullo stress.</p>
    <ul class="list-disc list-inside space-y-1 text-sm">
        <li>Miglioramento mobilit e respirazione</li>
        <li>Riduzione tensioni muscolari da stress</li>
        <li>Massaggi terapeutici per rilascio endorfine</li>
    </ul>
    <p class="mt-2 text-xs font-semibold">Durata del trattamento: 10 sedute poi eseguire nuovamente i test.</p>
    `,BINAURAL:`
    <h4 class="font-bold text-sky-700 mb-2">Terapia Binaurale per l'Ansia</h4>
    <p class="text-sm mb-2">Si consiglia terapia 20-30 minuti con <strong>Onde Alpha () + Onde Delta ()</strong>.</p>
    <ul class="list-disc list-inside space-y-1 text-sm">
        <li><strong>396 Hz:</strong> Libera dal senso di colpa e ansia</li>
        <li><strong>417 Hz:</strong> Cambiamento, lasciare andare il passato</li>
        <li><strong>528 Hz:</strong> Riparazione e armonizzazione del DNA</li>
    </ul>
    <p class="mt-2 text-xs font-semibold">Durata della terapia: 20 gg poi eseguire nuovamente i test.</p>
    `,SAUNA:`
    <h4 class="font-bold text-sky-700 mb-2">SAUNA INFRAROSSI</h4>
    <p class="text-sm mb-2">La sauna infrarossi produce un effettivo e localizzato dimagrimento (sino a 900 Kcal a seduta) ed elimina tossine e metalli pesanti.</p>
    <ul class="list-disc list-inside space-y-1 text-sm">
        <li>Migliora la pelle (pi luminosa ed elastica)</li>
        <li>Favorisce il sonno e la circolazione</li>
        <li>Ottimo prima di massaggi e trattamenti estetici</li>
    </ul>
    <p class="mt-2 text-xs font-semibold">Durata: 10 sedute poi eseguire nuovamente i test.</p>
    `,DETOX:`
    <h4 class="font-bold text-sky-700 mb-2">TERAPIA DETOX - Tisane Naturali</h4>
    <ul class="list-disc list-inside space-y-1 text-sm">
        <li><strong>Tarassaco:</strong> azione depurativa (radice secca, scorza limone, zenzero).</li>
        <li><strong>T Verde e Ortica:</strong> azione antiossidante.</li>
        <li><strong>Finocchio e Zenzero:</strong> azione digestiva.</li>
        <li><strong>Zenzero e Curcuma:</strong> azione antinfiammatoria.</li>
    </ul>
    <p class="mt-2 text-xs font-semibold">Durata della terapia Detox: 4 settimane poi eseguire nuovamente i test.</p>
    `,BIOFEEDBACK:`
    <h4 class="font-bold text-sky-700 mb-2">COERENZA CARDIACA E HRV</h4>
    <p class="text-sm mb-2">Per combattere stress, ansia e insonnia,  fondamentale monitorare e migliorare la variabilit della frequenza cardiaca (HRV).</p>
    <ul class="list-disc list-inside space-y-1 text-sm">
        <li>Utilizza lo strumento di <strong>Coerenza Cardiaca</strong> in app quotidianamente.</li>
        <li>Valuta esami clinici specifici come <strong>Holter Cardiaco/Pressorio</strong> o <strong>ECG</strong> disponibili in farmacia.</li>
    </ul>
    `},pb=(t,e)=>{const n=[];e.stress!==null&&e.stress<50&&n.push({title:"Gestione Ansia & Stress",status:"critical",description:"Livelli di stress elevati. Consigliamo di agire subito monitorando il cuore (HRV) e praticando il rilassamento.",detailedContent:On.BIOFEEDBACK+"<br/>"+On.BINAURAL,therapies:["Coerenza Cardiaca (vedi app)","Holter Cardiaco/Pressorio","Test Cortisolo Salivare"],actionLink:"breathing"}),e.sleep!==null&&e.sleep<50&&n.push({title:"Qualit del Sonno",status:"critical",description:"Il riposo notturno non  rigenerante. Oltre alla mindfulness, valuta l'impatto fisiologico dello stress.",detailedContent:On.MINDFULNESS_INSOMNIA+"<br/><p class='text-sm mt-2'>Consigliato anche check <strong>HRV e Coerenza Cardiaca</strong>.</p>",therapies:["Polisonnografia (prenota in analisi)","Mindfulness serale","Coerenza Cardiaca"],actionLink:"analysisQuote"}),(e.diet!==null&&e.diet<50||e.microbiome!==null&&e.microbiome<50)&&n.push({title:"Detox & Nutrizione",status:"moderate",description:"Il sistema digerente necessita di depurazione. Utile indagare intolleranze.",detailedContent:On.DETOX,therapies:["Test Intolleranze/Microbioma","Tisane depurative","Piano nutrizionale"],actionLink:"analysisQuote"}),e.fitness!==null&&e.fitness<40&&n.push({title:"Struttura & Postura",status:"moderate",description:"Possibili tensioni muscolari. Un check-up posturale pu prevenire dolori cronici.",detailedContent:On.OSTEOPATHY,therapies:["Valutazione Osteopatica","Massaggi decontratturanti","Esercizi posturali"],actionLink:"spaBookings"}),t.mind!==null&&t.mind<50&&n.push({title:"Riequilibrio Emozionale",status:"critical",description:"Strategie per ritrovare la serenit. La sauna infrarossi pu aiutare il rilascio di tensioni profonde.",detailedContent:On.DEPRESSION_HAPPINESS+"<br/>"+On.SAUNA,therapies:["Supporto psicologico","Sauna Infrarossi","Percorsi SPA Relax"],actionLink:"spaBookings"});const i=t.body!==null&&t.mind!==null?(t.body+t.mind)/2:null;return i!==null&&i>=60&&n.length===0&&n.push({title:"Mantenimento Benessere",status:"optimal",description:"Il tuo stato di salute  buono. Continua con protocolli di mantenimento per la longevit.",therapies:["Massaggi di mantenimento","Check-up annuale (Analisi sangue)","Trattamenti viso/corpo prevenzione"],actionLink:"spaBookings"}),n};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ms(t){return t+.5|0}const yn=(t,e,n)=>Math.max(Math.min(t,n),e);function Do(t){return yn(Ms(t*2.55),0,255)}function Pn(t){return yn(Ms(t*255),0,255)}function qt(t){return yn(Ms(t/2.55)/100,0,1)}function lp(t){return yn(Ms(t*100),0,100)}const ct={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Fc=[..."0123456789ABCDEF"],hb=t=>Fc[t&15],mb=t=>Fc[(t&240)>>4]+Fc[t&15],Xs=t=>(t&240)>>4===(t&15),gb=t=>Xs(t.r)&&Xs(t.g)&&Xs(t.b)&&Xs(t.a);function xb(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&ct[t[1]]*17,g:255&ct[t[2]]*17,b:255&ct[t[3]]*17,a:e===5?ct[t[4]]*17:255}:(e===7||e===9)&&(n={r:ct[t[1]]<<4|ct[t[2]],g:ct[t[3]]<<4|ct[t[4]],b:ct[t[5]]<<4|ct[t[6]],a:e===9?ct[t[7]]<<4|ct[t[8]]:255})),n}const vb=(t,e)=>t<255?e(t):"";function yb(t){var e=gb(t)?hb:mb;return t?"#"+e(t.r)+e(t.g)+e(t.b)+vb(t.a,e):void 0}const _b=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function zx(t,e,n){const i=e*Math.min(n,1-n),o=(s,r=(s+t/30)%12)=>n-i*Math.max(Math.min(r-3,9-r,1),-1);return[o(0),o(8),o(4)]}function wb(t,e,n){const i=(o,s=(o+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function Sb(t,e,n){const i=zx(t,1,.5);let o;for(e+n>1&&(o=1/(e+n),e*=o,n*=o),o=0;o<3;o++)i[o]*=1-e-n,i[o]+=e;return i}function bb(t,e,n,i,o){return t===o?(e-n)/i+(e<n?6:0):e===o?(n-t)/i+2:(t-e)/i+4}function gd(t){const n=t.r/255,i=t.g/255,o=t.b/255,s=Math.max(n,i,o),r=Math.min(n,i,o),l=(s+r)/2;let a,c,u;return s!==r&&(u=s-r,c=l>.5?u/(2-s-r):u/(s+r),a=bb(n,i,o,u,s),a=a*60+.5),[a|0,c||0,l]}function xd(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Pn)}function vd(t,e,n){return xd(zx,t,e,n)}function Cb(t,e,n){return xd(Sb,t,e,n)}function Tb(t,e,n){return xd(wb,t,e,n)}function Fx(t){return(t%360+360)%360}function kb(t){const e=_b.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Do(+e[5]):Pn(+e[5]));const o=Fx(+e[2]),s=+e[3]/100,r=+e[4]/100;return e[1]==="hwb"?i=Cb(o,s,r):e[1]==="hsv"?i=Tb(o,s,r):i=vd(o,s,r),{r:i[0],g:i[1],b:i[2],a:n}}function Ib(t,e){var n=gd(t);n[0]=Fx(n[0]+e),n=vd(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Eb(t){if(!t)return;const e=gd(t),n=e[0],i=lp(e[1]),o=lp(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${o}%, ${qt(t.a)})`:`hsl(${n}, ${i}%, ${o}%)`}const ap={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},cp={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Nb(){const t={},e=Object.keys(cp),n=Object.keys(ap);let i,o,s,r,l;for(i=0;i<e.length;i++){for(r=l=e[i],o=0;o<n.length;o++)s=n[o],l=l.replace(s,ap[s]);s=parseInt(cp[r],16),t[l]=[s>>16&255,s>>8&255,s&255]}return t}let Zs;function Ab(t){Zs||(Zs=Nb(),Zs.transparent=[0,0,0,0]);const e=Zs[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Mb=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Pb(t){const e=Mb.exec(t);let n=255,i,o,s;if(e){if(e[7]!==i){const r=+e[7];n=e[8]?Do(r):yn(r*255,0,255)}return i=+e[1],o=+e[3],s=+e[5],i=255&(e[2]?Do(i):yn(i,0,255)),o=255&(e[4]?Do(o):yn(o,0,255)),s=255&(e[6]?Do(s):yn(s,0,255)),{r:i,g:o,b:s,a:n}}}function Rb(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${qt(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Na=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,vi=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Db(t,e,n){const i=vi(qt(t.r)),o=vi(qt(t.g)),s=vi(qt(t.b));return{r:Pn(Na(i+n*(vi(qt(e.r))-i))),g:Pn(Na(o+n*(vi(qt(e.g))-o))),b:Pn(Na(s+n*(vi(qt(e.b))-s))),a:t.a+n*(e.a-t.a)}}function er(t,e,n){if(t){let i=gd(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=vd(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function Ux(t,e){return t&&Object.assign(e||{},t)}function up(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Pn(t[3]))):(e=Ux(t,{r:0,g:0,b:0,a:1}),e.a=Pn(e.a)),e}function Lb(t){return t.charAt(0)==="r"?Pb(t):kb(t)}class ys{constructor(e){if(e instanceof ys)return e;const n=typeof e;let i;n==="object"?i=up(e):n==="string"&&(i=xb(e)||Ab(e)||Lb(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=Ux(this._rgb);return e&&(e.a=qt(e.a)),e}set rgb(e){this._rgb=up(e)}rgbString(){return this._valid?Rb(this._rgb):void 0}hexString(){return this._valid?yb(this._rgb):void 0}hslString(){return this._valid?Eb(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,o=e.rgb;let s;const r=n===s?.5:n,l=2*r-1,a=i.a-o.a,c=((l*a===-1?l:(l+a)/(1+l*a))+1)/2;s=1-c,i.r=255&c*i.r+s*o.r+.5,i.g=255&c*i.g+s*o.g+.5,i.b=255&c*i.b+s*o.b+.5,i.a=r*i.a+(1-r)*o.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=Db(this._rgb,e._rgb,n)),this}clone(){return new ys(this.rgb)}alpha(e){return this._rgb.a=Pn(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Ms(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return er(this._rgb,2,e),this}darken(e){return er(this._rgb,2,-e),this}saturate(e){return er(this._rgb,1,e),this}desaturate(e){return er(this._rgb,1,-e),this}rotate(e){return Ib(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ot(){}const zb=(()=>{let t=0;return()=>t++})();function te(t){return t==null}function ue(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function K(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ke(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Mt(t,e){return ke(t)?t:e}function Y(t,e){return typeof t>"u"?e:t}const Fb=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function oe(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ee(t,e,n,i){let o,s,r;if(ue(t))for(s=t.length,o=0;o<s;o++)e.call(n,t[o],o);else if(K(t))for(r=Object.keys(t),s=r.length,o=0;o<s;o++)e.call(n,t[r[o]],r[o])}function ll(t,e){let n,i,o,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(o=t[n],s=e[n],o.datasetIndex!==s.datasetIndex||o.index!==s.index)return!1;return!0}function al(t){if(ue(t))return t.map(al);if(K(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let o=0;for(;o<i;++o)e[n[o]]=al(t[n[o]]);return e}return t}function Bx(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Ub(t,e,n,i){if(!Bx(t))return;const o=e[t],s=n[t];K(o)&&K(s)?_s(o,s,i):e[t]=al(s)}function _s(t,e,n){const i=ue(e)?e:[e],o=i.length;if(!K(t))return t;n=n||{};const s=n.merger||Ub;let r;for(let l=0;l<o;++l){if(r=i[l],!K(r))continue;const a=Object.keys(r);for(let c=0,u=a.length;c<u;++c)s(a[c],t,r,n)}return t}function Ko(t,e){return _s(t,e,{merger:Bb})}function Bb(t,e,n){if(!Bx(t))return;const i=e[t],o=n[t];K(i)&&K(o)?Ko(i,o):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=al(o))}const dp={"":t=>t,x:t=>t.x,y:t=>t.y};function Vb(t){const e=t.split("."),n=[];let i="";for(const o of e)i+=o,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function Ob(t){const e=Vb(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function ws(t,e){return(dp[e]||(dp[e]=Ob(e)))(t)}function yd(t){return t.charAt(0).toUpperCase()+t.slice(1)}const cl=t=>typeof t<"u",Ln=t=>typeof t=="function",fp=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function Hb(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const _e=Math.PI,st=2*_e,jb=st+_e,ul=Number.POSITIVE_INFINITY,$b=_e/180,it=_e/2,Hn=_e/4,pp=_e*2/3,Vx=Math.log10,eo=Math.sign;function Qo(t,e,n){return Math.abs(t-e)<n}function hp(t){const e=Math.round(t);t=Qo(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Vx(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function Gb(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((o,s)=>o-s).pop(),e}function qb(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Ss(t){return!qb(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Wb(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Jb(t,e,n){let i,o,s;for(i=0,o=t.length;i<o;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function _n(t){return t*(_e/180)}function _d(t){return t*(180/_e)}function mp(t){if(!ke(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Yb(t,e){const n=e.x-t.x,i=e.y-t.y,o=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*_e&&(s+=st),{angle:s,distance:o}}function Uc(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Kb(t,e){return(t-e+jb)%st-_e}function tt(t){return(t%st+st)%st}function Ox(t,e,n,i){const o=tt(t),s=tt(e),r=tt(n),l=tt(s-o),a=tt(r-o),c=tt(o-s),u=tt(o-r);return o===s||o===r||i&&s===r||l>a&&c<u}function pt(t,e,n){return Math.max(e,Math.min(n,t))}function Qb(t){return pt(t,-32768,32767)}function Pi(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function wd(t,e,n){n=n||(r=>t[r]<e);let i=t.length-1,o=0,s;for(;i-o>1;)s=o+i>>1,n(s)?o=s:i=s;return{lo:o,hi:i}}const Zn=(t,e,n,i)=>wd(t,n,i?o=>{const s=t[o][e];return s<n||s===n&&t[o+1][e]===n}:o=>t[o][e]<n),Xb=(t,e,n)=>wd(t,n,i=>t[i][e]>=n);function Zb(t,e,n){let i=0,o=t.length;for(;i<o&&t[i]<e;)i++;for(;o>i&&t[o-1]>n;)o--;return i>0||o<t.length?t.slice(i,o):t}const Hx=["push","pop","shift","splice","unshift"];function e1(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Hx.forEach(n=>{const i="_onData"+yd(n),o=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const r=o.apply(this,s);return t._chartjs.listeners.forEach(l=>{typeof l[i]=="function"&&l[i](...s)}),r}})})}function gp(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,o=i.indexOf(e);o!==-1&&i.splice(o,1),!(i.length>0)&&(Hx.forEach(s=>{delete t[s]}),delete t._chartjs)}function t1(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const jx=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function $x(t,e){let n=[],i=!1;return function(...o){n=o,i||(i=!0,jx.call(window,()=>{i=!1,t.apply(e,n)}))}}function n1(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const Sd=t=>t==="start"?"left":t==="end"?"right":"center",Re=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,i1=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function o1(t,e,n){const i=e.length;let o=0,s=i;if(t._sorted){const{iScale:r,vScale:l,_parsed:a}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=r.axis,{min:h,max:m,minDefined:g,maxDefined:x}=r.getUserBounds();if(g){if(o=Math.min(Zn(a,u,h).lo,n?i:Zn(e,u,r.getPixelForValue(h)).lo),c){const y=a.slice(0,o+1).reverse().findIndex(v=>!te(v[l.axis]));o-=Math.max(0,y)}o=pt(o,0,i-1)}if(x){let y=Math.max(Zn(a,r.axis,m,!0).hi+1,n?0:Zn(e,u,r.getPixelForValue(m),!0).hi+1);if(c){const v=a.slice(y-1).findIndex(_=>!te(_[l.axis]));y+=Math.max(0,v)}s=pt(y,o,i)-o}else s=i-o}return{start:o,count:s}}function s1(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,o={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=o,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,o),s}const tr=t=>t===0||t===1,xp=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*st/n)),vp=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*st/n)+1,Xo={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*it)+1,easeOutSine:t=>Math.sin(t*it),easeInOutSine:t=>-.5*(Math.cos(_e*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>tr(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>tr(t)?t:xp(t,.075,.3),easeOutElastic:t=>tr(t)?t:vp(t,.075,.3),easeInOutElastic(t){return tr(t)?t:t<.5?.5*xp(t*2,.1125,.45):.5+.5*vp(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Xo.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Xo.easeInBounce(t*2)*.5:Xo.easeOutBounce(t*2-1)*.5+.5};function bd(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function yp(t){return bd(t)?t:new ys(t)}function Aa(t){return bd(t)?t:new ys(t).saturate(.5).darken(.1).hexString()}const r1=["x","y","borderWidth","radius","tension"],l1=["color","borderColor","backgroundColor"];function a1(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:l1},numbers:{type:"number",properties:r1}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function c1(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const _p=new Map;function u1(t,e){e=e||{};const n=t+JSON.stringify(e);let i=_p.get(n);return i||(i=new Intl.NumberFormat(t,e),_p.set(n,i)),i}function Gx(t,e,n){return u1(e,n).format(t)}const d1={values(t){return ue(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let o,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(o="scientific"),s=f1(t,n)}const r=Vx(Math.abs(s)),l=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),a={notation:o,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(a,this.options.ticks.format),Gx(t,i,a)}};function f1(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Cd={formatters:d1};function p1(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Cd.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ui=Object.create(null),Bc=Object.create(null);function Zo(t,e){if(!e)return t;const n=e.split(".");for(let i=0,o=n.length;i<o;++i){const s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function Ma(t,e,n){return typeof e=="string"?_s(Zo(t,e),n):_s(Zo(t,""),e)}class h1{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,o)=>Aa(o.backgroundColor),this.hoverBorderColor=(i,o)=>Aa(o.borderColor),this.hoverColor=(i,o)=>Aa(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Ma(this,e,n)}get(e){return Zo(this,e)}describe(e,n){return Ma(Bc,e,n)}override(e,n){return Ma(ui,e,n)}route(e,n,i,o){const s=Zo(this,e),r=Zo(this,i),l="_"+n;Object.defineProperties(s,{[l]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const a=this[l],c=r[o];return K(a)?Object.assign({},c,a):Y(a,c)},set(a){this[l]=a}}})}apply(e){e.forEach(n=>n(this))}}var ge=new h1({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[a1,c1,p1]);function m1(t){return!t||te(t.size)||te(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function dl(t,e,n,i,o){let s=e[o];return s||(s=e[o]=t.measureText(o).width,n.push(o)),s>i&&(i=s),i}function g1(t,e,n,i){i=i||{};let o=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(o=i.data={},s=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let r=0;const l=n.length;let a,c,u,h,m;for(a=0;a<l;a++)if(h=n[a],h!=null&&!ue(h))r=dl(t,o,s,r,h);else if(ue(h))for(c=0,u=h.length;c<u;c++)m=h[c],m!=null&&!ue(m)&&(r=dl(t,o,s,r,m));t.restore();const g=s.length/2;if(g>n.length){for(a=0;a<g;a++)delete o[s[a]];s.splice(0,g)}return r}function jn(t,e,n){const i=t.currentDevicePixelRatio,o=n!==0?Math.max(n/2,.5):0;return Math.round((e-o)*i)/i+o}function wp(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Vc(t,e,n,i){qx(t,e,n,i,null)}function qx(t,e,n,i,o){let s,r,l,a,c,u,h,m;const g=e.pointStyle,x=e.rotation,y=e.radius;let v=(x||0)*$b;if(g&&typeof g=="object"&&(s=g.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(v),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),g){default:o?t.ellipse(n,i,o/2,y,0,0,st):t.arc(n,i,y,0,st),t.closePath();break;case"triangle":u=o?o/2:y,t.moveTo(n+Math.sin(v)*u,i-Math.cos(v)*y),v+=pp,t.lineTo(n+Math.sin(v)*u,i-Math.cos(v)*y),v+=pp,t.lineTo(n+Math.sin(v)*u,i-Math.cos(v)*y),t.closePath();break;case"rectRounded":c=y*.516,a=y-c,r=Math.cos(v+Hn)*a,h=Math.cos(v+Hn)*(o?o/2-c:a),l=Math.sin(v+Hn)*a,m=Math.sin(v+Hn)*(o?o/2-c:a),t.arc(n-h,i-l,c,v-_e,v-it),t.arc(n+m,i-r,c,v-it,v),t.arc(n+h,i+l,c,v,v+it),t.arc(n-m,i+r,c,v+it,v+_e),t.closePath();break;case"rect":if(!x){a=Math.SQRT1_2*y,u=o?o/2:a,t.rect(n-u,i-a,2*u,2*a);break}v+=Hn;case"rectRot":h=Math.cos(v)*(o?o/2:y),r=Math.cos(v)*y,l=Math.sin(v)*y,m=Math.sin(v)*(o?o/2:y),t.moveTo(n-h,i-l),t.lineTo(n+m,i-r),t.lineTo(n+h,i+l),t.lineTo(n-m,i+r),t.closePath();break;case"crossRot":v+=Hn;case"cross":h=Math.cos(v)*(o?o/2:y),r=Math.cos(v)*y,l=Math.sin(v)*y,m=Math.sin(v)*(o?o/2:y),t.moveTo(n-h,i-l),t.lineTo(n+h,i+l),t.moveTo(n+m,i-r),t.lineTo(n-m,i+r);break;case"star":h=Math.cos(v)*(o?o/2:y),r=Math.cos(v)*y,l=Math.sin(v)*y,m=Math.sin(v)*(o?o/2:y),t.moveTo(n-h,i-l),t.lineTo(n+h,i+l),t.moveTo(n+m,i-r),t.lineTo(n-m,i+r),v+=Hn,h=Math.cos(v)*(o?o/2:y),r=Math.cos(v)*y,l=Math.sin(v)*y,m=Math.sin(v)*(o?o/2:y),t.moveTo(n-h,i-l),t.lineTo(n+h,i+l),t.moveTo(n+m,i-r),t.lineTo(n-m,i+r);break;case"line":r=o?o/2:Math.cos(v)*y,l=Math.sin(v)*y,t.moveTo(n-r,i-l),t.lineTo(n+r,i+l);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(v)*(o?o/2:y),i+Math.sin(v)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Yt(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Hl(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function jl(t){t.restore()}function x1(t,e,n,i,o){if(!e)return t.lineTo(n.x,n.y);if(o==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else o==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function v1(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function y1(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),te(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function _1(t,e,n,i,o){if(o.strikethrough||o.underline){const s=t.measureText(i),r=e-s.actualBoundingBoxLeft,l=e+s.actualBoundingBoxRight,a=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=o.strikethrough?(a+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=o.decorationWidth||2,t.moveTo(r,u),t.lineTo(l,u),t.stroke()}}function w1(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function di(t,e,n,i,o,s={}){const r=ue(e)?e:[e],l=s.strokeWidth>0&&s.strokeColor!=="";let a,c;for(t.save(),t.font=o.string,y1(t,s),a=0;a<r.length;++a)c=r[a],s.backdrop&&w1(t,s.backdrop),l&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),te(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,i,s.maxWidth)),t.fillText(c,n,i,s.maxWidth),_1(t,n,i,c,s),i+=Number(o.lineHeight);t.restore()}function fl(t,e){const{x:n,y:i,w:o,h:s,radius:r}=e;t.arc(n+r.topLeft,i+r.topLeft,r.topLeft,1.5*_e,_e,!0),t.lineTo(n,i+s-r.bottomLeft),t.arc(n+r.bottomLeft,i+s-r.bottomLeft,r.bottomLeft,_e,it,!0),t.lineTo(n+o-r.bottomRight,i+s),t.arc(n+o-r.bottomRight,i+s-r.bottomRight,r.bottomRight,it,0,!0),t.lineTo(n+o,i+r.topRight),t.arc(n+o-r.topRight,i+r.topRight,r.topRight,0,-it,!0),t.lineTo(n+r.topLeft,i)}const S1=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,b1=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function C1(t,e){const n=(""+t).match(S1);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const T1=t=>+t||0;function Wx(t,e){const n={},i=K(e),o=i?Object.keys(e):e,s=K(t)?i?r=>Y(t[r],t[e[r]]):r=>t[r]:()=>t;for(const r of o)n[r]=T1(s(r));return n}function k1(t){return Wx(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Oi(t){return Wx(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Fe(t){const e=k1(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function be(t,e){t=t||{},e=e||ge.font;let n=Y(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=Y(t.style,e.style);i&&!(""+i).match(b1)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const o={family:Y(t.family,e.family),lineHeight:C1(Y(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:Y(t.weight,e.weight),string:""};return o.string=m1(o),o}function nr(t,e,n,i){let o,s,r;for(o=0,s=t.length;o<s;++o)if(r=t[o],r!==void 0&&r!==void 0)return r}function I1(t,e,n){const{min:i,max:o}=t,s=Fb(e,(o-i)/2),r=(l,a)=>n&&l===0?0:l+a;return{min:r(i,-Math.abs(s)),max:r(o,s)}}function Bn(t,e){return Object.assign(Object.create(t),e)}function Td(t,e=[""],n,i,o=()=>t[0]){const s=n||t;typeof i>"u"&&(i=Qx("_fallback",t));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:o,override:l=>Td([l,...t],e,s,i)};return new Proxy(r,{deleteProperty(l,a){return delete l[a],delete l._keys,delete t[0][a],!0},get(l,a){return Yx(l,a,()=>L1(a,e,t,l))},getOwnPropertyDescriptor(l,a){return Reflect.getOwnPropertyDescriptor(l._scopes[0],a)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,a){return bp(l).includes(a)},ownKeys(l){return bp(l)},set(l,a,c){const u=l._storage||(l._storage=o());return l[a]=u[a]=c,delete l._keys,!0}})}function to(t,e,n,i){const o={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Jx(t,i),setContext:s=>to(t,s,n,i),override:s=>to(t.override(s),e,n,i)};return new Proxy(o,{deleteProperty(s,r){return delete s[r],delete t[r],!0},get(s,r,l){return Yx(s,r,()=>N1(s,r,l))},getOwnPropertyDescriptor(s,r){return s._descriptors.allKeys?Reflect.has(t,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,r)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,r){return Reflect.has(t,r)},ownKeys(){return Reflect.ownKeys(t)},set(s,r,l){return t[r]=l,delete s[r],!0}})}function Jx(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:o=e.allKeys}=t;return{allKeys:o,scriptable:n,indexable:i,isScriptable:Ln(n)?n:()=>n,isIndexable:Ln(i)?i:()=>i}}const E1=(t,e)=>t?t+yd(e):e,kd=(t,e)=>K(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Yx(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function N1(t,e,n){const{_proxy:i,_context:o,_subProxy:s,_descriptors:r}=t;let l=i[e];return Ln(l)&&r.isScriptable(e)&&(l=A1(e,l,t,n)),ue(l)&&l.length&&(l=M1(e,l,t,r.isIndexable)),kd(e,l)&&(l=to(l,o,s&&s[e],r)),l}function A1(t,e,n,i){const{_proxy:o,_context:s,_subProxy:r,_stack:l}=n;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let a=e(s,r||i);return l.delete(t),kd(t,a)&&(a=Id(o._scopes,o,t,a)),a}function M1(t,e,n,i){const{_proxy:o,_context:s,_subProxy:r,_descriptors:l}=n;if(typeof s.index<"u"&&i(t))return e[s.index%e.length];if(K(e[0])){const a=e,c=o._scopes.filter(u=>u!==a);e=[];for(const u of a){const h=Id(c,o,t,u);e.push(to(h,s,r&&r[t],l))}}return e}function Kx(t,e,n){return Ln(t)?t(e,n):t}const P1=(t,e)=>t===!0?e:typeof t=="string"?ws(e,t):void 0;function R1(t,e,n,i,o){for(const s of e){const r=P1(n,s);if(r){t.add(r);const l=Kx(r._fallback,n,o);if(typeof l<"u"&&l!==n&&l!==i)return l}else if(r===!1&&typeof i<"u"&&n!==i)return null}return!1}function Id(t,e,n,i){const o=e._rootScopes,s=Kx(e._fallback,n,i),r=[...t,...o],l=new Set;l.add(i);let a=Sp(l,r,n,s||n,i);return a===null||typeof s<"u"&&s!==n&&(a=Sp(l,r,s,a,i),a===null)?!1:Td(Array.from(l),[""],o,s,()=>D1(e,n,i))}function Sp(t,e,n,i,o){for(;n;)n=R1(t,e,n,i,o);return n}function D1(t,e,n){const i=t._getTarget();e in i||(i[e]={});const o=i[e];return ue(o)&&K(n)?n:o||{}}function L1(t,e,n,i){let o;for(const s of e)if(o=Qx(E1(s,t),n),typeof o<"u")return kd(t,o)?Id(n,i,t,o):o}function Qx(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function bp(t){let e=t._keys;return e||(e=t._keys=z1(t._scopes)),e}function z1(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(o=>!o.startsWith("_")))e.add(i);return Array.from(e)}function F1(t,e,n,i){const{iScale:o}=t,{key:s="r"}=this._parsing,r=new Array(i);let l,a,c,u;for(l=0,a=i;l<a;++l)c=l+n,u=e[c],r[l]={r:o.parse(ws(u,s),c)};return r}const U1=Number.EPSILON||1e-14,no=(t,e)=>e<t.length&&!t[e].skip&&t[e],Xx=t=>t==="x"?"y":"x";function B1(t,e,n,i){const o=t.skip?e:t,s=e,r=n.skip?e:n,l=Uc(s,o),a=Uc(r,s);let c=l/(l+a),u=a/(l+a);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,m=i*u;return{previous:{x:s.x-h*(r.x-o.x),y:s.y-h*(r.y-o.y)},next:{x:s.x+m*(r.x-o.x),y:s.y+m*(r.y-o.y)}}}function V1(t,e,n){const i=t.length;let o,s,r,l,a,c=no(t,0);for(let u=0;u<i-1;++u)if(a=c,c=no(t,u+1),!(!a||!c)){if(Qo(e[u],0,U1)){n[u]=n[u+1]=0;continue}o=n[u]/e[u],s=n[u+1]/e[u],l=Math.pow(o,2)+Math.pow(s,2),!(l<=9)&&(r=3/Math.sqrt(l),n[u]=o*r*e[u],n[u+1]=s*r*e[u])}}function O1(t,e,n="x"){const i=Xx(n),o=t.length;let s,r,l,a=no(t,0);for(let c=0;c<o;++c){if(r=l,l=a,a=no(t,c+1),!l)continue;const u=l[n],h=l[i];r&&(s=(u-r[n])/3,l[`cp1${n}`]=u-s,l[`cp1${i}`]=h-s*e[c]),a&&(s=(a[n]-u)/3,l[`cp2${n}`]=u+s,l[`cp2${i}`]=h+s*e[c])}}function H1(t,e="x"){const n=Xx(e),i=t.length,o=Array(i).fill(0),s=Array(i);let r,l,a,c=no(t,0);for(r=0;r<i;++r)if(l=a,a=c,c=no(t,r+1),!!a){if(c){const u=c[e]-a[e];o[r]=u!==0?(c[n]-a[n])/u:0}s[r]=l?c?eo(o[r-1])!==eo(o[r])?0:(o[r-1]+o[r])/2:o[r-1]:o[r]}V1(t,o,s),O1(t,s,e)}function ir(t,e,n){return Math.max(Math.min(t,n),e)}function j1(t,e){let n,i,o,s,r,l=Yt(t[0],e);for(n=0,i=t.length;n<i;++n)r=s,s=l,l=n<i-1&&Yt(t[n+1],e),s&&(o=t[n],r&&(o.cp1x=ir(o.cp1x,e.left,e.right),o.cp1y=ir(o.cp1y,e.top,e.bottom)),l&&(o.cp2x=ir(o.cp2x,e.left,e.right),o.cp2y=ir(o.cp2y,e.top,e.bottom)))}function $1(t,e,n,i,o){let s,r,l,a;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")H1(t,o);else{let c=i?t[t.length-1]:t[0];for(s=0,r=t.length;s<r;++s)l=t[s],a=B1(c,l,t[Math.min(s+1,r-(i?0:1))%r],e.tension),l.cp1x=a.previous.x,l.cp1y=a.previous.y,l.cp2x=a.next.x,l.cp2y=a.next.y,c=l}e.capBezierPoints&&j1(t,n)}function Ed(){return typeof window<"u"&&typeof document<"u"}function Nd(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function pl(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const $l=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function G1(t,e){return $l(t).getPropertyValue(e)}const q1=["top","right","bottom","left"];function ii(t,e,n){const i={};n=n?"-"+n:"";for(let o=0;o<4;o++){const s=q1[o];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const W1=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function J1(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:o,offsetY:s}=i;let r=!1,l,a;if(W1(o,s,t.target))l=o,a=s;else{const c=e.getBoundingClientRect();l=i.clientX-c.left,a=i.clientY-c.top,r=!0}return{x:l,y:a,box:r}}function Wn(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,o=$l(n),s=o.boxSizing==="border-box",r=ii(o,"padding"),l=ii(o,"border","width"),{x:a,y:c,box:u}=J1(t,n),h=r.left+(u&&l.left),m=r.top+(u&&l.top);let{width:g,height:x}=e;return s&&(g-=r.width+l.width,x-=r.height+l.height),{x:Math.round((a-h)/g*n.width/i),y:Math.round((c-m)/x*n.height/i)}}function Y1(t,e,n){let i,o;if(e===void 0||n===void 0){const s=t&&Nd(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const r=s.getBoundingClientRect(),l=$l(s),a=ii(l,"border","width"),c=ii(l,"padding");e=r.width-c.width-a.width,n=r.height-c.height-a.height,i=pl(l.maxWidth,s,"clientWidth"),o=pl(l.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||ul,maxHeight:o||ul}}const wn=t=>Math.round(t*10)/10;function K1(t,e,n,i){const o=$l(t),s=ii(o,"margin"),r=pl(o.maxWidth,t,"clientWidth")||ul,l=pl(o.maxHeight,t,"clientHeight")||ul,a=Y1(t,e,n);let{width:c,height:u}=a;if(o.boxSizing==="content-box"){const m=ii(o,"border","width"),g=ii(o,"padding");c-=g.width+m.width,u-=g.height+m.height}return c=Math.max(0,c-s.width),u=Math.max(0,i?c/i:u-s.height),c=wn(Math.min(c,r,a.maxWidth)),u=wn(Math.min(u,l,a.maxHeight)),c&&!u&&(u=wn(c/2)),(e!==void 0||n!==void 0)&&i&&a.height&&u>a.height&&(u=a.height,c=wn(Math.floor(u*i))),{width:c,height:u}}function Cp(t,e,n){const i=e||1,o=wn(t.height*i),s=wn(t.width*i);t.height=wn(t.height),t.width=wn(t.width);const r=t.canvas;return r.style&&(n||!r.style.height&&!r.style.width)&&(r.style.height=`${t.height}px`,r.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||r.height!==o||r.width!==s?(t.currentDevicePixelRatio=i,r.height=o,r.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Q1=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Ed()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Tp(t,e){const n=G1(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Jn(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function X1(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function Z1(t,e,n,i){const o={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},r=Jn(t,o,n),l=Jn(o,s,n),a=Jn(s,e,n),c=Jn(r,l,n),u=Jn(l,a,n);return Jn(c,u,n)}const eC=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},tC=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Hi(t,e,n){return t?eC(e,n):tC()}function Zx(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function ev(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function tv(t){return t==="angle"?{between:Ox,compare:Kb,normalize:tt}:{between:Pi,compare:(e,n)=>e-n,normalize:e=>e}}function kp({start:t,end:e,count:n,loop:i,style:o}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:o}}function nC(t,e,n){const{property:i,start:o,end:s}=n,{between:r,normalize:l}=tv(i),a=e.length;let{start:c,end:u,loop:h}=t,m,g;if(h){for(c+=a,u+=a,m=0,g=a;m<g&&r(l(e[c%a][i]),o,s);++m)c--,u--;c%=a,u%=a}return u<c&&(u+=a),{start:c,end:u,loop:h,style:t.style}}function nv(t,e,n){if(!n)return[t];const{property:i,start:o,end:s}=n,r=e.length,{compare:l,between:a,normalize:c}=tv(i),{start:u,end:h,loop:m,style:g}=nC(t,e,n),x=[];let y=!1,v=null,_,w,S;const b=()=>a(o,S,_)&&l(o,S)!==0,C=()=>l(s,_)===0||a(s,S,_),T=()=>y||b(),k=()=>!y||C();for(let E=u,A=u;E<=h;++E)w=e[E%r],!w.skip&&(_=c(w[i]),_!==S&&(y=a(_,o,s),v===null&&T()&&(v=l(_,o)===0?E:A),v!==null&&k()&&(x.push(kp({start:v,end:E,loop:m,count:r,style:g})),v=null),A=E,S=_));return v!==null&&x.push(kp({start:v,end:h,loop:m,count:r,style:g})),x}function iv(t,e){const n=[],i=t.segments;for(let o=0;o<i.length;o++){const s=nv(i[o],t.points,e);s.length&&n.push(...s)}return n}function iC(t,e,n,i){let o=0,s=e-1;if(n&&!i)for(;o<e&&!t[o].skip;)o++;for(;o<e&&t[o].skip;)o++;for(o%=e,n&&(s+=o);s>o&&t[s%e].skip;)s--;return s%=e,{start:o,end:s}}function oC(t,e,n,i){const o=t.length,s=[];let r=e,l=t[e],a;for(a=e+1;a<=n;++a){const c=t[a%o];c.skip||c.stop?l.skip||(i=!1,s.push({start:e%o,end:(a-1)%o,loop:i}),e=r=c.stop?a:null):(r=a,l.skip&&(e=a)),l=c}return r!==null&&s.push({start:e%o,end:r%o,loop:i}),s}function sC(t,e){const n=t.points,i=t.options.spanGaps,o=n.length;if(!o)return[];const s=!!t._loop,{start:r,end:l}=iC(n,o,s,i);if(i===!0)return Ip(t,[{start:r,end:l,loop:s}],n,e);const a=l<r?l+o:l,c=!!t._fullLoop&&r===0&&l===o-1;return Ip(t,oC(n,r,a,c),n,e)}function Ip(t,e,n,i){return!i||!i.setContext||!n?e:rC(t,e,n,i)}function rC(t,e,n,i){const o=t._chart.getContext(),s=Ep(t.options),{_datasetIndex:r,options:{spanGaps:l}}=t,a=n.length,c=[];let u=s,h=e[0].start,m=h;function g(x,y,v,_){const w=l?-1:1;if(x!==y){for(x+=a;n[x%a].skip;)x-=w;for(;n[y%a].skip;)y+=w;x%a!==y%a&&(c.push({start:x%a,end:y%a,loop:v,style:_}),u=_,h=y%a)}}for(const x of e){h=l?h:x.start;let y=n[h%a],v;for(m=h+1;m<=x.end;m++){const _=n[m%a];v=Ep(i.setContext(Bn(o,{type:"segment",p0:y,p1:_,p0DataIndex:(m-1)%a,p1DataIndex:m%a,datasetIndex:r}))),lC(v,u)&&g(h,m-1,x.loop,u),y=_,u=v}h<m-1&&g(h,m-1,x.loop,u)}return c}function Ep(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function lC(t,e){if(!e)return!1;const n=[],i=function(o,s){return bd(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function or(t,e,n){return t.options.clip?t[n]:e[n]}function aC(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:or(n,e,"left"),right:or(n,e,"right"),top:or(i,e,"top"),bottom:or(i,e,"bottom")}:e}function ov(t,e){const n=e._clip;if(n.disabled)return!1;const i=aC(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class cC{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,o){const s=n.listeners[o],r=n.duration;s.forEach(l=>l({chart:e,initial:n.initial,numSteps:r,currentStep:Math.min(i-n.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=jx.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,o)=>{if(!i.running||!i.items.length)return;const s=i.items;let r=s.length-1,l=!1,a;for(;r>=0;--r)a=s[r],a._active?(a._total>i.duration&&(i.duration=a._total),a.tick(e),l=!0):(s[r]=s[s.length-1],s.pop());l&&(o.draw(),this._notify(o,i,e,"progress")),s.length||(i.running=!1,this._notify(o,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,o)=>Math.max(i,o._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let o=i.length-1;for(;o>=0;--o)i[o].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ht=new cC;const Np="transparent",uC={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=yp(t||Np),o=i.valid&&yp(e||Np);return o&&o.valid?o.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class dC{constructor(e,n,i,o){const s=n[i];o=nr([e.to,o,s,e.from]);const r=nr([e.from,s,o]);this._active=!0,this._fn=e.fn||uC[e.type||typeof r],this._easing=Xo[e.easing]||Xo.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=r,this._to=o,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const o=this._target[this._prop],s=i-this._start,r=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(r,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=nr([e.to,n,o,e.from]),this._from=nr([e.from,o,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,o=this._prop,s=this._from,r=this._loop,l=this._to;let a;if(this._active=s!==l&&(r||n<i),!this._active){this._target[o]=l,this._notify(!0);return}if(n<0){this._target[o]=s;return}a=n/i%2,a=r&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[o]=this._fn(s,l,a)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let o=0;o<i.length;o++)i[o][n]()}}class sv{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!K(e))return;const n=Object.keys(ge.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(o=>{const s=e[o];if(!K(s))return;const r={};for(const l of n)r[l]=s[l];(ue(s.properties)&&s.properties||[o]).forEach(l=>{(l===o||!i.has(l))&&i.set(l,r)})})}_animateOptions(e,n){const i=n.options,o=pC(e,i);if(!o)return[];const s=this._createAnimations(o,i);return i.$shared&&fC(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){const i=this._properties,o=[],s=e.$animations||(e.$animations={}),r=Object.keys(n),l=Date.now();let a;for(a=r.length-1;a>=0;--a){const c=r[a];if(c.charAt(0)==="$")continue;if(c==="options"){o.push(...this._animateOptions(e,n));continue}const u=n[c];let h=s[c];const m=i.get(c);if(h)if(m&&h.active()){h.update(m,u,l);continue}else h.cancel();if(!m||!m.duration){e[c]=u;continue}s[c]=h=new dC(m,e,c,u),o.push(h)}return o}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Ht.add(this._chart,i),!0}}function fC(t,e){const n=[],i=Object.keys(e);for(let o=0;o<i.length;o++){const s=t[i[o]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function pC(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Ap(t,e){const n=t&&t.options||{},i=n.reverse,o=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:o,end:i?o:s}}function hC(t,e,n){if(n===!1)return!1;const i=Ap(t,n),o=Ap(e,n);return{top:o.end,right:i.end,bottom:o.start,left:i.start}}function mC(t){let e,n,i,o;return K(t)?(e=t.top,n=t.right,i=t.bottom,o=t.left):e=n=i=o=t,{top:e,right:n,bottom:i,left:o,disabled:t===!1}}function rv(t,e){const n=[],i=t._getSortedDatasetMetas(e);let o,s;for(o=0,s=i.length;o<s;++o)n.push(i[o].index);return n}function Mp(t,e,n,i={}){const o=t.keys,s=i.mode==="single";let r,l,a,c;if(e===null)return;let u=!1;for(r=0,l=o.length;r<l;++r){if(a=+o[r],a===n){if(u=!0,i.all)continue;break}c=t.values[a],ke(c)&&(s||e===0||eo(e)===eo(c))&&(e+=c)}return!u&&!i.all?0:e}function gC(t,e){const{iScale:n,vScale:i}=e,o=n.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",r=Object.keys(t),l=new Array(r.length);let a,c,u;for(a=0,c=r.length;a<c;++a)u=r[a],l[a]={[o]:u,[s]:t[u]};return l}function Pa(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function xC(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function vC(t){const{min:e,max:n,minDefined:i,maxDefined:o}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:o?n:Number.POSITIVE_INFINITY}}function yC(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function Pp(t,e,n,i){for(const o of e.getMatchingVisibleMetas(i).reverse()){const s=t[o.index];if(n&&s>0||!n&&s<0)return o.index}return null}function Rp(t,e){const{chart:n,_cachedMeta:i}=t,o=n._stacks||(n._stacks={}),{iScale:s,vScale:r,index:l}=i,a=s.axis,c=r.axis,u=xC(s,r,i),h=e.length;let m;for(let g=0;g<h;++g){const x=e[g],{[a]:y,[c]:v}=x,_=x._stacks||(x._stacks={});m=_[c]=yC(o,u,y),m[l]=v,m._top=Pp(m,r,!0,i.type),m._bottom=Pp(m,r,!1,i.type);const w=m._visualValues||(m._visualValues={});w[l]=v}}function Ra(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function _C(t,e){return Bn(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function wC(t,e,n){return Bn(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function bo(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const o of e){const s=o._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const Da=t=>t==="reset"||t==="none",Dp=(t,e)=>e?t:Object.assign({},t),SC=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:rv(n,!0),values:null};class ji{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Pa(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&bo(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),o=(h,m,g,x)=>h==="x"?m:h==="r"?x:g,s=n.xAxisID=Y(i.xAxisID,Ra(e,"x")),r=n.yAxisID=Y(i.yAxisID,Ra(e,"y")),l=n.rAxisID=Y(i.rAxisID,Ra(e,"r")),a=n.indexAxis,c=n.iAxisID=o(a,s,r,l),u=n.vAxisID=o(a,r,s,l);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(r),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&gp(this._data,this),e._stacked&&bo(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(K(n)){const o=this._cachedMeta;this._data=gC(n,o)}else if(i!==n){if(i){gp(i,this);const o=this._cachedMeta;bo(o),o._parsed=[]}n&&Object.isExtensible(n)&&e1(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let o=!1;this._dataCheck();const s=n._stacked;n._stacked=Pa(n.vScale,n),n.stack!==i.stack&&(o=!0,bo(n),n.stack=i.stack),this._resyncElements(e),(o||s!==n._stacked)&&(Rp(this,n._parsed),n._stacked=Pa(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:o}=this,{iScale:s,_stacked:r}=i,l=s.axis;let a=e===0&&n===o.length?!0:i._sorted,c=e>0&&i._parsed[e-1],u,h,m;if(this._parsing===!1)i._parsed=o,i._sorted=!0,m=o;else{ue(o[e])?m=this.parseArrayData(i,o,e,n):K(o[e])?m=this.parseObjectData(i,o,e,n):m=this.parsePrimitiveData(i,o,e,n);const g=()=>h[l]===null||c&&h[l]<c[l];for(u=0;u<n;++u)i._parsed[u+e]=h=m[u],a&&(g()&&(a=!1),c=h);i._sorted=a}r&&Rp(this,m)}parsePrimitiveData(e,n,i,o){const{iScale:s,vScale:r}=e,l=s.axis,a=r.axis,c=s.getLabels(),u=s===r,h=new Array(o);let m,g,x;for(m=0,g=o;m<g;++m)x=m+i,h[m]={[l]:u||s.parse(c[x],x),[a]:r.parse(n[x],x)};return h}parseArrayData(e,n,i,o){const{xScale:s,yScale:r}=e,l=new Array(o);let a,c,u,h;for(a=0,c=o;a<c;++a)u=a+i,h=n[u],l[a]={x:s.parse(h[0],u),y:r.parse(h[1],u)};return l}parseObjectData(e,n,i,o){const{xScale:s,yScale:r}=e,{xAxisKey:l="x",yAxisKey:a="y"}=this._parsing,c=new Array(o);let u,h,m,g;for(u=0,h=o;u<h;++u)m=u+i,g=n[m],c[u]={x:s.parse(ws(g,l),m),y:r.parse(ws(g,a),m)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const o=this.chart,s=this._cachedMeta,r=n[e.axis],l={keys:rv(o,!0),values:n._stacks[e.axis]._visualValues};return Mp(l,r,s.index,{mode:i})}updateRangeFromParsed(e,n,i,o){const s=i[n.axis];let r=s===null?NaN:s;const l=o&&i._stacks[n.axis];o&&l&&(o.values=l,r=Mp(o,s,this._cachedMeta.index)),e.min=Math.min(e.min,r),e.max=Math.max(e.max,r)}getMinMax(e,n){const i=this._cachedMeta,o=i._parsed,s=i._sorted&&e===i.iScale,r=o.length,l=this._getOtherScale(e),a=SC(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=vC(l);let m,g;function x(){g=o[m];const y=g[l.axis];return!ke(g[e.axis])||u>y||h<y}for(m=0;m<r&&!(!x()&&(this.updateRangeFromParsed(c,e,g,a),s));++m);if(s){for(m=r-1;m>=0;--m)if(!x()){this.updateRangeFromParsed(c,e,g,a);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let o,s,r;for(o=0,s=n.length;o<s;++o)r=n[o][e.axis],ke(r)&&i.push(r);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,o=n.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:o?""+o.getLabelForValue(s[o.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=mC(Y(this.options.clip,hC(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,o=i.data||[],s=n.chartArea,r=[],l=this._drawStart||0,a=this._drawCount||o.length-l,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,s,l,a),u=l;u<l+a;++u){const h=o[u];h.hidden||(h.active&&c?r.push(h):h.draw(e,s))}for(u=0;u<r.length;++u)r[u].draw(e,s)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const o=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const r=this._cachedMeta.data[e];s=r.$context||(r.$context=wC(this.getContext(),e,r)),s.parsed=this.getParsed(e),s.raw=o.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=_C(this.chart.getContext(),this.index)),s.dataset=o,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const o=n==="active",s=this._cachedDataOpts,r=e+"-"+n,l=s[r],a=this.enableOptionSharing&&cl(i);if(l)return Dp(l,a);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=o?[`${e}Hover`,"hover",e,""]:[e,""],m=c.getOptionScopes(this.getDataset(),u),g=Object.keys(ge.elements[e]),x=()=>this.getContext(i,o,n),y=c.resolveNamedOptions(m,g,x,h);return y.$shared&&(y.$shared=a,s[r]=Object.freeze(Dp(y,a))),y}_resolveAnimations(e,n,i){const o=this.chart,s=this._cachedDataOpts,r=`animation-${n}`,l=s[r];if(l)return l;let a;if(o.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),m=u.getOptionScopes(this.getDataset(),h);a=u.createResolver(m,this.getContext(e,i,n))}const c=new sv(o,a&&a.animations);return a&&a._cacheable&&(s[r]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Da(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),o=this._sharedOptions,s=this.getSharedOptions(i),r=this.includeOptions(n,s)||s!==o;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:r}}updateElement(e,n,i,o){Da(o)?Object.assign(e,i):this._resolveAnimations(n,o).update(e,i)}updateSharedOptions(e,n,i){e&&!Da(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,o){e.active=o;const s=this.getStyle(n,o);this._resolveAnimations(n,i,o).update(e,{options:!o&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[l,a,c]of this._syncList)this[l](a,c);this._syncList=[];const o=i.length,s=n.length,r=Math.min(s,o);r&&this.parse(0,r),s>o?this._insertElements(o,s-o,e):s<o&&this._removeElements(s,o-s)}_insertElements(e,n,i=!0){const o=this._cachedMeta,s=o.data,r=e+n;let l;const a=c=>{for(c.length+=n,l=c.length-1;l>=r;l--)c[l]=c[l-n]};for(a(s),l=e;l<r;++l)s[l]=new this.dataElementType;this._parsing&&a(o._parsed),this.parse(e,n),i&&this.updateElements(s,e,n,"reset")}updateElements(e,n,i,o){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const o=i._parsed.splice(e,n);i._stacked&&bo(i,o)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,o]=e;this[n](i,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}H(ji,"defaults",{}),H(ji,"datasetElementType",null),H(ji,"dataElementType",null);class Er extends ji{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:o=[],_dataset:s}=n,r=this.chart._animationsDisabled;let{start:l,count:a}=o1(n,o,r);this._drawStart=l,this._drawCount=a,s1(n)&&(l=0,a=o.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=o;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!r,options:c},e),this.updateElements(o,l,a,e)}updateElements(e,n,i,o){const s=o==="reset",{iScale:r,vScale:l,_stacked:a,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,o),m=r.axis,g=l.axis,{spanGaps:x,segment:y}=this.options,v=Ss(x)?x:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||s||o==="none",w=n+i,S=e.length;let b=n>0&&this.getParsed(n-1);for(let C=0;C<S;++C){const T=e[C],k=_?T:{};if(C<n||C>=w){k.skip=!0;continue}const E=this.getParsed(C),A=te(E[g]),N=k[m]=r.getPixelForValue(E[m],C),I=k[g]=s||A?l.getBasePixel():l.getPixelForValue(a?this.applyStack(l,E,a):E[g],C);k.skip=isNaN(N)||isNaN(I)||A,k.stop=C>0&&Math.abs(E[m]-b[m])>v,y&&(k.parsed=E,k.raw=c.data[C]),h&&(k.options=u||this.resolveDataElementOptions(C,T.active?"active":o)),_||this.updateElement(T,C,k,o),b=E}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,o=e.data||[];if(!o.length)return i;const s=o[0].size(this.resolveDataElementOptions(0)),r=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(i,s,r)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}H(Er,"id","line"),H(Er,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),H(Er,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Nr extends ji{getLabelAndValue(e){const n=this._cachedMeta.vScale,i=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(e,n,i,o){return F1.bind(this)(e,n,i,o)}update(e){const n=this._cachedMeta,i=n.dataset,o=n.data||[],s=n.iScale.getLabels();if(i.points=o,e!=="resize"){const r=this.resolveDatasetElementOptions(e);this.options.showLine||(r.borderWidth=0);const l={_loop:!0,_fullLoop:s.length===o.length,options:r};this.updateElement(i,void 0,l,e)}this.updateElements(o,0,o.length,e)}updateElements(e,n,i,o){const s=this._cachedMeta.rScale,r=o==="reset";for(let l=n;l<n+i;l++){const a=e[l],c=this.resolveDataElementOptions(l,a.active?"active":o),u=s.getPointPositionForValue(l,this.getParsed(l).r),h=r?s.xCenter:u.x,m=r?s.yCenter:u.y,g={x:h,y:m,angle:u.angle,skip:isNaN(h)||isNaN(m),options:c};this.updateElement(a,l,g,o)}}}H(Nr,"id","radar"),H(Nr,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),H(Nr,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});function $n(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ad{constructor(e){H(this,"options");this.options=e||{}}static override(e){Object.assign(Ad.prototype,e)}init(){}formats(){return $n()}parse(){return $n()}format(){return $n()}add(){return $n()}diff(){return $n()}startOf(){return $n()}endOf(){return $n()}}var bC={_date:Ad};function CC(t,e,n,i){const{controller:o,data:s,_sorted:r}=t,l=o._cachedMeta.iScale,a=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&r&&s.length){const c=l._reversePixels?Xb:Zn;if(i){if(o._sharedOptions){const u=s[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const m=c(s,e,n-h),g=c(s,e,n+h);return{lo:m.lo,hi:g.hi}}}}else{const u=c(s,e,n);if(a){const{vScale:h}=o._cachedMeta,{_parsed:m}=t,g=m.slice(0,u.lo+1).reverse().findIndex(y=>!te(y[h.axis]));u.lo-=Math.max(0,g);const x=m.slice(u.hi).findIndex(y=>!te(y[h.axis]));u.hi+=Math.max(0,x)}return u}}return{lo:0,hi:s.length-1}}function Gl(t,e,n,i,o){const s=t.getSortedVisibleDatasetMetas(),r=n[e];for(let l=0,a=s.length;l<a;++l){const{index:c,data:u}=s[l],{lo:h,hi:m}=CC(s[l],e,r,o);for(let g=h;g<=m;++g){const x=u[g];x.skip||i(x,c,g)}}}function TC(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,o){const s=e?Math.abs(i.x-o.x):0,r=n?Math.abs(i.y-o.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(r,2))}}function La(t,e,n,i,o){const s=[];return!o&&!t.isPointInArea(e)||Gl(t,n,e,function(l,a,c){!o&&!Yt(l,t.chartArea,0)||l.inRange(e.x,e.y,i)&&s.push({element:l,datasetIndex:a,index:c})},!0),s}function kC(t,e,n,i){let o=[];function s(r,l,a){const{startAngle:c,endAngle:u}=r.getProps(["startAngle","endAngle"],i),{angle:h}=Yb(r,{x:e.x,y:e.y});Ox(h,c,u)&&o.push({element:r,datasetIndex:l,index:a})}return Gl(t,n,e,s),o}function IC(t,e,n,i,o,s){let r=[];const l=TC(n);let a=Number.POSITIVE_INFINITY;function c(u,h,m){const g=u.inRange(e.x,e.y,o);if(i&&!g)return;const x=u.getCenterPoint(o);if(!(!!s||t.isPointInArea(x))&&!g)return;const v=l(e,x);v<a?(r=[{element:u,datasetIndex:h,index:m}],a=v):v===a&&r.push({element:u,datasetIndex:h,index:m})}return Gl(t,n,e,c),r}function za(t,e,n,i,o,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?kC(t,e,n,o):IC(t,e,n,i,o,s)}function Lp(t,e,n,i,o){const s=[],r=n==="x"?"inXRange":"inYRange";let l=!1;return Gl(t,n,e,(a,c,u)=>{a[r]&&a[r](e[n],o)&&(s.push({element:a,datasetIndex:c,index:u}),l=l||a.inRange(e.x,e.y,o))}),i&&!l?[]:s}var EC={modes:{index(t,e,n,i){const o=Wn(e,t),s=n.axis||"x",r=n.includeInvisible||!1,l=n.intersect?La(t,o,s,i,r):za(t,o,s,!1,i,r),a=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=l[0].index,h=c.data[u];h&&!h.skip&&a.push({element:h,datasetIndex:c.index,index:u})}),a):[]},dataset(t,e,n,i){const o=Wn(e,t),s=n.axis||"xy",r=n.includeInvisible||!1;let l=n.intersect?La(t,o,s,i,r):za(t,o,s,!1,i,r);if(l.length>0){const a=l[0].datasetIndex,c=t.getDatasetMeta(a).data;l=[];for(let u=0;u<c.length;++u)l.push({element:c[u],datasetIndex:a,index:u})}return l},point(t,e,n,i){const o=Wn(e,t),s=n.axis||"xy",r=n.includeInvisible||!1;return La(t,o,s,i,r)},nearest(t,e,n,i){const o=Wn(e,t),s=n.axis||"xy",r=n.includeInvisible||!1;return za(t,o,s,n.intersect,i,r)},x(t,e,n,i){const o=Wn(e,t);return Lp(t,o,"x",n.intersect,i)},y(t,e,n,i){const o=Wn(e,t);return Lp(t,o,"y",n.intersect,i)}}};const lv=["left","top","right","bottom"];function Co(t,e){return t.filter(n=>n.pos===e)}function zp(t,e){return t.filter(n=>lv.indexOf(n.pos)===-1&&n.box.axis===e)}function To(t,e){return t.sort((n,i)=>{const o=e?i:n,s=e?n:i;return o.weight===s.weight?o.index-s.index:o.weight-s.weight})}function NC(t){const e=[];let n,i,o,s,r,l;for(n=0,i=(t||[]).length;n<i;++n)o=t[n],{position:s,options:{stack:r,stackWeight:l=1}}=o,e.push({index:n,box:o,pos:s,horizontal:o.isHorizontal(),weight:o.weight,stack:r&&s+r,stackWeight:l});return e}function AC(t){const e={};for(const n of t){const{stack:i,pos:o,stackWeight:s}=n;if(!i||!lv.includes(o))continue;const r=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=s}return e}function MC(t,e){const n=AC(t),{vBoxMaxWidth:i,hBoxMaxHeight:o}=e;let s,r,l;for(s=0,r=t.length;s<r;++s){l=t[s];const{fullSize:a}=l.box,c=n[l.stack],u=c&&l.stackWeight/c.weight;l.horizontal?(l.width=u?u*i:a&&e.availableWidth,l.height=o):(l.width=i,l.height=u?u*o:a&&e.availableHeight)}return n}function PC(t){const e=NC(t),n=To(e.filter(c=>c.box.fullSize),!0),i=To(Co(e,"left"),!0),o=To(Co(e,"right")),s=To(Co(e,"top"),!0),r=To(Co(e,"bottom")),l=zp(e,"x"),a=zp(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:o.concat(a).concat(r).concat(l),chartArea:Co(e,"chartArea"),vertical:i.concat(o).concat(a),horizontal:s.concat(r).concat(l)}}function Fp(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function av(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function RC(t,e,n,i){const{pos:o,box:s}=n,r=t.maxPadding;if(!K(o)){n.size&&(t[o]-=n.size);const h=i[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?s.height:s.width),n.size=h.size/h.count,t[o]+=n.size}s.getPadding&&av(r,s.getPadding());const l=Math.max(0,e.outerWidth-Fp(r,t,"left","right")),a=Math.max(0,e.outerHeight-Fp(r,t,"top","bottom")),c=l!==t.w,u=a!==t.h;return t.w=l,t.h=a,n.horizontal?{same:c,other:u}:{same:u,other:c}}function DC(t){const e=t.maxPadding;function n(i){const o=Math.max(e[i]-t[i],0);return t[i]+=o,o}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function LC(t,e){const n=e.maxPadding;function i(o){const s={left:0,top:0,right:0,bottom:0};return o.forEach(r=>{s[r]=Math.max(e[r],n[r])}),s}return i(t?["left","right"]:["top","bottom"])}function Lo(t,e,n,i){const o=[];let s,r,l,a,c,u;for(s=0,r=t.length,c=0;s<r;++s){l=t[s],a=l.box,a.update(l.width||e.w,l.height||e.h,LC(l.horizontal,e));const{same:h,other:m}=RC(e,n,l,i);c|=h&&o.length,u=u||m,a.fullSize||o.push(l)}return c&&Lo(o,e,n,i)||u}function sr(t,e,n,i,o){t.top=n,t.left=e,t.right=e+i,t.bottom=n+o,t.width=i,t.height=o}function Up(t,e,n,i){const o=n.padding;let{x:s,y:r}=e;for(const l of t){const a=l.box,c=i[l.stack]||{placed:0,weight:1},u=l.stackWeight/c.weight||1;if(l.horizontal){const h=e.w*u,m=c.size||a.height;cl(c.start)&&(r=c.start),a.fullSize?sr(a,o.left,r,n.outerWidth-o.right-o.left,m):sr(a,e.left+c.placed,r,h,m),c.start=r,c.placed+=h,r=a.bottom}else{const h=e.h*u,m=c.size||a.width;cl(c.start)&&(s=c.start),a.fullSize?sr(a,s,o.top,m,n.outerHeight-o.bottom-o.top):sr(a,s,e.top+c.placed,m,h),c.start=s,c.placed+=h,s=a.right}}e.x=s,e.y=r}var ht={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const o=Fe(t.options.layout.padding),s=Math.max(e-o.width,0),r=Math.max(n-o.height,0),l=PC(t.boxes),a=l.vertical,c=l.horizontal;ee(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const u=a.reduce((y,v)=>v.box.options&&v.box.options.display===!1?y:y+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:o,availableWidth:s,availableHeight:r,vBoxMaxWidth:s/2/u,hBoxMaxHeight:r/2}),m=Object.assign({},o);av(m,Fe(i));const g=Object.assign({maxPadding:m,w:s,h:r,x:o.left,y:o.top},o),x=MC(a.concat(c),h);Lo(l.fullSize,g,h,x),Lo(a,g,h,x),Lo(c,g,h,x)&&Lo(a,g,h,x),DC(g),Up(l.leftAndTop,g,h,x),g.x+=g.w,g.y+=g.h,Up(l.rightAndBottom,g,h,x),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},ee(l.chartArea,y=>{const v=y.box;Object.assign(v,t.chartArea),v.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class cv{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,o){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,o?Math.floor(n/o):i)}}isAttached(e){return!0}updateConfig(e){}}class zC extends cv{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Ar="$chartjs",FC={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Bp=t=>t===null||t==="";function UC(t,e){const n=t.style,i=t.getAttribute("height"),o=t.getAttribute("width");if(t[Ar]={initial:{height:i,width:o,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Bp(o)){const s=Tp(t,"width");s!==void 0&&(t.width=s)}if(Bp(i))if(t.style.height==="")t.height=t.width/(e||2);else{const s=Tp(t,"height");s!==void 0&&(t.height=s)}return t}const uv=Q1?{passive:!0}:!1;function BC(t,e,n){t&&t.addEventListener(e,n,uv)}function VC(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,uv)}function OC(t,e){const n=FC[t.type]||t.type,{x:i,y:o}=Wn(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:o!==void 0?o:null}}function hl(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function HC(t,e,n){const i=t.canvas,o=new MutationObserver(s=>{let r=!1;for(const l of s)r=r||hl(l.addedNodes,i),r=r&&!hl(l.removedNodes,i);r&&n()});return o.observe(document,{childList:!0,subtree:!0}),o}function jC(t,e,n){const i=t.canvas,o=new MutationObserver(s=>{let r=!1;for(const l of s)r=r||hl(l.removedNodes,i),r=r&&!hl(l.addedNodes,i);r&&n()});return o.observe(document,{childList:!0,subtree:!0}),o}const bs=new Map;let Vp=0;function dv(){const t=window.devicePixelRatio;t!==Vp&&(Vp=t,bs.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function $C(t,e){bs.size||window.addEventListener("resize",dv),bs.set(t,e)}function GC(t){bs.delete(t),bs.size||window.removeEventListener("resize",dv)}function qC(t,e,n){const i=t.canvas,o=i&&Nd(i);if(!o)return;const s=$x((l,a)=>{const c=o.clientWidth;n(l,a),c<o.clientWidth&&n()},window),r=new ResizeObserver(l=>{const a=l[0],c=a.contentRect.width,u=a.contentRect.height;c===0&&u===0||s(c,u)});return r.observe(o),$C(t,s),r}function Fa(t,e,n){n&&n.disconnect(),e==="resize"&&GC(t)}function WC(t,e,n){const i=t.canvas,o=$x(s=>{t.ctx!==null&&n(OC(s,t))},t);return BC(i,e,o),o}class JC extends cv{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(UC(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[Ar])return!1;const i=n[Ar].initial;["height","width"].forEach(s=>{const r=i[s];te(r)?n.removeAttribute(s):n.setAttribute(s,r)});const o=i.style||{};return Object.keys(o).forEach(s=>{n.style[s]=o[s]}),n.width=n.width,delete n[Ar],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const o=e.$proxies||(e.$proxies={}),r={attach:HC,detach:jC,resize:qC}[n]||WC;o[n]=r(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),o=i[n];if(!o)return;({attach:Fa,detach:Fa,resize:Fa}[n]||VC)(e,n,o),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,o){return K1(e,n,i,o)}isAttached(e){const n=e&&Nd(e);return!!(n&&n.isConnected)}}function YC(t){return!Ed()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?zC:JC}class sn{constructor(){H(this,"x");H(this,"y");H(this,"active",!1);H(this,"options");H(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Ss(this.x)&&Ss(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const o={};return e.forEach(s=>{o[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),o}}H(sn,"defaults",{}),H(sn,"defaultRoutes");function KC(t,e){const n=t.options.ticks,i=QC(t),o=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?ZC(e):[],r=s.length,l=s[0],a=s[r-1],c=[];if(r>o)return eT(e,c,s,r/o),c;const u=XC(s,e,o);if(r>0){let h,m;const g=r>1?Math.round((a-l)/(r-1)):null;for(rr(e,c,u,te(g)?0:l-g,l),h=0,m=r-1;h<m;h++)rr(e,c,u,s[h],s[h+1]);return rr(e,c,u,a,te(g)?e.length:a+g),c}return rr(e,c,u),c}function QC(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),o=t._maxLength/n;return Math.floor(Math.min(i,o))}function XC(t,e,n){const i=tT(t),o=e.length/n;if(!i)return Math.max(o,1);const s=Gb(i);for(let r=0,l=s.length-1;r<l;r++){const a=s[r];if(a>o)return a}return Math.max(o,1)}function ZC(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function eT(t,e,n,i){let o=0,s=n[0],r;for(i=Math.ceil(i),r=0;r<t.length;r++)r===s&&(e.push(t[r]),o++,s=n[o*i])}function rr(t,e,n,i,o){const s=Y(i,0),r=Math.min(Y(o,t.length),t.length);let l=0,a,c,u;for(n=Math.ceil(n),o&&(a=o-i,n=a/Math.floor(a/n)),u=s;u<0;)l++,u=Math.round(s+l*n);for(c=Math.max(s,0);c<r;c++)c===u&&(e.push(t[c]),l++,u=Math.round(s+l*n))}function tT(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const nT=t=>t==="left"?"right":t==="right"?"left":t,Op=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Hp=(t,e)=>Math.min(e||t,t);function jp(t,e){const n=[],i=t.length/e,o=t.length;let s=0;for(;s<o;s+=i)n.push(t[Math.floor(s)]);return n}function iT(t,e,n){const i=t.ticks.length,o=Math.min(e,i-1),s=t._startPixel,r=t._endPixel,l=1e-6;let a=t.getPixelForTick(o),c;if(!(n&&(i===1?c=Math.max(a-s,r-a):e===0?c=(t.getPixelForTick(1)-a)/2:c=(a-t.getPixelForTick(o-1))/2,a+=o<e?c:-c,a<s-l||a>r+l)))return a}function oT(t,e){ee(t,n=>{const i=n.gc,o=i.length/2;let s;if(o>e){for(s=0;s<o;++s)delete n.data[i[s]];i.splice(0,o)}})}function ko(t){return t.drawTicks?t.tickLength:0}function $p(t,e){if(!t.display)return 0;const n=be(t.font,e),i=Fe(t.padding);return(ue(t.text)?t.text.length:1)*n.lineHeight+i.height}function sT(t,e){return Bn(t,{scale:e,type:"scale"})}function rT(t,e,n){return Bn(t,{tick:n,index:e,type:"tick"})}function lT(t,e,n){let i=Sd(t);return(n&&e!=="right"||!n&&e==="right")&&(i=nT(i)),i}function aT(t,e,n,i){const{top:o,left:s,bottom:r,right:l,chart:a}=t,{chartArea:c,scales:u}=a;let h=0,m,g,x;const y=r-o,v=l-s;if(t.isHorizontal()){if(g=Re(i,s,l),K(n)){const _=Object.keys(n)[0],w=n[_];x=u[_].getPixelForValue(w)+y-e}else n==="center"?x=(c.bottom+c.top)/2+y-e:x=Op(t,n,e);m=l-s}else{if(K(n)){const _=Object.keys(n)[0],w=n[_];g=u[_].getPixelForValue(w)-v+e}else n==="center"?g=(c.left+c.right)/2-v+e:g=Op(t,n,e);x=Re(i,r,o),h=n==="left"?-it:it}return{titleX:g,titleY:x,maxWidth:m,rotation:h}}let ql=class fv extends sn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:o}=this;return e=Mt(e,Number.POSITIVE_INFINITY),n=Mt(n,Number.NEGATIVE_INFINITY),i=Mt(i,Number.POSITIVE_INFINITY),o=Mt(o,Number.NEGATIVE_INFINITY),{min:Mt(e,i),max:Mt(n,o),minDefined:ke(e),maxDefined:ke(n)}}getMinMax(e){let{min:n,max:i,minDefined:o,maxDefined:s}=this.getUserBounds(),r;if(o&&s)return{min:n,max:i};const l=this.getMatchingVisibleMetas();for(let a=0,c=l.length;a<c;++a)r=l[a].controller.getMinMax(this,e),o||(n=Math.min(n,r.min)),s||(i=Math.max(i,r.max));return n=s&&n>i?i:n,i=o&&n>i?n:i,{min:Mt(n,Mt(i,n)),max:Mt(i,Mt(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){oe(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:o,grace:s,ticks:r}=this.options,l=r.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=I1(this,s,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=l<this.ticks.length;this._convertTicksToLabels(a?jp(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||r.source==="auto")&&(this.ticks=KC(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){oe(this.options.afterUpdate,[this])}beforeSetDimensions(){oe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){oe(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),oe(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){oe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,o,s;for(i=0,o=e.length;i<o;i++)s=e[i],s.label=oe(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){oe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){oe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=Hp(this.ticks.length,e.ticks.maxTicksLimit),o=n.minRotation||0,s=n.maxRotation;let r=o,l,a,c;if(!this._isVisible()||!n.display||o>=s||i<=1||!this.isHorizontal()){this.labelRotation=o;return}const u=this._getLabelSizes(),h=u.widest.width,m=u.highest.height,g=pt(this.chart.width-h,0,this.maxWidth);l=e.offset?this.maxWidth/i:g/(i-1),h+6>l&&(l=g/(i-(e.offset?.5:1)),a=this.maxHeight-ko(e.grid)-n.padding-$p(e.title,this.chart.options.font),c=Math.sqrt(h*h+m*m),r=_d(Math.min(Math.asin(pt((u.highest.height+6)/l,-1,1)),Math.asin(pt(a/c,-1,1))-Math.asin(pt(m/c,-1,1)))),r=Math.max(o,Math.min(s,r))),this.labelRotation=r}afterCalculateLabelRotation(){oe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){oe(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:o,grid:s}}=this,r=this._isVisible(),l=this.isHorizontal();if(r){const a=$p(o,n.options.font);if(l?(e.width=this.maxWidth,e.height=ko(s)+a):(e.height=this.maxHeight,e.width=ko(s)+a),i.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:m}=this._getLabelSizes(),g=i.padding*2,x=_n(this.labelRotation),y=Math.cos(x),v=Math.sin(x);if(l){const _=i.mirror?0:v*h.width+y*m.height;e.height=Math.min(this.maxHeight,e.height+_+g)}else{const _=i.mirror?0:y*h.width+v*m.height;e.width=Math.min(this.maxWidth,e.width+_+g)}this._calculatePadding(c,u,v,y)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,o){const{ticks:{align:s,padding:r},position:l}=this.options,a=this.labelRotation!==0,c=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,g=0;a?c?(m=o*e.width,g=i*n.height):(m=i*e.height,g=o*n.width):s==="start"?g=n.width:s==="end"?m=e.width:s!=="inner"&&(m=e.width/2,g=n.width/2),this.paddingLeft=Math.max((m-u+r)*this.width/(this.width-u),0),this.paddingRight=Math.max((g-h+r)*this.width/(this.width-h),0)}else{let u=n.height/2,h=e.height/2;s==="start"?(u=0,h=e.height):s==="end"&&(u=n.height,h=0),this.paddingTop=u+r,this.paddingBottom=h+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){oe(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)te(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=jp(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:o,_longestTextCache:s}=this,r=[],l=[],a=Math.floor(n/Hp(n,i));let c=0,u=0,h,m,g,x,y,v,_,w,S,b,C;for(h=0;h<n;h+=a){if(x=e[h].label,y=this._resolveTickFontOptions(h),o.font=v=y.string,_=s[v]=s[v]||{data:{},gc:[]},w=y.lineHeight,S=b=0,!te(x)&&!ue(x))S=dl(o,_.data,_.gc,S,x),b=w;else if(ue(x))for(m=0,g=x.length;m<g;++m)C=x[m],!te(C)&&!ue(C)&&(S=dl(o,_.data,_.gc,S,C),b+=w);r.push(S),l.push(b),c=Math.max(S,c),u=Math.max(b,u)}oT(s,n);const T=r.indexOf(c),k=l.indexOf(u),E=A=>({width:r[A]||0,height:l[A]||0});return{first:E(0),last:E(n-1),widest:E(T),highest:E(k),widths:r,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Qb(this._alignToPixels?jn(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=rT(this.getContext(),e,i))}return this.$context||(this.$context=sT(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=_n(this.labelRotation),i=Math.abs(Math.cos(n)),o=Math.abs(Math.sin(n)),s=this._getLabelSizes(),r=e.autoSkipPadding||0,l=s?s.widest.width+r:0,a=s?s.highest.height+r:0;return this.isHorizontal()?a*i>l*o?l/i:a/o:a*o<l*i?a/i:l/o}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,o=this.options,{grid:s,position:r,border:l}=o,a=s.offset,c=this.isHorizontal(),h=this.ticks.length+(a?1:0),m=ko(s),g=[],x=l.setContext(this.getContext()),y=x.display?x.width:0,v=y/2,_=function(V){return jn(i,V,y)};let w,S,b,C,T,k,E,A,N,I,P,D;if(r==="top")w=_(this.bottom),k=this.bottom-m,A=w-v,I=_(e.top)+v,D=e.bottom;else if(r==="bottom")w=_(this.top),I=e.top,D=_(e.bottom)-v,k=w+v,A=this.top+m;else if(r==="left")w=_(this.right),T=this.right-m,E=w-v,N=_(e.left)+v,P=e.right;else if(r==="right")w=_(this.left),N=e.left,P=_(e.right)-v,T=w+v,E=this.left+m;else if(n==="x"){if(r==="center")w=_((e.top+e.bottom)/2+.5);else if(K(r)){const V=Object.keys(r)[0],$=r[V];w=_(this.chart.scales[V].getPixelForValue($))}I=e.top,D=e.bottom,k=w+v,A=k+m}else if(n==="y"){if(r==="center")w=_((e.left+e.right)/2);else if(K(r)){const V=Object.keys(r)[0],$=r[V];w=_(this.chart.scales[V].getPixelForValue($))}T=w-v,E=T-m,N=e.left,P=e.right}const R=Y(o.ticks.maxTicksLimit,h),F=Math.max(1,Math.ceil(h/R));for(S=0;S<h;S+=F){const V=this.getContext(S),$=s.setContext(V),z=l.setContext(V),B=$.lineWidth,M=$.color,G=z.dash||[],W=z.dashOffset,ve=$.tickWidth,pe=$.tickColor,Vt=$.tickBorderDash||[],Ue=$.tickBorderDashOffset;b=iT(this,S,a),b!==void 0&&(C=jn(i,b,B),c?T=E=N=P=C:k=A=I=D=C,g.push({tx1:T,ty1:k,tx2:E,ty2:A,x1:N,y1:I,x2:P,y2:D,width:B,color:M,borderDash:G,borderDashOffset:W,tickWidth:ve,tickColor:pe,tickBorderDash:Vt,tickBorderDashOffset:Ue}))}return this._ticksLength=h,this._borderValue=w,g}_computeLabelItems(e){const n=this.axis,i=this.options,{position:o,ticks:s}=i,r=this.isHorizontal(),l=this.ticks,{align:a,crossAlign:c,padding:u,mirror:h}=s,m=ko(i.grid),g=m+u,x=h?-u:g,y=-_n(this.labelRotation),v=[];let _,w,S,b,C,T,k,E,A,N,I,P,D="middle";if(o==="top")T=this.bottom-x,k=this._getXAxisLabelAlignment();else if(o==="bottom")T=this.top+x,k=this._getXAxisLabelAlignment();else if(o==="left"){const F=this._getYAxisLabelAlignment(m);k=F.textAlign,C=F.x}else if(o==="right"){const F=this._getYAxisLabelAlignment(m);k=F.textAlign,C=F.x}else if(n==="x"){if(o==="center")T=(e.top+e.bottom)/2+g;else if(K(o)){const F=Object.keys(o)[0],V=o[F];T=this.chart.scales[F].getPixelForValue(V)+g}k=this._getXAxisLabelAlignment()}else if(n==="y"){if(o==="center")C=(e.left+e.right)/2-g;else if(K(o)){const F=Object.keys(o)[0],V=o[F];C=this.chart.scales[F].getPixelForValue(V)}k=this._getYAxisLabelAlignment(m).textAlign}n==="y"&&(a==="start"?D="top":a==="end"&&(D="bottom"));const R=this._getLabelSizes();for(_=0,w=l.length;_<w;++_){S=l[_],b=S.label;const F=s.setContext(this.getContext(_));E=this.getPixelForTick(_)+s.labelOffset,A=this._resolveTickFontOptions(_),N=A.lineHeight,I=ue(b)?b.length:1;const V=I/2,$=F.color,z=F.textStrokeColor,B=F.textStrokeWidth;let M=k;r?(C=E,k==="inner"&&(_===w-1?M=this.options.reverse?"left":"right":_===0?M=this.options.reverse?"right":"left":M="center"),o==="top"?c==="near"||y!==0?P=-I*N+N/2:c==="center"?P=-R.highest.height/2-V*N+N:P=-R.highest.height+N/2:c==="near"||y!==0?P=N/2:c==="center"?P=R.highest.height/2-V*N:P=R.highest.height-I*N,h&&(P*=-1),y!==0&&!F.showLabelBackdrop&&(C+=N/2*Math.sin(y))):(T=E,P=(1-I)*N/2);let G;if(F.showLabelBackdrop){const W=Fe(F.backdropPadding),ve=R.heights[_],pe=R.widths[_];let Vt=P-W.top,Ue=0-W.left;switch(D){case"middle":Vt-=ve/2;break;case"bottom":Vt-=ve;break}switch(k){case"center":Ue-=pe/2;break;case"right":Ue-=pe;break;case"inner":_===w-1?Ue-=pe:_>0&&(Ue-=pe/2);break}G={left:Ue,top:Vt,width:pe+W.width,height:ve+W.height,color:F.backdropColor}}v.push({label:b,font:A,textOffset:P,options:{rotation:y,color:$,strokeColor:z,strokeWidth:B,textAlign:M,textBaseline:D,translation:[C,T],backdrop:G}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-_n(this.labelRotation))return e==="top"?"left":"right";let o="center";return n.align==="start"?o="left":n.align==="end"?o="right":n.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:o,padding:s}}=this.options,r=this._getLabelSizes(),l=e+s,a=r.widest.width;let c,u;return n==="left"?o?(u=this.right+s,i==="near"?c="left":i==="center"?(c="center",u+=a/2):(c="right",u+=a)):(u=this.right-l,i==="near"?c="right":i==="center"?(c="center",u-=a/2):(c="left",u=this.left)):n==="right"?o?(u=this.left+s,i==="near"?c="right":i==="center"?(c="center",u-=a/2):(c="left",u-=a)):(u=this.left+l,i==="near"?c="left":i==="center"?(c="center",u+=a/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:o,width:s,height:r}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,o,s,r),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const o=this.ticks.findIndex(s=>s.value===e);return o>=0?n.setContext(this.getContext(o)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,r;const l=(a,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(a.x,a.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(s=0,r=o.length;s<r;++s){const a=o[s];n.drawOnChartArea&&l({x:a.x1,y:a.y1},{x:a.x2,y:a.y2},a),n.drawTicks&&l({x:a.tx1,y:a.ty1},{x:a.tx2,y:a.ty2},{color:a.tickColor,width:a.tickWidth,borderDash:a.tickBorderDash,borderDashOffset:a.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:o}}=this,s=i.setContext(this.getContext()),r=i.display?s.width:0;if(!r)return;const l=o.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let c,u,h,m;this.isHorizontal()?(c=jn(e,this.left,r)-r/2,u=jn(e,this.right,l)+l/2,h=m=a):(h=jn(e,this.top,r)-r/2,m=jn(e,this.bottom,l)+l/2,c=u=a),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,h),n.lineTo(u,m),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,o=this._computeLabelArea();o&&Hl(i,o);const s=this.getLabelItems(e);for(const r of s){const l=r.options,a=r.font,c=r.label,u=r.textOffset;di(i,c,0,u,a,l)}o&&jl(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:o}}=this;if(!i.display)return;const s=be(i.font),r=Fe(i.padding),l=i.align;let a=s.lineHeight/2;n==="bottom"||n==="center"||K(n)?(a+=r.bottom,ue(i.text)&&(a+=s.lineHeight*(i.text.length-1))):a+=r.top;const{titleX:c,titleY:u,maxWidth:h,rotation:m}=aT(this,a,n,l);di(e,i.text,0,0,s,{color:i.color,maxWidth:h,rotation:m,textAlign:lT(l,n,o),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=Y(e.grid&&e.grid.z,-1),o=Y(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==fv.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",o=[];let s,r;for(s=0,r=n.length;s<r;++s){const l=n[s];l[i]===this.id&&(!e||l.type===e)&&o.push(l)}return o}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return be(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}};class lr{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;dT(n)&&(i=this.register(n));const o=this.items,s=e.id,r=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in o||(o[s]=e,cT(e,r,i),this.override&&ge.override(e.id,e.overrides)),r}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,o=this.scope;i in n&&delete n[i],o&&i in ge[o]&&(delete ge[o][i],this.override&&delete ui[i])}}function cT(t,e,n){const i=_s(Object.create(null),[n?ge.get(n):{},ge.get(e),t.defaults]);ge.set(e,i),t.defaultRoutes&&uT(e,t.defaultRoutes),t.descriptors&&ge.describe(e,t.descriptors)}function uT(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),o=i.pop(),s=[t].concat(i).join("."),r=e[n].split("."),l=r.pop(),a=r.join(".");ge.route(s,o,a,l)})}function dT(t){return"id"in t&&"defaults"in t}class fT{constructor(){this.controllers=new lr(ji,"datasets",!0),this.elements=new lr(sn,"elements"),this.plugins=new lr(Object,"plugins"),this.scales=new lr(ql,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(o=>{const s=i||this._getRegistryForType(o);i||s.isForType(o)||s===this.plugins&&o.id?this._exec(e,s,o):ee(o,r=>{const l=i||this._getRegistryForType(r);this._exec(e,l,r)})})}_exec(e,n,i){const o=yd(e);oe(i["before"+o],[],i),n[e](i),oe(i["after"+o],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const o=n.get(e);if(o===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return o}}var Dt=new fT;class pT{constructor(){this._init=void 0}notify(e,n,i,o){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const s=o?this._descriptors(e).filter(o):this._descriptors(e),r=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),r}_notify(e,n,i,o){o=o||{};for(const s of e){const r=s.plugin,l=r[i],a=[n,o,s.options];if(oe(l,a,r)===!1&&o.cancelable)return!1}return!0}invalidate(){te(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,o=Y(i.options&&i.options.plugins,{}),s=hT(i);return o===!1&&!n?[]:gT(e,s,o,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,o=(s,r)=>s.filter(l=>!r.some(a=>l.plugin.id===a.plugin.id));this._notify(o(n,i),e,"stop"),this._notify(o(i,n),e,"start")}}function hT(t){const e={},n=[],i=Object.keys(Dt.plugins.items);for(let s=0;s<i.length;s++)n.push(Dt.getPlugin(i[s]));const o=t.plugins||[];for(let s=0;s<o.length;s++){const r=o[s];n.indexOf(r)===-1&&(n.push(r),e[r.id]=!0)}return{plugins:n,localIds:e}}function mT(t,e){return!e&&t===!1?null:t===!0?{}:t}function gT(t,{plugins:e,localIds:n},i,o){const s=[],r=t.getContext();for(const l of e){const a=l.id,c=mT(i[a],o);c!==null&&s.push({plugin:l,options:xT(t.config,{plugin:l,local:n[a]},c,r)})}return s}function xT(t,{plugin:e,local:n},i,o){const s=t.pluginScopeKeys(e),r=t.getOptionScopes(i,s);return n&&e.defaults&&r.push(e.defaults),t.createResolver(r,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Oc(t,e){const n=ge.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function vT(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function yT(t,e){return t===e?"_index_":"_value_"}function Gp(t){if(t==="x"||t==="y"||t==="r")return t}function _T(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Hc(t,...e){if(Gp(t))return t;for(const n of e){const i=n.axis||_T(n.position)||t.length>1&&Gp(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function qp(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function wT(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return qp(t,"x",n[0])||qp(t,"y",n[0])}return{}}function ST(t,e){const n=ui[t.type]||{scales:{}},i=e.scales||{},o=Oc(t.type,e),s=Object.create(null);return Object.keys(i).forEach(r=>{const l=i[r];if(!K(l))return console.error(`Invalid scale configuration for scale: ${r}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${r}`);const a=Hc(r,l,wT(r,t),ge.scales[l.type]),c=yT(a,o),u=n.scales||{};s[r]=Ko(Object.create(null),[{axis:a},l,u[a],u[c]])}),t.data.datasets.forEach(r=>{const l=r.type||t.type,a=r.indexAxis||Oc(l,e),u=(ui[l]||{}).scales||{};Object.keys(u).forEach(h=>{const m=vT(h,a),g=r[m+"AxisID"]||m;s[g]=s[g]||Object.create(null),Ko(s[g],[{axis:m},i[g],u[h]])})}),Object.keys(s).forEach(r=>{const l=s[r];Ko(l,[ge.scales[l.type],ge.scale])}),s}function pv(t){const e=t.options||(t.options={});e.plugins=Y(e.plugins,{}),e.scales=ST(t,e)}function hv(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function bT(t){return t=t||{},t.data=hv(t.data),pv(t),t}const Wp=new Map,mv=new Set;function ar(t,e){let n=Wp.get(t);return n||(n=e(),Wp.set(t,n),mv.add(n)),n}const Io=(t,e,n)=>{const i=ws(e,n);i!==void 0&&t.add(i)};class CT{constructor(e){this._config=bT(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=hv(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),pv(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ar(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return ar(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return ar(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return ar(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let o=i.get(e);return(!o||n)&&(o=new Map,i.set(e,o)),o}getOptionScopes(e,n,i){const{options:o,type:s}=this,r=this._cachedScopes(e,i),l=r.get(n);if(l)return l;const a=new Set;n.forEach(u=>{e&&(a.add(e),u.forEach(h=>Io(a,e,h))),u.forEach(h=>Io(a,o,h)),u.forEach(h=>Io(a,ui[s]||{},h)),u.forEach(h=>Io(a,ge,h)),u.forEach(h=>Io(a,Bc,h))});const c=Array.from(a);return c.length===0&&c.push(Object.create(null)),mv.has(n)&&r.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,ui[n]||{},ge.datasets[n]||{},{type:n},ge,Bc]}resolveNamedOptions(e,n,i,o=[""]){const s={$shared:!0},{resolver:r,subPrefixes:l}=Jp(this._resolverCache,e,o);let a=r;if(kT(r,n)){s.$shared=!1,i=Ln(i)?i():i;const c=this.createResolver(e,i,l);a=to(r,i,c)}for(const c of n)s[c]=a[c];return s}createResolver(e,n,i=[""],o){const{resolver:s}=Jp(this._resolverCache,e,i);return K(n)?to(s,n,void 0,o):s}}function Jp(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const o=n.join();let s=i.get(o);return s||(s={resolver:Td(e,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},i.set(o,s)),s}const TT=t=>K(t)&&Object.getOwnPropertyNames(t).some(e=>Ln(t[e]));function kT(t,e){const{isScriptable:n,isIndexable:i}=Jx(t);for(const o of e){const s=n(o),r=i(o),l=(r||s)&&t[o];if(s&&(Ln(l)||TT(l))||r&&ue(l))return!0}return!1}var IT="4.5.1";const ET=["top","bottom","left","right","chartArea"];function Yp(t,e){return t==="top"||t==="bottom"||ET.indexOf(t)===-1&&e==="x"}function Kp(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function Qp(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),oe(n&&n.onComplete,[t],e)}function NT(t){const e=t.chart,n=e.options.animation;oe(n&&n.onProgress,[t],e)}function gv(t){return Ed()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Mr={},Xp=t=>{const e=gv(t);return Object.values(Mr).filter(n=>n.canvas===e).pop()};function AT(t,e,n){const i=Object.keys(t);for(const o of i){const s=+o;if(s>=e){const r=t[o];delete t[o],(n>0||s>e)&&(t[s+n]=r)}}}function MT(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}var fn;let Ps=(fn=class{static register(...e){Dt.add(...e),Zp()}static unregister(...e){Dt.remove(...e),Zp()}constructor(e,n){const i=this.config=new CT(n),o=gv(e),s=Xp(o);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const r=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||YC(o)),this.platform.updateConfig(i);const l=this.platform.acquireContext(o,r.aspectRatio),a=l&&l.canvas,c=a&&a.height,u=a&&a.width;if(this.id=zb(),this.ctx=l,this.canvas=a,this.width=u,this.height=c,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new pT,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=n1(h=>this.update(h),r.resizeDelay||0),this._dataChanges=[],Mr[this.id]=this,!l||!a){console.error("Failed to create chart: can't acquire context from the given item");return}Ht.listen(this,"complete",Qp),Ht.listen(this,"progress",NT),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:o,_aspectRatio:s}=this;return te(e)?n&&s?s:o?i/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Dt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Cp(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return wp(this.canvas,this.ctx),this}stop(){return Ht.stop(this),this}resize(e,n){Ht.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,o=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(o,e,n,s),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,Cp(this,l,!0)&&(this.notifyPlugins("resize",{size:r}),oe(i.onResize,[this,r],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ee(n,(i,o)=>{i.id=o})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,o=Object.keys(i).reduce((r,l)=>(r[l]=!1,r),{});let s=[];n&&(s=s.concat(Object.keys(n).map(r=>{const l=n[r],a=Hc(r,l),c=a==="r",u=a==="x";return{options:l,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),ee(s,r=>{const l=r.options,a=l.id,c=Hc(a,l),u=Y(l.type,r.dtype);(l.position===void 0||Yp(l.position,c)!==Yp(r.dposition))&&(l.position=r.dposition),o[a]=!0;let h=null;if(a in i&&i[a].type===u)h=i[a];else{const m=Dt.getScale(u);h=new m({id:a,type:u,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(l,e)}),ee(o,(r,l)=>{r||delete i[l]}),ee(i,r=>{ht.configure(this,r,r.options),ht.addBox(this,r)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((o,s)=>o.index-s.index),i>n){for(let o=n;o<i;++o)this._destroyDatasetMeta(o);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(Kp("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,o)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,o;for(this._removeUnreferencedMetasets(),i=0,o=n.length;i<o;i++){const s=n[i];let r=this.getDatasetMeta(i);const l=s.type||this.config.type;if(r.type&&r.type!==l&&(this._destroyDatasetMeta(i),r=this.getDatasetMeta(i)),r.type=l,r.indexAxis=s.indexAxis||Oc(l,this.options),r.order=s.order||0,r.index=i,r.label=""+s.label,r.visible=this.isDatasetVisible(i),r.controller)r.controller.updateIndex(i),r.controller.linkScales();else{const a=Dt.getController(l),{datasetElementType:c,dataElementType:u}=ge.datasets[l];Object.assign(a,{dataElementType:Dt.getElement(u),datasetElementType:c&&Dt.getElement(c)}),r.controller=new a(this,i),e.push(r.controller)}}return this._updateMetasets(),e}_resetElements(){ee(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),m=!o&&s.indexOf(h)===-1;h.buildOrUpdateElements(m),r=Math.max(+h.getMaxOverflow(),r)}r=this._minPadding=i.layout.autoPadding?r:0,this._updateLayout(r),o||ee(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Kp("z","_idx"));const{_active:l,_lastEvent:a}=this;a?this._eventHandler(a,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){ee(this.scales,e=>{ht.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!fp(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:o,count:s}of n){const r=i==="_removeElements"?-s:s;AT(e,o,r)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(e.filter(r=>r[0]===s).map((r,l)=>l+","+r.splice(1).join(","))),o=i(0);for(let s=1;s<n;s++)if(!fp(o,i(s)))return;return Array.from(o).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ht.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],ee(this.boxes,o=>{i&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,s)=>{o._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Ln(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),o={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(i.controller._update(n),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ht.has(this)?this.attached&&!Ht.running(this)&&Ht.start(this):(this.draw(),Qp({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let o,s;for(o=0,s=n.length;o<s;++o){const r=n[o];(!e||r.visible)&&i.push(r)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},o=ov(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(o&&Hl(n,o),e.controller.draw(),o&&jl(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Yt(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,o){const s=EC.modes[n];return typeof s=="function"?s(this,e,i,o):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let o=i.filter(s=>s&&s._dataset===n).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(o)),o}getContext(){return this.$context||(this.$context=Bn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const o=i?"show":"hide",s=this.getDatasetMeta(e),r=s.controller._resolveAnimations(void 0,o);cl(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),r.update(s,{visible:i}),this.update(l=>l.datasetIndex===e?o:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Ht.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),wp(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Mr[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(s,r)=>{n.addEventListener(this,s,r),e[s]=r},o=(s,r,l)=>{s.offsetX=r,s.offsetY=l,this._eventHandler(s)};ee(this.options.events,s=>i(s,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(a,c)=>{n.addEventListener(this,a,c),e[a]=c},o=(a,c)=>{e[a]&&(n.removeEventListener(this,a,c),delete e[a])},s=(a,c)=>{this.canvas&&this.resize(a,c)};let r;const l=()=>{o("attach",l),this.attached=!0,this.resize(),i("resize",s),i("detach",r)};r=()=>{this.attached=!1,o("resize",s),this._stop(),this._resize(0,0),i("attach",l)},n.isAttached(this.canvas)?l():r()}unbindEvents(){ee(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},ee(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const o=i?"set":"remove";let s,r,l,a;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+o+"DatasetHoverStyle"]()),l=0,a=e.length;l<a;++l){r=e[l];const c=r&&this.getDatasetMeta(r.datasetIndex).controller;c&&c[o+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:s,index:r})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[r],index:r}});!ll(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const o=this.options.hover,s=(a,c)=>a.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),r=s(n,e),l=i?e:s(e,n);r.length&&this.updateHoverStyle(r,o.mode,!1),l.length&&o.mode&&this.updateHoverStyle(l,o.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},o=r=>(r.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,o)===!1)return;const s=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,o),(s||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:o=[],options:s}=this,r=n,l=this._getActiveElements(e,o,i,r),a=Hb(e),c=MT(e,this._lastEvent,i,a);i&&(this._lastEvent=null,oe(s.onHover,[e,l,this],this),a&&oe(s.onClick,[e,l,this],this));const u=!ll(l,o);return(u||n)&&(this._active=l,this._updateHoverStyles(l,o,n)),this._lastEvent=c,u}_getActiveElements(e,n,i,o){if(e.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,o)}},H(fn,"defaults",ge),H(fn,"instances",Mr),H(fn,"overrides",ui),H(fn,"registry",Dt),H(fn,"version",IT),H(fn,"getChart",Xp),fn);function Zp(){return ee(Ps.instances,t=>t._plugins.invalidate())}function xv(t,e,n=e){t.lineCap=Y(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Y(n.borderDash,e.borderDash)),t.lineDashOffset=Y(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Y(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Y(n.borderWidth,e.borderWidth),t.strokeStyle=Y(n.borderColor,e.borderColor)}function PT(t,e,n){t.lineTo(n.x,n.y)}function RT(t){return t.stepped?x1:t.tension||t.cubicInterpolationMode==="monotone"?v1:PT}function vv(t,e,n={}){const i=t.length,{start:o=0,end:s=i-1}=n,{start:r,end:l}=e,a=Math.max(o,r),c=Math.min(s,l),u=o<r&&s<r||o>l&&s>l;return{count:i,start:a,loop:e.loop,ilen:c<a&&!u?i+c-a:c-a}}function DT(t,e,n,i){const{points:o,options:s}=e,{count:r,start:l,loop:a,ilen:c}=vv(o,n,i),u=RT(s);let{move:h=!0,reverse:m}=i||{},g,x,y;for(g=0;g<=c;++g)x=o[(l+(m?c-g:g))%r],!x.skip&&(h?(t.moveTo(x.x,x.y),h=!1):u(t,y,x,m,s.stepped),y=x);return a&&(x=o[(l+(m?c:0))%r],u(t,y,x,m,s.stepped)),!!a}function LT(t,e,n,i){const o=e.points,{count:s,start:r,ilen:l}=vv(o,n,i),{move:a=!0,reverse:c}=i||{};let u=0,h=0,m,g,x,y,v,_;const w=b=>(r+(c?l-b:b))%s,S=()=>{y!==v&&(t.lineTo(u,v),t.lineTo(u,y),t.lineTo(u,_))};for(a&&(g=o[w(0)],t.moveTo(g.x,g.y)),m=0;m<=l;++m){if(g=o[w(m)],g.skip)continue;const b=g.x,C=g.y,T=b|0;T===x?(C<y?y=C:C>v&&(v=C),u=(h*u+b)/++h):(S(),t.lineTo(b,C),x=T,h=0,y=v=C),_=C}S()}function jc(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?LT:DT}function zT(t){return t.stepped?X1:t.tension||t.cubicInterpolationMode==="monotone"?Z1:Jn}function FT(t,e,n,i){let o=e._path;o||(o=e._path=new Path2D,e.path(o,n,i)&&o.closePath()),xv(t,e.options),t.stroke(o)}function UT(t,e,n,i){const{segments:o,options:s}=e,r=jc(e);for(const l of o)xv(t,s,l.style),t.beginPath(),r(t,e,l,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const BT=typeof Path2D=="function";function VT(t,e,n,i){BT&&!e.options.segment?FT(t,e,n,i):UT(t,e,n,i)}class Kt extends sn{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const o=i.spanGaps?this._loop:this._fullLoop;$1(this._points,i,e,o,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=sC(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,o=e[n],s=this.points,r=iv(this,{property:n,start:o,end:o});if(!r.length)return;const l=[],a=zT(i);let c,u;for(c=0,u=r.length;c<u;++c){const{start:h,end:m}=r[c],g=s[h],x=s[m];if(g===x){l.push(g);continue}const y=Math.abs((o-g[n])/(x[n]-g[n])),v=a(g,x,y,i.stepped);v[n]=e[n],l.push(v)}return l.length===1?l[0]:l}pathSegment(e,n,i){return jc(this)(e,this,n,i)}path(e,n,i){const o=this.segments,s=jc(this);let r=this._loop;n=n||0,i=i||this.points.length-n;for(const l of o)r&=s(e,this,l,{start:n,end:n+i-1});return!!r}draw(e,n,i,o){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),VT(e,this,i,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}H(Kt,"id","line"),H(Kt,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),H(Kt,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),H(Kt,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function eh(t,e,n,i){const o=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<o.radius+o.hitRadius}class es extends sn{constructor(n){super();H(this,"parsed");H(this,"skip");H(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,o){const s=this.options,{x:r,y:l}=this.getProps(["x","y"],o);return Math.pow(n-r,2)+Math.pow(i-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,i){return eh(this,n,"x",i)}inYRange(n,i){return eh(this,n,"y",i)}getCenterPoint(n){const{x:i,y:o}=this.getProps(["x","y"],n);return{x:i,y:o}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const o=i&&n.borderWidth||0;return(i+o)*2}draw(n,i){const o=this.options;this.skip||o.radius<.1||!Yt(this,i,this.size(o)/2)||(n.strokeStyle=o.borderColor,n.lineWidth=o.borderWidth,n.fillStyle=o.backgroundColor,Vc(n,o,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}H(es,"id","point"),H(es,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),H(es,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function OT(t,e,n){const i=t.segments,o=t.points,s=e.points,r=[];for(const l of i){let{start:a,end:c}=l;c=Wl(a,c,o);const u=$c(n,o[a],o[c],l.loop);if(!e.segments){r.push({source:l,target:u,start:o[a],end:o[c]});continue}const h=iv(e,u);for(const m of h){const g=$c(n,s[m.start],s[m.end],m.loop),x=nv(l,o,g);for(const y of x)r.push({source:y,target:m,start:{[n]:th(u,g,"start",Math.max)},end:{[n]:th(u,g,"end",Math.min)}})}}return r}function $c(t,e,n,i){if(i)return;let o=e[t],s=n[t];return t==="angle"&&(o=tt(o),s=tt(s)),{property:t,start:o,end:s}}function HT(t,e){const{x:n=null,y:i=null}=t||{},o=e.points,s=[];return e.segments.forEach(({start:r,end:l})=>{l=Wl(r,l,o);const a=o[r],c=o[l];i!==null?(s.push({x:a.x,y:i}),s.push({x:c.x,y:i})):n!==null&&(s.push({x:n,y:a.y}),s.push({x:n,y:c.y}))}),s}function Wl(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function th(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function yv(t,e){let n=[],i=!1;return ue(t)?(i=!0,n=t):n=HT(t,e),n.length?new Kt({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function nh(t){return t&&t.fill!==!1}function jT(t,e,n){let o=t[e].fill;const s=[e];let r;if(!n)return o;for(;o!==!1&&s.indexOf(o)===-1;){if(!ke(o))return o;if(r=t[o],!r)return!1;if(r.visible)return o;s.push(o),o=r.fill}return!1}function $T(t,e,n){const i=JT(t);if(K(i))return isNaN(i.value)?!1:i;let o=parseFloat(i);return ke(o)&&Math.floor(o)===o?GT(i[0],e,o,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function GT(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function qT(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:K(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function WT(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:K(t)?i=t.value:i=e.getBaseValue(),i}function JT(t){const e=t.options,n=e.fill;let i=Y(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function YT(t){const{scale:e,index:n,line:i}=t,o=[],s=i.segments,r=i.points,l=KT(e,n);l.push(yv({x:null,y:e.bottom},i));for(let a=0;a<s.length;a++){const c=s[a];for(let u=c.start;u<=c.end;u++)QT(o,r[u],l)}return new Kt({points:o,options:{}})}function KT(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let o=0;o<i.length;o++){const s=i[o];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function QT(t,e,n){const i=[];for(let o=0;o<n.length;o++){const s=n[o],{first:r,last:l,point:a}=XT(s,e,"x");if(!(!a||r&&l)){if(r)i.unshift(a);else if(t.push(a),!l)break}}t.push(...i)}function XT(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const o=i[n],s=t.segments,r=t.points;let l=!1,a=!1;for(let c=0;c<s.length;c++){const u=s[c],h=r[u.start][n],m=r[u.end][n];if(Pi(o,h,m)){l=o===h,a=o===m;break}}return{first:l,last:a,point:i}}class _v{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:o,y:s,radius:r}=this;return n=n||{start:0,end:st},e.arc(o,s,r,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:o}=this,s=e.angle;return{x:n+Math.cos(s)*o,y:i+Math.sin(s)*o,angle:s}}}function ZT(t){const{chart:e,fill:n,line:i}=t;if(ke(n))return ek(e,n);if(n==="stack")return YT(t);if(n==="shape")return!0;const o=tk(t);return o instanceof _v?o:yv(o,i)}function ek(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function tk(t){return(t.scale||{}).getPointPositionForValue?ik(t):nk(t)}function nk(t){const{scale:e={},fill:n}=t,i=qT(n,e);if(ke(i)){const o=e.isHorizontal();return{x:o?i:null,y:o?null:i}}return null}function ik(t){const{scale:e,fill:n}=t,i=e.options,o=e.getLabels().length,s=i.reverse?e.max:e.min,r=WT(n,e,s),l=[];if(i.grid.circular){const a=e.getPointPositionForValue(0,s);return new _v({x:a.x,y:a.y,radius:e.getDistanceFromCenterForValue(r)})}for(let a=0;a<o;++a)l.push(e.getPointPositionForValue(a,r));return l}function Ua(t,e,n){const i=ZT(e),{chart:o,index:s,line:r,scale:l,axis:a}=e,c=r.options,u=c.fill,h=c.backgroundColor,{above:m=h,below:g=h}=u||{},x=o.getDatasetMeta(s),y=ov(o,x);i&&r.points.length&&(Hl(t,n),ok(t,{line:r,target:i,above:m,below:g,area:n,scale:l,axis:a,clip:y}),jl(t))}function ok(t,e){const{line:n,target:i,above:o,below:s,area:r,scale:l,clip:a}=e,c=n._loop?"angle":e.axis;t.save();let u=s;s!==o&&(c==="x"?(ih(t,i,r.top),Ba(t,{line:n,target:i,color:o,scale:l,property:c,clip:a}),t.restore(),t.save(),ih(t,i,r.bottom)):c==="y"&&(oh(t,i,r.left),Ba(t,{line:n,target:i,color:s,scale:l,property:c,clip:a}),t.restore(),t.save(),oh(t,i,r.right),u=o)),Ba(t,{line:n,target:i,color:u,scale:l,property:c,clip:a}),t.restore()}function ih(t,e,n){const{segments:i,points:o}=e;let s=!0,r=!1;t.beginPath();for(const l of i){const{start:a,end:c}=l,u=o[a],h=o[Wl(a,c,o)];s?(t.moveTo(u.x,u.y),s=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),r=!!e.pathSegment(t,l,{move:r}),r?t.closePath():t.lineTo(h.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function oh(t,e,n){const{segments:i,points:o}=e;let s=!0,r=!1;t.beginPath();for(const l of i){const{start:a,end:c}=l,u=o[a],h=o[Wl(a,c,o)];s?(t.moveTo(u.x,u.y),s=!1):(t.lineTo(n,u.y),t.lineTo(u.x,u.y)),r=!!e.pathSegment(t,l,{move:r}),r?t.closePath():t.lineTo(n,h.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function Ba(t,e){const{line:n,target:i,property:o,color:s,scale:r,clip:l}=e,a=OT(n,i,o);for(const{source:c,target:u,start:h,end:m}of a){const{style:{backgroundColor:g=s}={}}=c,x=i!==!0;t.save(),t.fillStyle=g,sk(t,r,l,x&&$c(o,h,m)),t.beginPath();const y=!!n.pathSegment(t,c);let v;if(x){y?t.closePath():sh(t,i,m,o);const _=!!i.pathSegment(t,u,{move:y,reverse:!0});v=y&&_,v||sh(t,i,h,o)}t.closePath(),t.fill(v?"evenodd":"nonzero"),t.restore()}}function sk(t,e,n,i){const o=e.chart.chartArea,{property:s,start:r,end:l}=i||{};if(s==="x"||s==="y"){let a,c,u,h;s==="x"?(a=r,c=o.top,u=l,h=o.bottom):(a=o.left,c=r,u=o.right,h=l),t.beginPath(),n&&(a=Math.max(a,n.left),u=Math.min(u,n.right),c=Math.max(c,n.top),h=Math.min(h,n.bottom)),t.rect(a,c,u-a,h-c),t.clip()}}function sh(t,e,n,i){const o=e.interpolate(n,i);o&&t.lineTo(o.x,o.y)}var wv={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,o=[];let s,r,l,a;for(r=0;r<i;++r)s=t.getDatasetMeta(r),l=s.dataset,a=null,l&&l.options&&l instanceof Kt&&(a={visible:t.isDatasetVisible(r),index:r,fill:$T(l,r,i),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:l}),s.$filler=a,o.push(a);for(r=0;r<i;++r)a=o[r],!(!a||a.fill===!1)&&(a.fill=jT(o,r,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",o=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let r=o.length-1;r>=0;--r){const l=o[r].$filler;l&&(l.line.updateControlPoints(s,l.axis),i&&l.fill&&Ua(t.ctx,l,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let o=i.length-1;o>=0;--o){const s=i[o].$filler;nh(s)&&Ua(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!nh(i)||n.drawTime!=="beforeDatasetDraw"||Ua(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const rh=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},rk=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class lh extends sn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=oe(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,o)=>e.sort(i,o,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,o=be(i.font),s=o.size,r=this._computeTitleHeight(),{boxWidth:l,itemHeight:a}=rh(i,s);let c,u;n.font=o.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(r,s,l,a)+10):(u=this.maxHeight,c=this._fitCols(r,o,l,a)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,o){const{ctx:s,maxWidth:r,options:{labels:{padding:l}}}=this,a=this.legendHitBoxes=[],c=this.lineWidths=[0],u=o+l;let h=e;s.textAlign="left",s.textBaseline="middle";let m=-1,g=-u;return this.legendItems.forEach((x,y)=>{const v=i+n/2+s.measureText(x.text).width;(y===0||c[c.length-1]+v+2*l>r)&&(h+=u,c[c.length-(y>0?0:1)]=0,g+=u,m++),a[y]={left:0,top:g,row:m,width:v,height:o},c[c.length-1]+=v+l}),h}_fitCols(e,n,i,o){const{ctx:s,maxHeight:r,options:{labels:{padding:l}}}=this,a=this.legendHitBoxes=[],c=this.columnSizes=[],u=r-e;let h=l,m=0,g=0,x=0,y=0;return this.legendItems.forEach((v,_)=>{const{itemWidth:w,itemHeight:S}=lk(i,n,s,v,o);_>0&&g+S+2*l>u&&(h+=m+l,c.push({width:m,height:g}),x+=m+l,y++,m=g=0),a[_]={left:x,top:g,col:y,width:w,height:S},m=Math.max(m,w),g+=S+l}),h+=m,c.push({width:m,height:g}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:o},rtl:s}}=this,r=Hi(s,this.left,this.width);if(this.isHorizontal()){let l=0,a=Re(i,this.left+o,this.right-this.lineWidths[l]);for(const c of n)l!==c.row&&(l=c.row,a=Re(i,this.left+o,this.right-this.lineWidths[l])),c.top+=this.top+e+o,c.left=r.leftForLtr(r.x(a),c.width),a+=c.width+o}else{let l=0,a=Re(i,this.top+e+o,this.bottom-this.columnSizes[l].height);for(const c of n)c.col!==l&&(l=c.col,a=Re(i,this.top+e+o,this.bottom-this.columnSizes[l].height)),c.top=a,c.left+=this.left+o,c.left=r.leftForLtr(r.x(c.left),c.width),a+=c.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Hl(e,this),this._draw(),jl(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:o}=this,{align:s,labels:r}=e,l=ge.color,a=Hi(e.rtl,this.left,this.width),c=be(r.font),{padding:u}=r,h=c.size,m=h/2;let g;this.drawTitle(),o.textAlign=a.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=c.string;const{boxWidth:x,boxHeight:y,itemHeight:v}=rh(r,h),_=function(T,k,E){if(isNaN(x)||x<=0||isNaN(y)||y<0)return;o.save();const A=Y(E.lineWidth,1);if(o.fillStyle=Y(E.fillStyle,l),o.lineCap=Y(E.lineCap,"butt"),o.lineDashOffset=Y(E.lineDashOffset,0),o.lineJoin=Y(E.lineJoin,"miter"),o.lineWidth=A,o.strokeStyle=Y(E.strokeStyle,l),o.setLineDash(Y(E.lineDash,[])),r.usePointStyle){const N={radius:y*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:A},I=a.xPlus(T,x/2),P=k+m;qx(o,N,I,P,r.pointStyleWidth&&x)}else{const N=k+Math.max((h-y)/2,0),I=a.leftForLtr(T,x),P=Oi(E.borderRadius);o.beginPath(),Object.values(P).some(D=>D!==0)?fl(o,{x:I,y:N,w:x,h:y,radius:P}):o.rect(I,N,x,y),o.fill(),A!==0&&o.stroke()}o.restore()},w=function(T,k,E){di(o,E.text,T,k+v/2,c,{strikethrough:E.hidden,textAlign:a.textAlign(E.textAlign)})},S=this.isHorizontal(),b=this._computeTitleHeight();S?g={x:Re(s,this.left+u,this.right-i[0]),y:this.top+u+b,line:0}:g={x:this.left+u,y:Re(s,this.top+b+u,this.bottom-n[0].height),line:0},Zx(this.ctx,e.textDirection);const C=v+u;this.legendItems.forEach((T,k)=>{o.strokeStyle=T.fontColor,o.fillStyle=T.fontColor;const E=o.measureText(T.text).width,A=a.textAlign(T.textAlign||(T.textAlign=r.textAlign)),N=x+m+E;let I=g.x,P=g.y;a.setWidth(this.width),S?k>0&&I+N+u>this.right&&(P=g.y+=C,g.line++,I=g.x=Re(s,this.left+u,this.right-i[g.line])):k>0&&P+C>this.bottom&&(I=g.x=I+n[g.line].width+u,g.line++,P=g.y=Re(s,this.top+b+u,this.bottom-n[g.line].height));const D=a.x(I);if(_(D,P,T),I=i1(A,I+x+m,S?I+N:this.right,e.rtl),w(a.x(I),P,T),S)g.x+=N+u;else if(typeof T.text!="string"){const R=c.lineHeight;g.y+=Sv(T,R)+u}else g.y+=C}),ev(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=be(n.font),o=Fe(n.padding);if(!n.display)return;const s=Hi(e.rtl,this.left,this.width),r=this.ctx,l=n.position,a=i.size/2,c=o.top+a;let u,h=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),u=this.top+c,h=Re(e.align,h,this.right-m);else{const x=this.columnSizes.reduce((y,v)=>Math.max(y,v.height),0);u=c+Re(e.align,this.top,this.bottom-x-e.labels.padding-this._computeTitleHeight())}const g=Re(l,h,h+m);r.textAlign=s.textAlign(Sd(l)),r.textBaseline="middle",r.strokeStyle=n.color,r.fillStyle=n.color,r.font=i.string,di(r,n.text,g,u,i)}_computeTitleHeight(){const e=this.options.title,n=be(e.font),i=Fe(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,o,s;if(Pi(e,this.left,this.right)&&Pi(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(o=s[i],Pi(e,o.left,o.left+o.width)&&Pi(n,o.top,o.top+o.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!uk(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const o=this._hoveredItem,s=rk(o,i);o&&!s&&oe(n.onLeave,[e,o,this],this),this._hoveredItem=i,i&&!s&&oe(n.onHover,[e,i,this],this)}else i&&oe(n.onClick,[e,i,this],this)}}function lk(t,e,n,i,o){const s=ak(i,t,e,n),r=ck(o,i,e.lineHeight);return{itemWidth:s,itemHeight:r}}function ak(t,e,n,i){let o=t.text;return o&&typeof o!="string"&&(o=o.reduce((s,r)=>s.length>r.length?s:r)),e+n.size/2+i.measureText(o).width}function ck(t,e,n){let i=t;return typeof e.text!="string"&&(i=Sv(e,n)),i}function Sv(t,e){const n=t.text?t.text.length:0;return e*n}function uk(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var bv={id:"legend",_element:lh,start(t,e,n){const i=t.legend=new lh({ctx:t.ctx,options:n,chart:t});ht.configure(t,i,n),ht.addBox(t,i)},stop(t){ht.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;ht.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,o=n.chart;o.isDatasetVisible(i)?(o.hide(i),e.hidden=!0):(o.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:o,color:s,useBorderRadius:r,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(a=>{const c=a.controller.getStyle(n?0:void 0),u=Fe(c.borderWidth);return{text:e[a.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!a.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:o||c.textAlign,borderRadius:r&&(l||c.borderRadius),datasetIndex:a.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Cv extends sn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const o=ue(i.text)?i.text.length:1;this._padding=Fe(i.padding);const s=o*be(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:o,right:s,options:r}=this,l=r.align;let a=0,c,u,h;return this.isHorizontal()?(u=Re(l,i,s),h=n+e,c=s-i):(r.position==="left"?(u=i+e,h=Re(l,o,n),a=_e*-.5):(u=s-e,h=Re(l,n,o),a=_e*.5),c=o-n),{titleX:u,titleY:h,maxWidth:c,rotation:a}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=be(n.font),s=i.lineHeight/2+this._padding.top,{titleX:r,titleY:l,maxWidth:a,rotation:c}=this._drawArgs(s);di(e,n.text,0,0,i,{color:n.color,maxWidth:a,rotation:c,textAlign:Sd(n.align),textBaseline:"middle",translation:[r,l]})}}function dk(t,e){const n=new Cv({ctx:t.ctx,options:e,chart:t});ht.configure(t,n,e),ht.addBox(t,n),t.titleBlock=n}var fk={id:"title",_element:Cv,start(t,e,n){dk(t,n)},stop(t){const e=t.titleBlock;ht.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;ht.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const zo={average(t){if(!t.length)return!1;let e,n,i=new Set,o=0,s=0;for(e=0,n=t.length;e<n;++e){const l=t[e].element;if(l&&l.hasValue()){const a=l.tooltipPosition();i.add(a.x),o+=a.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((l,a)=>l+a)/i.size,y:o/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,o=Number.POSITIVE_INFINITY,s,r,l;for(s=0,r=t.length;s<r;++s){const a=t[s].element;if(a&&a.hasValue()){const c=a.getCenterPoint(),u=Uc(e,c);u<o&&(o=u,l=a)}}if(l){const a=l.tooltipPosition();n=a.x,i=a.y}return{x:n,y:i}}};function Pt(t,e){return e&&(ue(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function jt(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function pk(t,e){const{element:n,datasetIndex:i,index:o}=e,s=t.getDatasetMeta(i).controller,{label:r,value:l}=s.getLabelAndValue(o);return{chart:t,label:r,parsed:s.getParsed(o),raw:t.data.datasets[i].data[o],formattedValue:l,dataset:s.getDataset(),dataIndex:o,datasetIndex:i,element:n}}function ah(t,e){const n=t.chart.ctx,{body:i,footer:o,title:s}=t,{boxWidth:r,boxHeight:l}=e,a=be(e.bodyFont),c=be(e.titleFont),u=be(e.footerFont),h=s.length,m=o.length,g=i.length,x=Fe(e.padding);let y=x.height,v=0,_=i.reduce((b,C)=>b+C.before.length+C.lines.length+C.after.length,0);if(_+=t.beforeBody.length+t.afterBody.length,h&&(y+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),_){const b=e.displayColors?Math.max(l,a.lineHeight):a.lineHeight;y+=g*b+(_-g)*a.lineHeight+(_-1)*e.bodySpacing}m&&(y+=e.footerMarginTop+m*u.lineHeight+(m-1)*e.footerSpacing);let w=0;const S=function(b){v=Math.max(v,n.measureText(b).width+w)};return n.save(),n.font=c.string,ee(t.title,S),n.font=a.string,ee(t.beforeBody.concat(t.afterBody),S),w=e.displayColors?r+2+e.boxPadding:0,ee(i,b=>{ee(b.before,S),ee(b.lines,S),ee(b.after,S)}),w=0,n.font=u.string,ee(t.footer,S),n.restore(),v+=x.width,{width:v,height:y}}function hk(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function mk(t,e,n,i){const{x:o,width:s}=i,r=n.caretSize+n.caretPadding;if(t==="left"&&o+s+r>e.width||t==="right"&&o-s-r<0)return!0}function gk(t,e,n,i){const{x:o,width:s}=n,{width:r,chartArea:{left:l,right:a}}=t;let c="center";return i==="center"?c=o<=(l+a)/2?"left":"right":o<=s/2?c="left":o>=r-s/2&&(c="right"),mk(c,t,e,n)&&(c="center"),c}function ch(t,e,n){const i=n.yAlign||e.yAlign||hk(t,n);return{xAlign:n.xAlign||e.xAlign||gk(t,e,n,i),yAlign:i}}function xk(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function vk(t,e,n){let{y:i,height:o}=t;return e==="top"?i+=n:e==="bottom"?i-=o+n:i-=o/2,i}function uh(t,e,n,i){const{caretSize:o,caretPadding:s,cornerRadius:r}=t,{xAlign:l,yAlign:a}=n,c=o+s,{topLeft:u,topRight:h,bottomLeft:m,bottomRight:g}=Oi(r);let x=xk(e,l);const y=vk(e,a,c);return a==="center"?l==="left"?x+=c:l==="right"&&(x-=c):l==="left"?x-=Math.max(u,m)+o:l==="right"&&(x+=Math.max(h,g)+o),{x:pt(x,0,i.width-e.width),y:pt(y,0,i.height-e.height)}}function cr(t,e,n){const i=Fe(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function dh(t){return Pt([],jt(t))}function yk(t,e,n){return Bn(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function fh(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Tv={beforeTitle:Ot,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Ot,beforeBody:Ot,beforeLabel:Ot,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return te(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ot,afterBody:Ot,beforeFooter:Ot,footer:Ot,afterFooter:Ot};function Ge(t,e,n,i){const o=t[e].call(n,i);return typeof o>"u"?Tv[e].call(n,i):o}class Gc extends sn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),o=i.enabled&&n.options.animation&&i.animations,s=new sv(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=yk(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,o=Ge(i,"beforeTitle",this,e),s=Ge(i,"title",this,e),r=Ge(i,"afterTitle",this,e);let l=[];return l=Pt(l,jt(o)),l=Pt(l,jt(s)),l=Pt(l,jt(r)),l}getBeforeBody(e,n){return dh(Ge(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,o=[];return ee(e,s=>{const r={before:[],lines:[],after:[]},l=fh(i,s);Pt(r.before,jt(Ge(l,"beforeLabel",this,s))),Pt(r.lines,Ge(l,"label",this,s)),Pt(r.after,jt(Ge(l,"afterLabel",this,s))),o.push(r)}),o}getAfterBody(e,n){return dh(Ge(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,o=Ge(i,"beforeFooter",this,e),s=Ge(i,"footer",this,e),r=Ge(i,"afterFooter",this,e);let l=[];return l=Pt(l,jt(o)),l=Pt(l,jt(s)),l=Pt(l,jt(r)),l}_createItems(e){const n=this._active,i=this.chart.data,o=[],s=[],r=[];let l=[],a,c;for(a=0,c=n.length;a<c;++a)l.push(pk(this.chart,n[a]));return e.filter&&(l=l.filter((u,h,m)=>e.filter(u,h,m,i))),e.itemSort&&(l=l.sort((u,h)=>e.itemSort(u,h,i))),ee(l,u=>{const h=fh(e.callbacks,u);o.push(Ge(h,"labelColor",this,u)),s.push(Ge(h,"labelPointStyle",this,u)),r.push(Ge(h,"labelTextColor",this,u))}),this.labelColors=o,this.labelPointStyles=s,this.labelTextColors=r,this.dataPoints=l,l}update(e,n){const i=this.options.setContext(this.getContext()),o=this._active;let s,r=[];if(!o.length)this.opacity!==0&&(s={opacity:0});else{const l=zo[i.position].call(this,o,this._eventPosition);r=this._createItems(i),this.title=this.getTitle(r,i),this.beforeBody=this.getBeforeBody(r,i),this.body=this.getBody(r,i),this.afterBody=this.getAfterBody(r,i),this.footer=this.getFooter(r,i);const a=this._size=ah(this,i),c=Object.assign({},l,a),u=ch(this.chart,i,c),h=uh(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:h.x,y:h.y,width:a.width,height:a.height,caretX:l.x,caretY:l.y}}this._tooltipItems=r,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,o){const s=this.getCaretPosition(e,i,o);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,i){const{xAlign:o,yAlign:s}=this,{caretSize:r,cornerRadius:l}=i,{topLeft:a,topRight:c,bottomLeft:u,bottomRight:h}=Oi(l),{x:m,y:g}=e,{width:x,height:y}=n;let v,_,w,S,b,C;return s==="center"?(b=g+y/2,o==="left"?(v=m,_=v-r,S=b+r,C=b-r):(v=m+x,_=v+r,S=b-r,C=b+r),w=v):(o==="left"?_=m+Math.max(a,u)+r:o==="right"?_=m+x-Math.max(c,h)-r:_=this.caretX,s==="top"?(S=g,b=S-r,v=_-r,w=_+r):(S=g+y,b=S+r,v=_+r,w=_-r),C=S),{x1:v,x2:_,x3:w,y1:S,y2:b,y3:C}}drawTitle(e,n,i){const o=this.title,s=o.length;let r,l,a;if(s){const c=Hi(i.rtl,this.x,this.width);for(e.x=cr(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",r=be(i.titleFont),l=i.titleSpacing,n.fillStyle=i.titleColor,n.font=r.string,a=0;a<s;++a)n.fillText(o[a],c.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+l,a+1===s&&(e.y+=i.titleMarginBottom-l)}}_drawColorBox(e,n,i,o,s){const r=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:a,boxWidth:c}=s,u=be(s.bodyFont),h=cr(this,"left",s),m=o.x(h),g=a<u.lineHeight?(u.lineHeight-a)/2:0,x=n.y+g;if(s.usePointStyle){const y={radius:Math.min(c,a)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},v=o.leftForLtr(m,c)+c/2,_=x+a/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Vc(e,y,v,_),e.strokeStyle=r.borderColor,e.fillStyle=r.backgroundColor,Vc(e,y,v,_)}else{e.lineWidth=K(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,e.strokeStyle=r.borderColor,e.setLineDash(r.borderDash||[]),e.lineDashOffset=r.borderDashOffset||0;const y=o.leftForLtr(m,c),v=o.leftForLtr(o.xPlus(m,1),c-2),_=Oi(r.borderRadius);Object.values(_).some(w=>w!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,fl(e,{x:y,y:x,w:c,h:a,radius:_}),e.fill(),e.stroke(),e.fillStyle=r.backgroundColor,e.beginPath(),fl(e,{x:v,y:x+1,w:c-2,h:a-2,radius:_}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(y,x,c,a),e.strokeRect(y,x,c,a),e.fillStyle=r.backgroundColor,e.fillRect(v,x+1,c-2,a-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:o}=this,{bodySpacing:s,bodyAlign:r,displayColors:l,boxHeight:a,boxWidth:c,boxPadding:u}=i,h=be(i.bodyFont);let m=h.lineHeight,g=0;const x=Hi(i.rtl,this.x,this.width),y=function(E){n.fillText(E,x.x(e.x+g),e.y+m/2),e.y+=m+s},v=x.textAlign(r);let _,w,S,b,C,T,k;for(n.textAlign=r,n.textBaseline="middle",n.font=h.string,e.x=cr(this,v,i),n.fillStyle=i.bodyColor,ee(this.beforeBody,y),g=l&&v!=="right"?r==="center"?c/2+u:c+2+u:0,b=0,T=o.length;b<T;++b){for(_=o[b],w=this.labelTextColors[b],n.fillStyle=w,ee(_.before,y),S=_.lines,l&&S.length&&(this._drawColorBox(n,e,b,x,i),m=Math.max(h.lineHeight,a)),C=0,k=S.length;C<k;++C)y(S[C]),m=h.lineHeight;ee(_.after,y)}g=0,m=h.lineHeight,ee(this.afterBody,y),e.y-=s}drawFooter(e,n,i){const o=this.footer,s=o.length;let r,l;if(s){const a=Hi(i.rtl,this.x,this.width);for(e.x=cr(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=a.textAlign(i.footerAlign),n.textBaseline="middle",r=be(i.footerFont),n.fillStyle=i.footerColor,n.font=r.string,l=0;l<s;++l)n.fillText(o[l],a.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+i.footerSpacing}}drawBackground(e,n,i,o){const{xAlign:s,yAlign:r}=this,{x:l,y:a}=e,{width:c,height:u}=i,{topLeft:h,topRight:m,bottomLeft:g,bottomRight:x}=Oi(o.cornerRadius);n.fillStyle=o.backgroundColor,n.strokeStyle=o.borderColor,n.lineWidth=o.borderWidth,n.beginPath(),n.moveTo(l+h,a),r==="top"&&this.drawCaret(e,n,i,o),n.lineTo(l+c-m,a),n.quadraticCurveTo(l+c,a,l+c,a+m),r==="center"&&s==="right"&&this.drawCaret(e,n,i,o),n.lineTo(l+c,a+u-x),n.quadraticCurveTo(l+c,a+u,l+c-x,a+u),r==="bottom"&&this.drawCaret(e,n,i,o),n.lineTo(l+g,a+u),n.quadraticCurveTo(l,a+u,l,a+u-g),r==="center"&&s==="left"&&this.drawCaret(e,n,i,o),n.lineTo(l,a+h),n.quadraticCurveTo(l,a,l+h,a),n.closePath(),n.fill(),o.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,o=i&&i.x,s=i&&i.y;if(o||s){const r=zo[e.position].call(this,this._active,this._eventPosition);if(!r)return;const l=this._size=ah(this,e),a=Object.assign({},r,this._size),c=ch(n,e,a),u=uh(e,a,c,n);(o._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=l.width,this.height=l.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const o={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const r=Fe(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,o,n),Zx(e,n.textDirection),s.y+=r.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),ev(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,o=e.map(({datasetIndex:l,index:a})=>{const c=this.chart.getDatasetMeta(l);if(!c)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:c.data[a],index:a}}),s=!ll(i,o),r=this._positionChanged(o,n);(s||r)&&(this._active=o,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,s=this._active||[],r=this._getActiveElements(e,s,n,i),l=this._positionChanged(r,e),a=n||!ll(r,s)||l;return a&&(this._active=r,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),a}_getActiveElements(e,n,i,o){const s=this.options;if(e.type==="mouseout")return[];if(!o)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const r=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&r.reverse(),r}_positionChanged(e,n){const{caretX:i,caretY:o,options:s}=this,r=zo[s.position].call(this,e,n);return r!==!1&&(i!==r.x||o!==r.y)}}H(Gc,"positioners",zo);var kv={id:"tooltip",_element:Gc,positioners:zo,afterInit(t,e,n){n&&(t.tooltip=new Gc({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Tv},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const _k=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function wk(t,e,n,i){const o=t.indexOf(e);if(o===-1)return _k(t,e,n,i);const s=t.lastIndexOf(e);return o!==s?n:o}const Sk=(t,e)=>t===null?null:pt(Math.round(t),0,e);function ph(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class qc extends ql{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:o,label:s}of n)i[o]===s&&i.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(te(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:wk(i,e,Y(n,e),this._addedLabels),Sk(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(o=this.getLabels().length-1)),this.min=i,this.max=o}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,o=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let r=e;r<=n;r++)o.push({value:r});return o}getLabelForValue(e){return ph.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}H(qc,"id","category"),H(qc,"defaults",{ticks:{callback:ph}});function bk(t,e){const n=[],{bounds:o,step:s,min:r,max:l,precision:a,count:c,maxTicks:u,maxDigits:h,includeBounds:m}=t,g=s||1,x=u-1,{min:y,max:v}=e,_=!te(r),w=!te(l),S=!te(c),b=(v-y)/(h+1);let C=hp((v-y)/x/g)*g,T,k,E,A;if(C<1e-14&&!_&&!w)return[{value:y},{value:v}];A=Math.ceil(v/C)-Math.floor(y/C),A>x&&(C=hp(A*C/x/g)*g),te(a)||(T=Math.pow(10,a),C=Math.ceil(C*T)/T),o==="ticks"?(k=Math.floor(y/C)*C,E=Math.ceil(v/C)*C):(k=y,E=v),_&&w&&s&&Wb((l-r)/s,C/1e3)?(A=Math.round(Math.min((l-r)/C,u)),C=(l-r)/A,k=r,E=l):S?(k=_?r:k,E=w?l:E,A=c-1,C=(E-k)/A):(A=(E-k)/C,Qo(A,Math.round(A),C/1e3)?A=Math.round(A):A=Math.ceil(A));const N=Math.max(mp(C),mp(k));T=Math.pow(10,te(a)?N:a),k=Math.round(k*T)/T,E=Math.round(E*T)/T;let I=0;for(_&&(m&&k!==r?(n.push({value:r}),k<r&&I++,Qo(Math.round((k+I*C)*T)/T,r,hh(r,b,t))&&I++):k<r&&I++);I<A;++I){const P=Math.round((k+I*C)*T)/T;if(w&&P>l)break;n.push({value:P})}return w&&m&&E!==l?n.length&&Qo(n[n.length-1].value,l,hh(l,b,t))?n[n.length-1].value=l:n.push({value:l}):(!w||E===l)&&n.push({value:E}),n}function hh(t,e,{horizontal:n,minRotation:i}){const o=_n(i),s=(n?Math.sin(o):Math.cos(o))||.001,r=.75*e*(""+t).length;return Math.min(e/s,r)}class Wc extends ql{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return te(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:o,max:s}=this;const r=a=>o=n?o:a,l=a=>s=i?s:a;if(e){const a=eo(o),c=eo(s);a<0&&c<0?l(0):a>0&&c>0&&r(0)}if(o===s){let a=s===0?1:Math.abs(s*.05);l(s+a),e||r(o-a)}this.min=o,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,o;return i?(o=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),n=n||11),n&&(o=Math.min(n,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const o={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,r=bk(o,s);return e.bounds==="ticks"&&Jb(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const o=(i-n)/Math.max(e.length-1,1)/2;n-=o,i+=o}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return Gx(e,this.chart.options.locale,this.options.ticks.format)}}class Jc extends Wc{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=ke(e)?e:0,this.max=ke(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=_n(this.options.ticks.minRotation),o=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/o))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}H(Jc,"id","linear"),H(Jc,"defaults",{ticks:{callback:Cd.formatters.numeric}});function Yc(t){const e=t.ticks;if(e.display&&t.display){const n=Fe(e.backdropPadding);return Y(e.font&&e.font.size,ge.font.size)+n.height}return 0}function Ck(t,e,n){return n=ue(n)?n:[n],{w:g1(t,e.string,n),h:n.length*e.lineHeight}}function mh(t,e,n,i,o){return t===i||t===o?{start:e-n/2,end:e+n/2}:t<i||t>o?{start:e-n,end:e}:{start:e,end:e+n}}function Tk(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],o=[],s=t._pointLabels.length,r=t.options.pointLabels,l=r.centerPointLabels?_e/s:0;for(let a=0;a<s;a++){const c=r.setContext(t.getPointLabelContext(a));o[a]=c.padding;const u=t.getPointPosition(a,t.drawingArea+o[a],l),h=be(c.font),m=Ck(t.ctx,h,t._pointLabels[a]);i[a]=m;const g=tt(t.getIndexAngle(a)+l),x=Math.round(_d(g)),y=mh(x,u.x,m.w,0,180),v=mh(x,u.y,m.h,90,270);kk(n,e,g,y,v)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=Nk(t,i,o)}function kk(t,e,n,i,o){const s=Math.abs(Math.sin(n)),r=Math.abs(Math.cos(n));let l=0,a=0;i.start<e.l?(l=(e.l-i.start)/s,t.l=Math.min(t.l,e.l-l)):i.end>e.r&&(l=(i.end-e.r)/s,t.r=Math.max(t.r,e.r+l)),o.start<e.t?(a=(e.t-o.start)/r,t.t=Math.min(t.t,e.t-a)):o.end>e.b&&(a=(o.end-e.b)/r,t.b=Math.max(t.b,e.b+a))}function Ik(t,e,n){const i=t.drawingArea,{extra:o,additionalAngle:s,padding:r,size:l}=n,a=t.getPointPosition(e,i+o+r,s),c=Math.round(_d(tt(a.angle+it))),u=Pk(a.y,l.h,c),h=Ak(c),m=Mk(a.x,l.w,h);return{visible:!0,x:a.x,y:u,textAlign:h,left:m,top:u,right:m+l.w,bottom:u+l.h}}function Ek(t,e){if(!e)return!0;const{left:n,top:i,right:o,bottom:s}=t;return!(Yt({x:n,y:i},e)||Yt({x:n,y:s},e)||Yt({x:o,y:i},e)||Yt({x:o,y:s},e))}function Nk(t,e,n){const i=[],o=t._pointLabels.length,s=t.options,{centerPointLabels:r,display:l}=s.pointLabels,a={extra:Yc(s)/2,additionalAngle:r?_e/o:0};let c;for(let u=0;u<o;u++){a.padding=n[u],a.size=e[u];const h=Ik(t,u,a);i.push(h),l==="auto"&&(h.visible=Ek(h,c),h.visible&&(c=h))}return i}function Ak(t){return t===0||t===180?"center":t<180?"left":"right"}function Mk(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function Pk(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function Rk(t,e,n){const{left:i,top:o,right:s,bottom:r}=n,{backdropColor:l}=e;if(!te(l)){const a=Oi(e.borderRadius),c=Fe(e.backdropPadding);t.fillStyle=l;const u=i-c.left,h=o-c.top,m=s-i+c.width,g=r-o+c.height;Object.values(a).some(x=>x!==0)?(t.beginPath(),fl(t,{x:u,y:h,w:m,h:g,radius:a}),t.fill()):t.fillRect(u,h,m,g)}}function Dk(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let o=e-1;o>=0;o--){const s=t._pointLabelItems[o];if(!s.visible)continue;const r=i.setContext(t.getPointLabelContext(o));Rk(n,r,s);const l=be(r.font),{x:a,y:c,textAlign:u}=s;di(n,t._pointLabels[o],a,c+l.lineHeight/2,l,{color:r.color,textAlign:u,textBaseline:"middle"})}}function Iv(t,e,n,i){const{ctx:o}=t;if(n)o.arc(t.xCenter,t.yCenter,e,0,st);else{let s=t.getPointPosition(0,e);o.moveTo(s.x,s.y);for(let r=1;r<i;r++)s=t.getPointPosition(r,e),o.lineTo(s.x,s.y)}}function Lk(t,e,n,i,o){const s=t.ctx,r=e.circular,{color:l,lineWidth:a}=e;!r&&!i||!l||!a||n<0||(s.save(),s.strokeStyle=l,s.lineWidth=a,s.setLineDash(o.dash||[]),s.lineDashOffset=o.dashOffset,s.beginPath(),Iv(t,n,r,i),s.closePath(),s.stroke(),s.restore())}function zk(t,e,n){return Bn(t,{label:n,index:e,type:"pointLabel"})}class Fo extends Wc{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Fe(Yc(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=ke(e)&&!isNaN(e)?e:0,this.max=ke(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Yc(this.options))}generateTickLabels(e){Wc.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const o=oe(this.options.pointLabels.callback,[n,i],this);return o||o===0?o:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?Tk(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,o){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-o)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,o))}getIndexAngle(e){const n=st/(this._pointLabels.length||1),i=this.options.startAngle||0;return tt(e*n+_n(i))}getDistanceFromCenterForValue(e){if(te(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(te(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return zk(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const o=this.getIndexAngle(e)-it+i;return{x:Math.cos(o)*n+this.xCenter,y:Math.sin(o)*n+this.yCenter,angle:o}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:o,bottom:s}=this._pointLabelItems[e];return{left:n,top:i,right:o,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),Iv(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:o,border:s}=n,r=this._pointLabels.length;let l,a,c;if(n.pointLabels.display&&Dk(this,r),o.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){a=this.getDistanceFromCenterForValue(u.value);const m=this.getContext(h),g=o.setContext(m),x=s.setContext(m);Lk(this,g,a,r,x)}}),i.display){for(e.save(),l=r-1;l>=0;l--){const u=i.setContext(this.getPointLabelContext(l)),{color:h,lineWidth:m}=u;!m||!h||(e.lineWidth=m,e.strokeStyle=h,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,a=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(l,a),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const o=this.getIndexAngle(0);let s,r;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(o),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,a)=>{if(a===0&&this.min>=0&&!n.reverse)return;const c=i.setContext(this.getContext(a)),u=be(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[a].value),c.showLabelBackdrop){e.font=u.string,r=e.measureText(l.label).width,e.fillStyle=c.backdropColor;const h=Fe(c.backdropPadding);e.fillRect(-r/2-h.left,-s-u.size/2-h.top,r+h.width,u.size+h.height)}di(e,l.label,0,-s,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}H(Fo,"id","radialLinear"),H(Fo,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Cd.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),H(Fo,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),H(Fo,"descriptors",{angleLines:{_fallback:"grid"}});const Jl={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},We=Object.keys(Jl);function gh(t,e){return t-e}function xh(t,e){if(te(e))return null;const n=t._adapter,{parser:i,round:o,isoWeekday:s}=t._parseOpts;let r=e;return typeof i=="function"&&(r=i(r)),ke(r)||(r=typeof i=="string"?n.parse(r,i):n.parse(r)),r===null?null:(o&&(r=o==="week"&&(Ss(s)||s===!0)?n.startOf(r,"isoWeek",s):n.startOf(r,o)),+r)}function vh(t,e,n,i){const o=We.length;for(let s=We.indexOf(t);s<o-1;++s){const r=Jl[We[s]],l=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((n-e)/(l*r.size))<=i)return We[s]}return We[o-1]}function Fk(t,e,n,i,o){for(let s=We.length-1;s>=We.indexOf(n);s--){const r=We[s];if(Jl[r].common&&t._adapter.diff(o,i,r)>=e-1)return r}return We[n?We.indexOf(n):0]}function Uk(t){for(let e=We.indexOf(t)+1,n=We.length;e<n;++e)if(Jl[We[e]].common)return We[e]}function yh(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:o}=wd(n,e),s=n[i]>=e?n[i]:n[o];t[s]=!0}}function Bk(t,e,n,i){const o=t._adapter,s=+o.startOf(e[0].value,i),r=e[e.length-1].value;let l,a;for(l=s;l<=r;l=+o.add(l,1,i))a=n[l],a>=0&&(e[a].major=!0);return e}function _h(t,e,n){const i=[],o={},s=e.length;let r,l;for(r=0;r<s;++r)l=e[r],o[l]=r,i.push({value:l,major:!1});return s===0||!n?i:Bk(t,i,o,n)}class ml extends ql{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),o=this._adapter=new bC._date(e.adapters.date);o.init(n),Ko(i.displayFormats,o.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:xh(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:o,max:s,minDefined:r,maxDefined:l}=this.getUserBounds();function a(c){!r&&!isNaN(c.min)&&(o=Math.min(o,c.min)),!l&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!r||!l)&&(a(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&a(this.getMinMax(!1))),o=ke(o)&&!isNaN(o)?o:+n.startOf(Date.now(),i),s=ke(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(o,s-1),this.max=Math.max(o+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,o=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const s=this.min,r=this.max,l=Zb(o,s,r);return this._unit=n.unit||(i.autoSkip?vh(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):Fk(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Uk(this._unit),this.initOffsets(o),e.reverse&&l.reverse(),_h(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,o,s;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?n=1-o:n=(this.getDecimalForValue(e[1])-o)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const r=e.length<3?.5:.25;n=pt(n,0,r),i=pt(i,0,r),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,o=this.options,s=o.time,r=s.unit||vh(s.minUnit,n,i,this._getLabelCapacity(n)),l=Y(o.ticks.stepSize,1),a=r==="week"?s.isoWeekday:!1,c=Ss(a)||a===!0,u={};let h=n,m,g;if(c&&(h=+e.startOf(h,"isoWeek",a)),h=+e.startOf(h,c?"day":r),e.diff(i,n,r)>1e5*l)throw new Error(n+" and "+i+" are too far apart with stepSize of "+l+" "+r);const x=o.ticks.source==="data"&&this.getDataTimestamps();for(m=h,g=0;m<i;m=+e.add(m,l,r),g++)yh(u,m,x);return(m===i||o.bounds==="ticks"||g===1)&&yh(u,m,x),Object.keys(u).sort(gh).map(y=>+y)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const o=this.options.time.displayFormats,s=this._unit,r=n||o[s];return this._adapter.format(e,r)}_tickFormatFunction(e,n,i,o){const s=this.options,r=s.ticks.callback;if(r)return oe(r,[e,n,i],this);const l=s.time.displayFormats,a=this._unit,c=this._majorUnit,u=a&&l[a],h=c&&l[c],m=i[n],g=c&&h&&m&&m.major;return this._adapter.format(e,o||(g?h:u))}generateTickLabels(e){let n,i,o;for(n=0,i=e.length;n<i;++n)o=e[n],o.label=this._tickFormatFunction(o.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,o=_n(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(o),r=Math.sin(o),l=this._resolveTickFontOptions(0).size;return{w:i*s+l*r,h:i*r+l*s}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,o=i[n.unit]||i.millisecond,s=this._tickFormatFunction(e,0,_h(this,[e],this._majorUnit),o),r=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(n=0,i=o.length;n<i;++n)e=e.concat(o[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const o=this.getLabels();for(n=0,i=o.length;n<i;++n)e.push(xh(this,o[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return t1(e.sort(gh))}}H(ml,"id","time"),H(ml,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function ur(t,e,n){let i=0,o=t.length-1,s,r,l,a;n?(e>=t[i].pos&&e<=t[o].pos&&({lo:i,hi:o}=Zn(t,"pos",e)),{pos:s,time:l}=t[i],{pos:r,time:a}=t[o]):(e>=t[i].time&&e<=t[o].time&&({lo:i,hi:o}=Zn(t,"time",e)),{time:s,pos:l}=t[i],{time:r,pos:a}=t[o]);const c=r-s;return c?l+(a-l)*(e-s)/c:l}class wh extends ml{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=ur(n,this.min),this._tableRange=ur(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,o=[],s=[];let r,l,a,c,u;for(r=0,l=e.length;r<l;++r)c=e[r],c>=n&&c<=i&&o.push(c);if(o.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(r=0,l=o.length;r<l;++r)u=o[r+1],a=o[r-1],c=o[r],Math.round((u+a)/2)!==c&&s.push({time:c,pos:r/(l-1)});return s}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((o,s)=>o-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(ur(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return ur(this._table,i*this._tableRange+this._minPos,!0)}}H(wh,"id","timeseries"),H(wh,"defaults",ml.defaults);const Ev="label";function Sh(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Vk(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function Nv(t,e){t.labels=e}function Av(t,e,n=Ev){const i=[];t.datasets=e.map(o=>{const s=t.datasets.find(r=>r[n]===o[n]);return!s||!o.data||i.includes(s)?{...o}:(i.push(s),Object.assign(s,o),s)})}function Ok(t,e=Ev){const n={labels:[],datasets:[]};return Nv(n,t.labels),Av(n,t.datasets,e),n}function Hk(t,e){const{height:n=150,width:i=300,redraw:o=!1,datasetIdKey:s,type:r,data:l,options:a,plugins:c=[],fallbackContent:u,updateMode:h,...m}=t,g=Xe.useRef(null),x=Xe.useRef(null),y=()=>{g.current&&(x.current=new Ps(g.current,{type:r,data:Ok(l,s),options:a&&{...a},plugins:c}),Sh(e,x.current))},v=()=>{Sh(e,null),x.current&&(x.current.destroy(),x.current=null)};return Xe.useEffect(()=>{!o&&x.current&&a&&Vk(x.current,a)},[o,a]),Xe.useEffect(()=>{!o&&x.current&&Nv(x.current.config.data,l.labels)},[o,l.labels]),Xe.useEffect(()=>{!o&&x.current&&l.datasets&&Av(x.current.config.data,l.datasets,s)},[o,l.datasets]),Xe.useEffect(()=>{x.current&&(o?(v(),setTimeout(y)):x.current.update(h))},[o,a,l.labels,l.datasets,h]),Xe.useEffect(()=>{x.current&&(v(),setTimeout(y))},[r]),Xe.useEffect(()=>(y(),()=>v()),[]),f.jsx("canvas",{ref:g,role:"img",height:n,width:i,...m,children:u})}const jk=Xe.forwardRef(Hk);function Mv(t,e){return Ps.register(e),Xe.forwardRef((n,i)=>f.jsx(jk,{...n,ref:i,type:t}))}const $k=Mv("line",Er),Gk=Mv("radar",Nr);Ps.register(Fo,es,Kt,wv,kv,bv);const qk=({scores:t,composites:e})=>{const n={labels:["Fitness","Sonno","Dietetica","Stress","Microbioma","ENERGIA","MENTE","EMOZIONI"],datasets:[{label:"Il Tuo Profilo Benessere",data:[t.fitness,t.sleep,t.diet,t.stress,t.microbiome,e.body,e.mind,e.emotions],backgroundColor:"rgba(14, 165, 233, 0.2)",borderColor:"rgba(14, 165, 233, 1)",borderWidth:2,pointBackgroundColor:"rgba(255, 255, 255, 1)",pointBorderColor:"rgba(14, 165, 233, 1)",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgb(14, 165, 233)",spanGaps:!0},{label:"Obiettivo Ottimale",data:[80,80,80,80,80,80,80,80],backgroundColor:"rgba(16, 185, 129, 0.05)",borderColor:"rgba(16, 185, 129, 0.4)",borderWidth:1,pointRadius:0,borderDash:[5,5]}]},i={scales:{r:{angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)"},suggestedMin:0,suggestedMax:100,ticks:{stepSize:20,backdropColor:"transparent",font:{size:10}},pointLabels:{font:{size:11,weight:"bold",family:"'Inter', sans-serif"},color:o=>{const s=o.label;return["ENERGIA","MENTE","EMOZIONI"].includes(s)?"#0f172a":"#64748b"}}}},plugins:{legend:{position:"bottom"},tooltip:{callbacks:{label:function(o){let s=o.dataset.label||"";return s&&(s+=": "),o.parsed.r!==null?s+=o.parsed.r+"%":s+="Dati mancanti",s}}}},maintainAspectRatio:!1};return f.jsx("div",{className:"w-full h-[400px] flex justify-center items-center",children:f.jsx(Gk,{data:n,options:i})})},Pv=({className:t})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:t||"w-10 h-10 text-white drop-shadow-md",children:[f.jsx("path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z"}),f.jsx("path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z"})]}),Rv=({className:t})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:t||"w-10 h-10 text-white drop-shadow-md",children:[f.jsx("circle",{cx:"12",cy:"5",r:"2"}),f.jsx("path",{d:"M12 7v5"}),f.jsx("path",{d:"M8 9l4-2 4 2"}),f.jsx("path",{d:"M8 14l4 2 4-2"}),f.jsx("path",{d:"M9 22l3-6 3 6"}),f.jsx("path",{d:"M12 12v3"})]}),Dv=({className:t})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:t||"w-10 h-10 text-white drop-shadow-md",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10",className:"opacity-50"}),f.jsx("path",{d:"M12 8a4 4 0 1 0 0 8 4 4 0 1 0 0-8z"}),f.jsx("path",{d:"M12 2v2"}),f.jsx("path",{d:"M12 20v2"}),f.jsx("path",{d:"m4.93 4.93 1.41 1.41"}),f.jsx("path",{d:"m17.66 17.66 1.41 1.41"}),f.jsx("path",{d:"M2 12h2"}),f.jsx("path",{d:"M20 12h2"}),f.jsx("path",{d:"m6.34 17.66-1.41 1.41"}),f.jsx("path",{d:"m19.07 4.93-1.41 1.41"})]}),Wk=({scores:t,composites:e,gender:n})=>{const i="body_female.png",o="body_male.png",s=x=>x===null?"#94a3b8":x<40?"#ef4444":x<70?"#f59e0b":"#10b981",l=Object.values(t).filter(x=>x!==null),a=l.length,c=Math.round(a/5*100),u=l.reduce((x,y)=>x+y,0),h=a>0?Math.round(u/a):null,m=x=>x===null?"text-slate-400":x<=50?"text-red-500":x<=60?"text-amber-500":x<=80?"text-emerald-500":"text-sky-500",g=({x,y,align:v,label:_,value:w,targetY:S})=>{const b=s(w),C=v==="end"?180:220;return f.jsxs("g",{className:"transition-all duration-300 hover:opacity-100 opacity-90 cursor-default group",children:[f.jsx("line",{x1:x,y1:y,x2:C,y2:S,stroke:b,strokeWidth:"2",strokeDasharray:"4,2",opacity:"0.4",className:"group-hover:opacity-100 transition-opacity"}),f.jsx("rect",{x:v==="end"?x-52:x,y:y-16,width:"54",height:"34",rx:"12",fill:"white",stroke:b,strokeWidth:"2.5",filter:"drop-shadow(0px 3px 3px rgba(0,0,0,0.15))"}),f.jsx("text",{x:v==="end"?x-25:x+27,y:y+1,textAnchor:"middle",dominantBaseline:"middle",fill:b,fontWeight:"800",fontSize:"15",fontFamily:"sans-serif",children:w!==null?`${w}%`:"-"}),f.jsx("text",{x:v==="end"?x-60:x+62,y,textAnchor:v,dominantBaseline:"middle",fill:"#475569",fontSize:"11",fontWeight:"800",fontFamily:"sans-serif",style:{textTransform:"uppercase",letterSpacing:"0.5px"},children:_}),f.jsx("circle",{cx:C,cy:S,r:"4",fill:b,stroke:"white",strokeWidth:"2"})]})};return f.jsxs("div",{className:"flex flex-col w-full bg-white rounded-2xl border border-slate-200 overflow-hidden shadow-sm h-full",children:[f.jsxs("div",{className:"px-6 pt-6 bg-white pb-2 z-10",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Completezza Profilo"}),f.jsxs("span",{className:"text-xs font-bold text-sky-600",children:[c,"%"]})]}),f.jsx("div",{className:"w-full bg-slate-100 rounded-full h-2 mb-4 overflow-hidden shadow-inner",children:f.jsx("div",{className:"bg-gradient-to-r from-sky-400 to-sky-600 h-2 rounded-full transition-all duration-1000 ease-out shadow-[0_0_10px_rgba(14,165,233,0.5)]",style:{width:`${c}%`}})}),f.jsxs("div",{className:"flex flex-col items-center justify-center py-2 border-b border-slate-100 mb-2",children:[f.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Wellness Index"}),f.jsx("span",{className:`text-4xl font-extrabold ${m(h)} drop-shadow-sm`,children:h!==null?`${h}%`:"-"})]})]}),f.jsxs("div",{className:"relative flex-grow flex flex-col items-center justify-center p-2 bg-gradient-to-b from-white via-sky-50/30 to-slate-100/50",children:[f.jsxs("svg",{viewBox:"0 0 400 480",className:"w-full h-auto max-h-[480px] drop-shadow-xl select-none",children:[f.jsx("defs",{children:f.jsxs("filter",{id:"bodyGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[f.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),f.jsxs("feMerge",{children:[f.jsx("feMergeNode",{in:"coloredBlur"}),f.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),f.jsx("image",{href:n==="male"?o:i,x:"50",y:"-20",width:"300",height:"400",preserveAspectRatio:"xMidYMid meet",filter:"url(#bodyGlow)",opacity:"0.9"}),f.jsx(g,{x:110,y:60,align:"end",label:"SONNO",value:t.sleep,targetY:60}),f.jsx(g,{x:290,y:60,align:"start",label:"STRESS",value:t.stress,targetY:60}),f.jsx(g,{x:290,y:160,align:"start",label:"FITNESS",value:t.fitness,targetY:160}),f.jsx(g,{x:110,y:260,align:"end",label:"DIETA",value:t.diet,targetY:260}),f.jsx(g,{x:290,y:260,align:"start",label:"MICROBIOMA",value:t.microbiome,targetY:280})]}),f.jsx("div",{className:"w-full px-4 pb-8",children:f.jsxs("div",{className:"flex flex-wrap justify-center items-start gap-4 sm:gap-8",children:[f.jsxs("div",{className:"flex flex-col items-center group cursor-default w-24",children:[f.jsx("div",{className:`w-14 h-14 md:w-16 md:h-16 rounded-full flex items-center justify-center border-4 ${e.mind!==null?"border-sky-500 text-sky-700 bg-sky-50":"border-slate-200 text-slate-400 bg-white"} shadow-lg group-hover:scale-105 transition-transform duration-300 relative z-10`,children:f.jsx("span",{className:"text-lg font-extrabold",children:e.mind!==null?`${e.mind}%`:"-"})}),f.jsx("span",{className:"text-xs font-bold text-slate-500 mt-2 mb-1 uppercase tracking-wide group-hover:text-sky-600 transition-colors",children:"Mente"}),f.jsx("div",{className:"w-16 h-16 rounded-2xl overflow-hidden shadow-md bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center group-hover:shadow-lg transition-all",children:f.jsx(Pv,{})})]}),f.jsxs("div",{className:"flex flex-col items-center group cursor-default w-24",children:[f.jsx("div",{className:`w-14 h-14 md:w-16 md:h-16 rounded-full flex items-center justify-center border-4 ${e.body!==null?"border-emerald-500 text-emerald-800 bg-emerald-50":"border-slate-200 text-slate-400 bg-white"} shadow-xl shadow-emerald-100/50 group-hover:scale-105 transition-transform duration-300 relative z-10`,children:f.jsx("span",{className:"text-lg font-extrabold",children:e.body!==null?`${e.body}%`:"-"})}),f.jsx("span",{className:"text-xs font-bold text-slate-600 mt-2 mb-1 uppercase tracking-wide group-hover:text-emerald-700 transition-colors",children:"Energia"}),f.jsx("div",{className:"w-16 h-16 rounded-2xl overflow-hidden shadow-md bg-gradient-to-br from-emerald-400 to-teal-600 flex items-center justify-center group-hover:shadow-lg transition-all",children:f.jsx(Rv,{})})]}),f.jsxs("div",{className:"flex flex-col items-center group cursor-default w-24",children:[f.jsx("div",{className:`w-14 h-14 md:w-16 md:h-16 rounded-full flex items-center justify-center border-4 ${e.emotions!==null?"border-orange-500 text-orange-700 bg-orange-50":"border-slate-200 text-slate-400 bg-white"} shadow-lg group-hover:scale-105 transition-transform duration-300 relative z-10`,children:f.jsx("span",{className:"text-lg font-extrabold",children:e.emotions!==null?`${e.emotions}%`:"-"})}),f.jsx("span",{className:"text-xs font-bold text-slate-500 mt-2 mb-1 uppercase tracking-wide group-hover:text-orange-600 transition-colors",children:"Emozioni"}),f.jsx("div",{className:"w-16 h-16 rounded-2xl overflow-hidden shadow-md bg-gradient-to-br from-orange-500 to-amber-500 flex items-center justify-center group-hover:shadow-lg transition-all",children:f.jsx(Dv,{})})]})]})})]})]})};Ps.register(qc,Jc,es,Kt,fk,kv,bv,wv);const $i=(t,e,n)=>{const o=(e.getTime()-t.getTime())/(1e3*3600*24);return Math.sin(2*Math.PI*o/n)*100},Jk=({birthDate:t,targetDate:e})=>{const n=[],i=[],o=[],s=[];for(let a=-2;a<=12;a++){const c=new Date(e);c.setDate(c.getDate()+a);const u=a===0?"Oggi":c.toLocaleDateString("it-IT",{day:"2-digit",month:"2-digit"});n.push(u),i.push($i(t,c,23)),o.push($i(t,c,28)),s.push($i(t,c,33))}const r={labels:n,datasets:[{label:"Fisico (Energia)",data:i,borderColor:"rgb(22, 163, 74)",backgroundColor:"rgba(22, 163, 74, 0.1)",tension:.4,pointRadius:a=>a.dataIndex===2?6:0,pointHoverRadius:6},{label:"Emozionale",data:o,borderColor:"rgb(249, 115, 22)",backgroundColor:"rgba(249, 115, 22, 0.1)",tension:.4,pointRadius:a=>a.dataIndex===2?6:0,pointHoverRadius:6},{label:"Intellettuale (Mente)",data:s,borderColor:"rgb(14, 165, 233)",backgroundColor:"rgba(14, 165, 233, 0.1)",tension:.4,pointRadius:a=>a.dataIndex===2?6:0,pointHoverRadius:6}]},l={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1}},scales:{y:{min:-100,max:100,grid:{color:a=>a.tick.value===0?"rgba(0,0,0,0.3)":"rgba(0,0,0,0.05)",lineWidth:a=>a.tick.value===0?2:1},ticks:{display:!1}},x:{grid:{display:!1}}}};return f.jsx("div",{className:"w-full h-64",children:f.jsx($k,{data:r,options:l})})},Kc=t=>f.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"m12 19-7-7 7-7"}),f.jsx("path",{d:"M19 12H5"})]}),Yk=[{day:1,message:"Il segreto per migliorarsi  non sprecare la vita in distrazioni.",quote:"Ogni passo  un investimento sulla tua forza futura.",category:"Attivit fisica"},{day:2,message:"Inizia osservando le tue giornate: cosa ti porta davvero avanti?",quote:"La qualit del sonno decide la qualit della tua giornata.",category:"Sonno"},{day:3,message:"Riconosci le attivit che ti allontanano dai tuoi obiettivi.",quote:"Il silenzio interiore  la tua vera forza.",category:"Ansia e stress"},{day:4,message:"Prima di tutto, definisci gli obiettivi che temi di affrontare.",quote:"Mangiare bene  il primo allenamento del corpo.",category:"Alimentazione"},{day:5,message:"Non lasciare che la paura del fallimento ti blocchi.",quote:"Il corpo si allena, la mente si libera.",category:"Attivit fisica"},{day:6,message:"Scrivi nero su bianco ci che vuoi cambiare.",quote:"Un intestino sano  un alleato silenzioso.",category:"Microbioma"},{day:7,message:"Elimina le distrazioni che non ti aiutano a realizzare il tuo obiettivo.",quote:"Dormire bene  il primo atto di cura verso te stesso.",category:"Sonno"},{day:8,message:"Ogni giorno togli un piccolo ostacolo dalla tua routine.",quote:"Trasforma la tensione in energia creativa.",category:"Ansia e stress"},{day:9,message:"Scegli con coraggio ci che ti fa crescere.",quote:"La semplicit nel piatto  ricchezza per la vita.",category:"Alimentazione"},{day:10,message:"Ricorda: il cambiamento richiede energia emotiva.",quote:"Respira: ogni respiro  un ritorno alla calma.",category:"Ansia e stress"},{day:11,message:"Preparati con azioni precise che diventeranno abitudini.",quote:"La diversit nel piatto crea armonia dentro di te.",category:"Microbioma"},{day:12,message:"Ogni nuova abitudine  un mattone della tua nuova vita.",quote:"Il sudore di oggi  la fiducia di domani.",category:"Attivit fisica"},{day:13,message:"Segna sul calendario la data: tra due settimane inizia il tuo cambiamento.",quote:"Unora di sonno persa  un giorno di energia rubata.",category:"Sonno"},{day:14,message:"Mancano pochi giorni: il tuo nuovo inizio  vicino.",quote:"Il microbioma  il giardino segreto della tua salute.",category:"Microbioma"}],bh=[{category:"Attivit fisica",text:"Ogni passo  un investimento sulla tua forza futura."},{category:"Attivit fisica",text:"La costanza batte la velocit: muoviti ogni giorno."},{category:"Attivit fisica",text:"Il corpo si allena, la mente si libera."},{category:"Attivit fisica",text:"Non serve essere perfetti, basta essere presenti."},{category:"Attivit fisica",text:"Il sudore di oggi  la fiducia di domani."},{category:"Attivit fisica",text:"Allenati per la versione migliore di te stesso, non per gli altri."},{category:"Sonno",text:"Il riposo  carburante: senza di lui non c energia."},{category:"Sonno",text:"Dormire bene  il primo atto di cura verso te stesso."},{category:"Sonno",text:"Il sonno ricarica la mente come la batteria di un telefono."},{category:"Sonno",text:"Chiudere gli occhi  aprire la porta alla rigenerazione."},{category:"Sonno",text:"Unora di sonno persa  un giorno di energia rubata."},{category:"Sonno",text:"La qualit del sonno decide la qualit della tua giornata."},{category:"Ansia e stress",text:"Respira: ogni respiro  un ritorno alla calma."},{category:"Ansia e stress",text:"Il controllo non  fuori,  dentro di te."},{category:"Ansia e stress",text:"La serenit nasce da piccoli gesti quotidiani."},{category:"Ansia e stress",text:"Non puoi fermare le onde, ma puoi imparare a surfare."},{category:"Ansia e stress",text:"Trasforma la tensione in energia creativa."},{category:"Ansia e stress",text:"Il silenzio interiore  la tua vera forza."},{category:"Alimentazione",text:"Mangiare bene  il primo allenamento del corpo."},{category:"Alimentazione",text:"Ogni scelta a tavola  un passo verso la salute."},{category:"Alimentazione",text:"Il cibo  medicina quotidiana."},{category:"Alimentazione",text:"Nutri il corpo, illumina la mente."},{category:"Alimentazione",text:"La semplicit nel piatto  ricchezza per la vita."},{category:"Alimentazione",text:"Mangiare consapevole  vivere consapevole."},{category:"Microbioma",text:"Il tuo benessere inizia dallequilibrio invisibile dentro di te."},{category:"Microbioma",text:"Prenditi cura del microbioma, e lui si prender cura di te."},{category:"Microbioma",text:"Un intestino sano  un alleato silenzioso."},{category:"Microbioma",text:"La diversit nel piatto crea armonia dentro di te."},{category:"Microbioma",text:"Il microbioma  il giardino segreto della tua salute."},{category:"Microbioma",text:"Piccoli cambiamenti alimentano grandi trasformazioni interiori."}],Kk={sleep:{focus:"Migliorare il Riposo",missions:["start_d_new_7","start_d_new_2","start_d_new_6","start_d_new_9"]},fitness:{focus:"Attivazione Metabolica",missions:["start_d_new_3","start_d_new_16","start_d_new_1"]},diet:{focus:"Nutrizione Pulita",missions:["start_d_new_13","start_d_new_22","start_d_new_5","start_d_new_21"]},stress:{focus:"Gestione Stress",missions:["start_d_new_0","start_d_new_17","start_d_new_18","start_d_new_15"]},microbiome:{focus:"Equilibrio Intestinale",missions:["start_d_new_22","start_d_new_4","start_d_new_13"]}},Qk={sleep:{rhythm:"4-7-8 Sonno",frequency:"Relax (Healing)",description:"Favorisci il sonno profondo rallentando il respiro e usando frequenze rigenerative."},fitness:{rhythm:"6-6 Allenamento",frequency:"Mind (Attivazione)",description:"Attiva la mente e il corpo con un ritmo energizzante."},diet:{rhythm:"Coerenza Cardiaca",frequency:"Relax (Healing)",description:"Riduci lo stress digestivo riportando equilibrio tra cuore e cervello."},stress:{rhythm:"Vagotonia",frequency:"Introspection (Profondit)",description:"Stimola il nervo vago per una calma profonda e gestione emotiva."},microbiome:{rhythm:"Vagotonia",frequency:"Introspection (Profondit)",description:"L'asse intestino-cervello beneficia di stati di profonda quiete interiore."}},Xk=({user:t,onNavigate:e})=>{const[n,i]=L.useState({fitness:null,sleep:null,diet:null,stress:null,microbiome:null}),[o,s]=L.useState(!1),[r,l]=L.useState(""),[a,c]=L.useState(!1),[u,h]=L.useState(null),[m,g]=L.useState(null);L.useEffect(()=>{const R=W=>{const ve=me(`assessmentHistory_${t.email}_${W}`,[]);return ve.length>0?ve[ve.length-1].score:0},F={fitness:R("fitness"),sleep:R("sleep"),diet:R("diet"),stress:R("stress"),microbiome:R("microbiome")},V=Object.values(F).some(W=>W>0);s(V),V&&i({fitness:So(F.fitness,"fitness"),sleep:So(F.sleep,"sleep"),diet:So(F.diet,"diet"),stress:So(F.stress,"stress"),microbiome:So(F.microbiome,"microbiome")});const $=localStorage.getItem(`birthDate_${t.email}`);$&&(l($),c(!0));const z=localStorage.getItem(`motivationalPathStartDate_${t.email}`);h(z);const B=new Date,G=Math.floor((B.getTime()-new Date(B.getFullYear(),0,0).getTime())/1e3/60/60/24)%bh.length;g(bh[G])},[t.email]);const x=R=>{R.preventDefault(),r&&(localStorage.setItem(`birthDate_${t.email}`,r),c(!0))},y=()=>{const R=new Date().toISOString();localStorage.setItem(`motivationalPathStartDate_${t.email}`,R),h(R)},v=()=>{if(confirm("Vuoi ricominciare il percorso guidato dal primo passo?")){const R=new Date().toISOString();localStorage.setItem(`motivationalPathStartDate_${t.email}`,R),h(R)}},_=()=>{localStorage.removeItem(`motivationalPathStartDate_${t.email}`),h(null)},w=fb(n),S=pb(w,n),b=()=>{const R=new Date().toLocaleDateString("it-IT");let F=`CLINICAL WELLNESS SPA - REPORT OLISTICO
Data: ${R}
Utente: ${t.name}

`;F+=`--- PUNTEGGI BASE ---
`,F+=`Fitness: ${n.fitness??"-"}%
`,F+=`Sonno: ${n.sleep??"-"}%
`,F+=`Dietetica: ${n.diet??"-"}%
`,F+=`Stress: ${n.stress??"-"}%
`,F+=`Microbioma: ${n.microbiome??"-"}%

`,F+=`--- INDICI SINERGICI ---
`,F+=`Mente: ${w.mind??"-"}%
`,F+=`Energia: ${w.body??"-"}%
`,F+=`Emozioni: ${w.emotions??"-"}%

`,T&&(F+=`--- FOCUS CONSIGLIATO ---
`,F+=`Area: ${T.area.toUpperCase()}
`,F+=`Obiettivo: ${T.focus}

`),S.length>0&&(F+=`--- PIANO TERAPEUTICO ---
`,S.forEach(B=>{F+=`
[${B.title}] - ${B.status.toUpperCase()}
`,F+=`${B.description}
`,F+=`Terapie consigliate:
`,B.therapies.forEach(M=>F+=` - ${M}
`)}));const V=new Blob(["\uFEFF"+F],{type:"text/plain;charset=utf-8"}),$=URL.createObjectURL(V),z=document.createElement("a");z.href=$,z.download=`Wellness_Report_${R.replace(/\//g,"-")}.txt`,document.body.appendChild(z),z.click(),document.body.removeChild(z)},T=(()=>{const R=Object.entries(n).filter(([M,G])=>G!==null);if(R.length===0)return null;const V=R.sort((M,G)=>M[1]-G[1])[0];if(V[1]>70)return null;const $=Kk[V[0]],z=Qk[V[0]];if(!$)return null;const B=$.missions.map(M=>{var G;return(G=ni.start.daily)==null?void 0:G.find(W=>W.id===M)}).filter(Boolean);return{area:V[0],score:V[1],focus:$.focus,missions:B.slice(0,2),meditation:z}})(),k=()=>{const R=[{name:"Fitness",val:n.fitness},{name:"Sonno",val:n.sleep},{name:"Dietetica",val:n.diet},{name:"Stress",val:n.stress},{name:"Microbioma",val:n.microbiome}].filter(B=>B.val!==null);if(R.length===0)return f.jsx("p",{className:"text-slate-500 italic",children:"Completa i test per vedere l'analisi."});const F=[...R].sort((B,M)=>M.val-B.val),V=F[0],$=F[F.length-1],z=Math.round(R.reduce((B,M)=>B+M.val,0)/R.length);return f.jsxs("p",{className:"text-slate-600 text-sm leading-relaxed",children:["Il tuo ",f.jsx("strong",{children:"Wellness Index"})," attuale  ",f.jsxs("strong",{children:[z,"%"]}),". Il tuo punto di forza  l'area ",f.jsx("strong",{children:V.name})," (",V.val,"%), continua cos!",V.name!==$.name&&f.jsxs(f.Fragment,{children:["L'area che richiede pi attenzione  ",f.jsx("strong",{children:$.name})," (",$.val,"%), che potrebbe influenzare negativamente il tuo equilibrio. Consulta il Piano Terapeutico qui sotto per strategie mirate."]})]})},E=(R,F,V)=>{const $=F>20?"high":F<-20?"low":"critical",z=V===null?"unknown":V>60?"strong":"weak";let B="",M="";return R==="physical"?$==="high"&&z==="strong"?(B="Performance Ottimale",M="Oggi  il giorno giusto per allenamenti intensi o sfide fisiche."):$==="high"&&z==="weak"?(B="Spinta Energetica",M="Il bioritmo ti sostiene nonostante la stanchezza di fondo. Buon momento per riprendere l'attivit."):$==="low"&&z==="strong"?(B="Mantenimento",M="Hai buone riserve, ma il ciclo  basso. Non esagerare con gli sforzi."):$==="low"&&z==="weak"?(B="Riposo Necessario",M="Doppia criticit. Dedicati al recupero, stretching o sonno extra."):(B="Fase di Transizione",M="Attenzione agli infortuni, evita sforzi improvvisi."):R==="emotional"?$==="high"&&z==="strong"?(B="Carisma e Socialit",M="Ottimo momento per relazioni e creativit."):$==="high"&&z==="weak"?(B="Resilienza",M="Il bioritmo ti aiuta a gestire lo stress accumulato. Giornata buona per risolvere conflitti."):$==="low"?(B="Introspezione",M="Potresti sentirti pi sensibile. Evita discussioni importanti oggi."):(B="Equilibrio Instabile",M="Umore variabile, pratica la coerenza cardiaca."):R==="intellectual"&&($==="high"?(B="Focus Mentale",M="Capacit di apprendimento e concentrazione al massimo."):$==="low"?(B="Routine",M="Evita decisioni complesse o studio intenso. Meglio attivit ripetitive."):(B="Criticit",M="Possibili distrazioni. Rivedi due volte il tuo lavoro.")),{title:B,body:M}},A=new Date,N=a&&r?{physical:Math.round($i(new Date(r),A,23)),emotional:Math.round($i(new Date(r),A,28)),intellectual:Math.round($i(new Date(r),A,33))}:null,I=({type:R,label:F,compositeValue:V,bioValue:$,borderClass:z,bgClass:B,iconColorClass:M})=>{const G=N?E(R,$,V):null;return f.jsxs("div",{className:`p-4 rounded-xl border-l-4 ${z} ${B} shadow-md h-full flex flex-col justify-between`,children:[f.jsxs("div",{children:[f.jsx("h3",{className:`font-bold text-sm uppercase tracking-wider mb-4 ${M}`,children:F}),f.jsxs("div",{className:"space-y-3 mb-4",children:[f.jsxs("div",{className:"flex justify-between items-center border-b border-slate-200/50 pb-2",children:[f.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide",children:"Livello Base"}),f.jsx("span",{className:"text-xl font-black text-slate-700",children:V!==null?`${V}%`:"-"})]}),N&&f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide",children:"Bioritmo Oggi"}),f.jsxs("span",{className:`text-xl font-black ${$>=0?"text-green-600":"text-red-500"}`,children:[$>0?"+":"",$,"%"]})]})]})]}),f.jsx("div",{className:"mt-auto pt-3 border-t border-slate-200/60",children:G?f.jsxs(f.Fragment,{children:[f.jsx("p",{className:`font-bold text-xs mb-1 ${M}`,children:G.title}),f.jsx("p",{className:"text-xs text-slate-600 leading-relaxed font-medium",children:G.body})]}):f.jsx("p",{className:"text-xs text-slate-400 italic",children:"Inserisci la data di nascita per i consigli giornalieri."})})]})};let P=0,D=null;if(u){const R=new Date(u),V=new Date().getTime()-R.getTime();P=Math.floor(V/(1e3*60*60*24))+1,P>=1&&P<=14&&(D=Yk.find($=>$.day===P))}return o?f.jsxs("div",{className:"p-4 md:p-8 animate-fade-in pb-32 max-w-7xl mx-auto",children:[f.jsxs("header",{className:"mb-8 flex flex-col md:flex-row md:items-end justify-between gap-4",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-4xl font-bold text-slate-800",children:"Wellness Dashboard"}),f.jsx("p",{className:"text-xl text-slate-600",children:"Analisi olistica del tuo stato di salute e longevit."})]}),f.jsxs("div",{className:"text-right hidden md:block",children:[f.jsx("p",{className:"text-sm text-slate-500",children:"Ultimo aggiornamento"}),f.jsx("p",{className:"font-mono font-semibold text-slate-700",children:new Date().toLocaleDateString()}),f.jsxs("button",{onClick:b,className:"mt-2 text-xs flex items-center justify-end gap-1 text-sky-600 hover:text-sky-800 font-bold w-full",children:[f.jsx(md,{className:"w-4 h-4"})," Scarica Report (.txt)"]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[f.jsxs("div",{className:"flex flex-col gap-6",children:[f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-slate-100",children:[f.jsxs("h2",{className:"text-xl font-bold text-slate-800 mb-6 flex items-center gap-2",children:[f.jsx("span",{className:"w-2 h-6 bg-sky-500 rounded-full"}),"Radar Benessere"]}),f.jsx("div",{className:"flex justify-center relative",children:f.jsx(qk,{scores:n,composites:w})}),f.jsxs("div",{className:"mt-6 bg-slate-50 rounded-xl p-4 border border-slate-200",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(Mn,{className:"w-4 h-4 text-sky-600"}),f.jsx("h3",{className:"font-bold text-sm text-slate-700 uppercase tracking-wide",children:"Analisi Sintetica"})]}),k()]})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[f.jsx(I,{type:"physical",label:"Energia & Fisico",compositeValue:w.body,bioValue:N==null?void 0:N.physical,bgClass:"bg-green-50",borderClass:"border-green-500",iconColorClass:"text-green-800"}),f.jsx(I,{type:"intellectual",label:"Mente & Intelletto",compositeValue:w.mind,bioValue:N==null?void 0:N.intellectual,bgClass:"bg-sky-50",borderClass:"border-sky-500",iconColorClass:"text-sky-800"}),f.jsx(I,{type:"emotional",label:"Cuore & Emozioni",compositeValue:w.emotions,bioValue:N==null?void 0:N.emotional,bgClass:"bg-orange-50",borderClass:"border-orange-500",iconColorClass:"text-orange-800"})]})]}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-slate-100 h-full",children:[f.jsxs("h2",{className:"text-xl font-bold text-slate-800 mb-6 flex items-center gap-2",children:[f.jsx("span",{className:"w-2 h-6 bg-green-500 rounded-full"}),"Mappa del Benessere"]}),f.jsx(Wk,{scores:n,composites:w,gender:t.gender||"female"})]})]}),T&&f.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 p-6 rounded-2xl shadow-lg border border-indigo-100 mb-12 animate-fade-in",children:f.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-6",children:[f.jsx("div",{className:"flex-shrink-0 p-4 bg-white rounded-full shadow-sm",children:f.jsx(Mn,{className:"w-8 h-8 text-purple-600"})}),f.jsxs("div",{className:"flex-grow w-full",children:[f.jsxs("h2",{className:"text-lg font-bold text-slate-800 mb-1",children:["Focus Consigliato: ",f.jsx("span",{className:"text-purple-700 uppercase",children:T.focus})]}),f.jsxs("p",{className:"text-slate-600 mb-4 text-sm leading-relaxed",children:["Il tuo punteggio in ",f.jsx("strong",{children:T.area.toUpperCase()}),"  basso (",T.score,'%). Questo influenza negativamente la tua energia "Base".']}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:T.missions.map(R=>f.jsx("div",{className:"bg-white p-3 rounded-xl border border-indigo-100 shadow-sm flex items-center justify-between",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"text-2xl",children:R.Icon}),f.jsxs("div",{children:[f.jsx("p",{className:"font-bold text-slate-700 text-sm",children:R.title}),f.jsx("p",{className:"text-xs text-slate-500",children:R.description})]})]})},R.id))}),T.meditation&&f.jsxs("div",{className:"mt-4 bg-white/60 p-4 rounded-xl border border-indigo-200",children:[f.jsxs("h3",{className:"font-bold text-indigo-800 text-sm flex items-center gap-2 mb-2",children:[f.jsx(Bl,{className:"w-4 h-4"})," Protocollo Meditativo Consigliato"]}),f.jsx("p",{className:"text-sm text-slate-700 mb-2",children:T.meditation.description}),f.jsxs("div",{className:"flex flex-wrap gap-2 text-xs font-semibold",children:[f.jsxs("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full",children:["Ritmo: ",T.meditation.rhythm]}),f.jsxs("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full",children:["Frequenza: ",T.meditation.frequency]})]}),f.jsx("button",{onClick:()=>e("breathing"),className:"mt-3 text-xs font-bold text-indigo-600 hover:text-indigo-800 underline",children:"Vai alla Meditazione Guidata "})]}),f.jsx("div",{className:"mt-4 text-right",children:f.jsx("button",{onClick:()=>e("wellnessRoutine"),className:"text-sm font-bold text-purple-600 hover:text-purple-800 underline",children:"Vai alla Routine Completa "})})]})]})}),f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 md:p-8 mb-12 border border-purple-100",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[f.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:f.jsx(sd,{className:"w-6 h-6 text-purple-600"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"BioPulse: Onda Temporale"}),f.jsx("p",{className:"text-slate-500 text-sm",children:"Visualizza l'andamento dei tuoi cicli nei prossimi giorni."})]})]}),a?f.jsxs("div",{children:[f.jsx(Jk,{birthDate:new Date(r),targetDate:new Date}),f.jsxs("div",{className:"mt-6 flex flex-wrap justify-center gap-4 md:gap-8",children:[f.jsxs("div",{className:"flex items-center gap-2 bg-green-50 px-3 py-1.5 rounded-lg border border-green-200",children:[f.jsx(Rv,{className:"w-5 h-5 text-green-600"}),f.jsx("span",{className:"text-xs font-bold text-green-800",children:"Fisico (23gg)"})]}),f.jsxs("div",{className:"flex items-center gap-2 bg-orange-50 px-3 py-1.5 rounded-lg border border-orange-200",children:[f.jsx(Dv,{className:"w-5 h-5 text-orange-500"}),f.jsx("span",{className:"text-xs font-bold text-orange-800",children:"Emotivo (28gg)"})]}),f.jsxs("div",{className:"flex items-center gap-2 bg-sky-50 px-3 py-1.5 rounded-lg border border-sky-200",children:[f.jsx(Pv,{className:"w-5 h-5 text-sky-600"}),f.jsx("span",{className:"text-xs font-bold text-sky-800",children:"Intellettuale (33gg)"})]})]})]}):f.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl text-center",children:[f.jsx("p",{className:"text-slate-600 mb-4",children:"Per calcolare i tuoi bioritmi, abbiamo bisogno della tua data di nascita."}),f.jsxs("form",{onSubmit:x,className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[f.jsx("input",{type:"date",required:!0,value:r,onChange:R=>l(R.target.value),className:"p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 bg-white"}),f.jsx("button",{type:"submit",className:"px-6 py-3 bg-purple-600 text-white font-bold rounded-lg hover:bg-purple-700 transition-colors",children:"Calcola Bioritmi"})]})]})]}),f.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-2xl shadow-xl p-8 mb-12 text-white overflow-hidden relative",children:[f.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:f.jsx(Mn,{className:"w-32 h-32 text-white"})}),u?f.jsxs("div",{className:"relative z-10",children:[f.jsx("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:" Percorso Guidato al Cambiamento"}),P>14?f.jsxs("div",{className:"text-center py-6",children:[f.jsx("h3",{className:"text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-amber-600 mb-4",children:" Missione Compiuta!"}),f.jsx("p",{className:"text-slate-300 mb-2",children:"Hai completato i 14 giorni di attivazione. Queste nuove abitudini sono ora parte di te."}),f.jsx("p",{className:"text-slate-400 mb-8 text-sm",children:"Ora puoi scegliere se mantenere queste abitudini con l'ispirazione quotidiana o ricominciare il ciclo per rafforzarle."}),m&&f.jsxs("div",{className:"bg-white/10 p-4 rounded-xl mb-8 max-w-lg mx-auto",children:[f.jsx("p",{className:"text-sm text-sky-200 mb-2",children:"La tua ispirazione finale:"}),f.jsxs("p",{className:"italic",children:['"',m.text,'"']})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[f.jsx("button",{onClick:_,className:"bg-white text-slate-900 font-bold py-3 px-6 rounded-full shadow-lg hover:bg-slate-100 transition-colors",children:"Vai al Mantenimento (Ispirazione Quotidiana)"}),f.jsx("button",{onClick:v,className:"text-slate-400 hover:text-white underline text-sm",children:"Ricomincia il ciclo dal Giorno 1"})]})]}):f.jsxs("div",{children:[D&&f.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/10",children:f.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-center",children:[f.jsxs("div",{className:"flex-grow text-center md:text-left",children:[f.jsx("h3",{className:"text-lg font-medium text-sky-200 mb-2 uppercase tracking-wider",children:"Messaggio del Giorno"}),f.jsxs("p",{className:"text-xl md:text-2xl font-bold text-white mb-4 leading-relaxed",children:['"',D.message,'"']}),f.jsxs("div",{className:"inline-block bg-slate-800 px-4 py-2 rounded-lg border border-slate-600",children:[f.jsx("p",{className:"text-sm text-slate-400 italic mb-1",children:D.category}),f.jsx("p",{className:"text-md text-sky-100 font-serif",children:D.quote})]})]}),f.jsxs("div",{className:"flex-shrink-0 text-center",children:[f.jsx("div",{className:"w-20 h-20 rounded-full bg-sky-500/20 border-2 border-sky-500 flex items-center justify-center text-2xl font-bold text-white mb-2 mx-auto",children:P}),f.jsx("span",{className:"text-xs uppercase text-slate-400 font-bold tracking-widest",children:"Passo"})]})]})}),f.jsx("div",{className:"mt-4 text-right",children:f.jsx("button",{onClick:v,className:"text-xs text-slate-500 hover:text-slate-300",children:"Reset Percorso"})})]})]}):f.jsxs("div",{className:"relative z-10 text-center",children:[f.jsx("h2",{className:"text-xl font-bold text-sky-200 mb-2 uppercase tracking-wide",children:" Ispirazione Quotidiana"}),m?f.jsxs("div",{className:"py-6",children:[f.jsxs("p",{className:"text-2xl md:text-3xl font-bold text-white mb-6 leading-relaxed font-serif italic",children:['"',m.text,'"']}),f.jsx("span",{className:"inline-block bg-white/20 px-4 py-1 rounded-full text-sm text-sky-100 font-semibold",children:m.category})]}):f.jsx("p",{children:"Caricamento..."}),f.jsxs("div",{className:"mt-8 border-t border-white/10 pt-6",children:[f.jsx("p",{className:"text-lg text-slate-300 mb-4",children:"Vuoi un cambiamento radicale? Inizia il percorso guidato."}),f.jsx("button",{onClick:y,className:"bg-sky-500 hover:bg-sky-400 text-white font-bold py-3 px-8 rounded-full shadow-lg transition-transform hover:scale-105",children:"Inizia il Percorso di Trasformazione"})]})]})]}),f.jsxs("div",{className:"bg-gradient-to-r from-slate-100 to-slate-200 rounded-2xl shadow-xl p-8 mb-12 text-slate-800 flex flex-col md:flex-row items-center justify-between gap-6 border border-slate-300",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-2xl font-bold mb-2 flex items-center gap-3",children:[f.jsx(rd,{className:"w-8 h-8 text-sky-600"}),"Analisi Cliniche Consigliate"]}),f.jsx("p",{className:"text-slate-600 max-w-2xl",children:"Hai completato i test di autovalutazione. Per ottenere un quadro clinico completo e personalizzato, prenota le analisi specifiche consigliate per i tuoi obiettivi di salute in CLINICAL WELLNESS SPA presso Farmacia Centrale Montesilvano."})]}),f.jsxs("button",{onClick:()=>e("analysisQuote"),className:"bg-sky-600 hover:bg-sky-700 text-white font-bold py-3 px-8 rounded-lg transition-colors shadow-lg whitespace-nowrap flex items-center gap-2",children:[f.jsx("span",{children:"Scegli i tuoi obiettivi"}),f.jsx(Kc,{className:"w-5 h-5 rotate-180"})]})]}),f.jsxs("div",{className:"space-y-8",children:[f.jsx("h2",{className:"text-3xl font-bold text-slate-800 border-b border-slate-200 pb-4",children:"Piano Terapeutico Integrato"}),f.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:S.map((R,F)=>f.jsx("div",{className:`bg-white rounded-2xl shadow-lg overflow-hidden border-t-4 ${R.status==="critical"?"border-red-500":R.status==="moderate"?"border-yellow-500":"border-green-500"}`,children:f.jsxs("div",{className:"p-6 flex flex-col h-full",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsx("h3",{className:"text-xl font-bold text-slate-800",children:R.title}),R.status==="critical"&&f.jsxs("div",{className:"flex items-center gap-1 text-red-600 font-bold bg-red-50 px-2 py-1 rounded",children:[f.jsx(hi,{className:"w-5 h-5"})," ",f.jsx("span",{children:"Critico"})]}),R.status==="moderate"&&f.jsxs("div",{className:"flex items-center gap-1 text-yellow-600 font-bold bg-yellow-50 px-2 py-1 rounded",children:[f.jsx("span",{className:"w-3 h-3 rounded-full bg-yellow-500"})," ",f.jsx("span",{children:"Moderato"})]}),R.status==="optimal"&&f.jsxs("div",{className:"flex items-center gap-1 text-green-600 font-bold bg-green-50 px-2 py-1 rounded",children:[f.jsx(on,{className:"w-5 h-5"})," ",f.jsx("span",{children:"Ottimale"})]})]}),f.jsx("p",{className:"text-slate-600 mb-6 text-sm leading-relaxed",children:R.description}),f.jsx("div",{className:"flex-grow",children:R.detailedContent?f.jsx("div",{className:"bg-slate-50 rounded-xl p-5 border border-slate-100 prose prose-sm max-w-none mb-4",dangerouslySetInnerHTML:{__html:R.detailedContent}}):f.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 mb-4",children:[f.jsx("h4",{className:"font-bold text-xs text-slate-500 uppercase tracking-wider mb-3",children:"Protocollo Consigliato"}),f.jsx("ul",{className:"space-y-2",children:R.therapies.map((V,$)=>f.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[f.jsx("span",{className:"w-1.5 h-1.5 bg-sky-500 rounded-full mt-1.5 flex-shrink-0"}),V]},$))})]})}),R.actionLink&&f.jsxs("button",{onClick:()=>e(R.actionLink),className:"w-full mt-auto py-2 px-4 bg-sky-100 text-sky-700 font-semibold rounded-lg hover:bg-sky-200 transition-colors text-sm flex items-center justify-center gap-2",children:["Vai alla risorsa consigliata ",f.jsx(Kc,{className:"w-4 h-4 rotate-180"})]})]})},F))})]}),f.jsx("div",{className:"mt-12 text-center text-slate-400 text-sm",children:f.jsx("p",{children:"Analisi basata su algoritmi di intelligenza artificiale clinica. I risultati non sostituiscono il parere medico."})})]}):f.jsx("div",{className:"p-8 animate-fade-in text-center",children:f.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-2xl shadow-xl p-10",children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-4",children:"Wellness Dashboard"}),f.jsx("p",{className:"text-slate-600 mb-8",children:"Non hai ancora dati sufficienti per generare la tua mappa della longevit. Completa i test di autovalutazione per sbloccare questa funzione."}),f.jsx("button",{onClick:()=>e("assessments"),className:"bg-sky-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-sky-700 transition-colors shadow-lg",children:"Vai ai Test"})]})})},Zk=t=>f.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),f.jsx("path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"})]}),Lv=t=>f.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"m6 9 6 6 6-6"})}),eI=({user:t,showNotification:e,wellnessData:n})=>{const[i,o]=L.useState({}),[s,r]=L.useState([]),[l,a]=L.useState(new Set),[c,u]=L.useState(null),h=L.useMemo(()=>({missionStates:`missionStates_${t.email}`,manualUnlocks:`manualUnlocks_${t.email}`,reminders:`activeReminders_${t.email}`}),[t.email]);L.useEffect(()=>{const S=me(h.missionStates,{}),b=me(h.manualUnlocks,[]),C=me(h.reminders,[]);o(S),r(b),a(new Set(C))},[h]);const m=L.useMemo(()=>{var C;let S=0;const b={};for(const T of Object.values(n)){let k=0;const E=[...T.daily||[],...T.weekly||[]];for(const A of E)(C=i[A.id])!=null&&C.completed&&(k+=A.points);T.id&&(b[T.id]={name:T.name,points:k,dependsOn:T.dependsOn,unlocksAt:T.unlocksAt},S+=k)}return{total:S,byProgram:b}},[i,n]),g=(S,b)=>{o(C=>{var A;const T={...C},k=((A=T[S])==null?void 0:A.completed)||!1;T[S]={...T[S],completed:!k},localStorage.setItem(h.missionStates,JSON.stringify(T));const E=k?"Missione annullata.":`Missione completata! +${b} punti!`;return e(E,"success"),T})},x=S=>{var R,F;const b=new Date;let C=8,T=0;if((R=S.reminderConfig)!=null&&R.time){const V=S.reminderConfig.time.split(":");V.length===2&&(C=parseInt(V[0],10),T=parseInt(V[1],10))}else(F=S.reminderConfig)!=null&&F.startHour&&(C=S.reminderConfig.startHour);const k=new Date(b);k.setDate(k.getDate()+1),k.setHours(C,T,0,0);const E=V=>V.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",A=`Wellness: ${S.title}`,N=`Promemoria benessere: ${S.description}`,I=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//ClinicalWellnessSpa//Benessere//IT
BEGIN:VEVENT
UID:${new Date().getTime()}@clinicalwellness.com
DTSTAMP:${E(new Date)}
DTSTART:${E(k)}
RRULE:FREQ=DAILY
SUMMARY:${A}
DESCRIPTION:${N}
BEGIN:VALARM
TRIGGER:-PT15M
ACTION:DISPLAY
DESCRIPTION:Reminder
END:VALARM
END:VEVENT
END:VCALENDAR`,P=new Blob([I],{type:"text/calendar;charset=utf-8"}),D=document.createElement("a");D.href=window.URL.createObjectURL(P),D.setAttribute("download",`${S.title.replace(/\s+/g,"_")}.ics`),document.body.appendChild(D),D.click(),document.body.removeChild(D)},y=S=>{window.confirm(`Vuoi aggiungere questo promemoria ("${S.title}") al tuo Calendario (Google/Apple)?`)&&(x(S),e("Evento calendario scaricato. Aprilo per salvarlo.","success")),a(C=>{const T=new Set(C);return T.has(S.id)?T.delete(S.id):T.add(S.id),localStorage.setItem(h.reminders,JSON.stringify(Array.from(T))),T})},v=L.useMemo(()=>{const S={start:{title:" Routine Base del Benessere",programs:[]},food:{title:" Alimentazione",programs:[]},sleep:{title:" Sonno",programs:[]},anxiety_stress:{title:" Ansia & Stress",programs:[]},activity:{title:" Movimento",programs:[]},smart:{title:" Programmi Smart",programs:[]}};Object.values(n).forEach(b=>{b.id==="start"?S.start.programs.push(b):b.id.startsWith("food")?S.food.programs.push(b):b.id.startsWith("sleep")?S.sleep.programs.push(b):b.id.startsWith("anxiety_stress")?S.anxiety_stress.programs.push(b):b.id.startsWith("activity")?S.activity.programs.push(b):b.isSmart&&S.smart.programs.push(b)});for(const b in S)S[b].programs.sort((C,T)=>{var A,N;const k=parseInt(((A=C.id.match(/\d+$/))==null?void 0:A[0])||"1"),E=parseInt(((N=T.id.match(/\d+$/))==null?void 0:N[0])||"1");return C.id.includes("gold")?-1:T.id.includes("gold")?1:k-E});return S},[n]),_=({program:S})=>{var N,I,P;const b=((N=m.byProgram[S.id])==null?void 0:N.points)||0,C=s.includes(S.id);let T=!1,k=0;const E=S.dependsOn?m.byProgram[S.dependsOn]:null;if(E&&typeof S.unlocksAt=="number"&&!C){const D=E.points||0;D<S.unlocksAt&&(T=!0,k=S.unlocksAt-D)}const A=c===S.id;return T&&E?f.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 opacity-60",children:f.jsxs("div",{className:"flex items-center justify-center gap-4 text-center",children:[f.jsx(Vl,{className:"w-8 h-8 text-slate-400"}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold text-slate-600",children:S.name}),f.jsxs("p",{className:"text-sm text-slate-500",children:["Richiede ",S.unlocksAt,' punti in "',E.name,'". Mancano ',k," punti."]})]})]})}):f.jsxs("div",{className:"bg-white rounded-xl shadow-lg",children:[f.jsxs("button",{className:"w-full text-left p-4 flex justify-between items-center",onClick:()=>u(A?null:S.id),"aria-expanded":A,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"text-3xl",children:S.Icon}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold text-slate-800",children:S.name}),f.jsx("p",{className:"text-slate-500",children:S.subtitle})]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("span",{className:"font-bold text-sky-600 text-lg",children:[b," Punti"]}),f.jsx(Lv,{className:`w-6 h-6 text-slate-500 transition-transform ${A?"rotate-180":""}`})]})]}),A&&f.jsxs("div",{className:"p-4 border-t border-slate-200 animate-fade-in",children:[f.jsx("p",{className:"text-slate-600 mb-4",children:S.description}),S.daily&&S.daily.length>0&&f.jsx("h4",{className:"font-bold text-slate-700 mb-2 mt-4",children:"Missioni Giornaliere"}),f.jsx("ul",{className:"space-y-3",children:(I=S.daily)==null?void 0:I.map(D=>{var R,F,V;return f.jsxs("li",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"text-xl",children:D.Icon}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-slate-700",children:D.title}),f.jsx("p",{className:"text-sm text-slate-500",children:D.description})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[D.remindable&&f.jsx("button",{onClick:()=>y(D),className:`p-2 rounded-full transition-colors ${l.has(D.id)?"bg-sky-100 text-sky-600":"text-slate-400 hover:bg-slate-200"}`,"aria-label":l.has(D.id)?"Disattiva promemoria":"Attiva promemoria",title:"Aggiungi al calendario",children:f.jsx(Zk,{className:"w-5 h-5"})}),f.jsxs("button",{onClick:()=>g(D.id,D.points),className:"flex items-center gap-2 px-3 py-1.5 text-sm font-bold rounded-full transition-colors bg-white border-2",style:{borderColor:(R=i[D.id])!=null&&R.completed?"#22c55e":"#e2e8f0",color:(F=i[D.id])!=null&&F.completed?"#166534":"#334155"},children:[((V=i[D.id])==null?void 0:V.completed)&&f.jsx(on,{className:"w-5 h-5 text-green-600"}),f.jsxs("span",{children:[D.points," Punti"]})]})]})]},D.id)})}),S.weekly&&S.weekly.length>0&&f.jsx("h4",{className:"font-bold text-slate-700 mb-2 mt-4",children:"Missioni Settimanali"}),f.jsx("ul",{className:"space-y-3",children:(P=S.weekly)==null?void 0:P.map(D=>{var R,F,V;return f.jsxs("li",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"text-xl",children:D.Icon}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-slate-700",children:D.title}),f.jsx("p",{className:"text-sm text-slate-500",children:D.description})]})]}),f.jsx("div",{className:"flex items-center gap-2",children:f.jsxs("button",{onClick:()=>g(D.id,D.points),className:"flex items-center gap-2 px-3 py-1.5 text-sm font-bold rounded-full transition-colors bg-white border-2",style:{borderColor:(R=i[D.id])!=null&&R.completed?"#22c55e":"#e2e8f0",color:(F=i[D.id])!=null&&F.completed?"#166534":"#334155"},children:[((V=i[D.id])==null?void 0:V.completed)&&f.jsx(on,{className:"w-5 h-5 text-green-600"}),f.jsxs("span",{children:[D.points," Punti"]})]})})]},D.id)})})]})]})},w=["start","food","sleep","anxiety_stress","activity","smart"];return f.jsxs("div",{className:"p-4 md:p-8 animate-fade-in",children:[f.jsx("h1",{className:"text-4xl font-bold text-slate-800 mb-2",children:"La Tua Routine di Benessere"}),f.jsx("p",{className:"text-xl text-slate-600 mb-8",children:"Completa le missioni, accumula punti e sblocca nuovi livelli!"}),f.jsxs("div",{className:"bg-sky-600 text-white p-6 rounded-2xl shadow-lg mb-8 text-center",children:[f.jsx("p",{className:"text-lg text-sky-200",children:"Punti Benessere Totali"}),f.jsx("p",{className:"text-5xl font-bold",children:m.total})]}),w.map(S=>{const b=v[S];return!b||b.programs.length===0?null:f.jsxs("div",{className:"mb-8",children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-700 mb-4",children:b.title}),f.jsx("div",{className:"space-y-4",children:b.programs.map(C=>f.jsx(_,{program:C},C.id))})]},S)})]})},tI=t=>f.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),f.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),nI=t=>f.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24"}),f.jsx("path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"}),f.jsx("path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"}),f.jsx("line",{x1:"2",x2:"22",y1:"2",y2:"22"})]}),iI=()=>{const t={coherence:{name:"5-5 Coerenza Cardiaca",inhale:5,hold:0,exhale:5,total:10},vagotonia:{name:"4-6 Vagotonia",inhale:4,hold:0,exhale:6,total:10},sleep:{name:"4-7-8 Sonno",inhale:4,hold:7,exhale:8,total:19},training:{name:"6-6 Allenamento",inhale:6,hold:0,exhale:6,total:12}},e=[{label:" Relax (432Hz Healing)",value:"audio/432hz_healing.mp3"},{label:" Mind (Attivazione)",value:"audio/Comunicativita.mp3"},{label:" Introspection (Profondit)",value:"audio/Perdono.mp3"}],n=[{label:"5 Minuti",value:300},{label:"10 Minuti",value:600},{label:"15 Minuti",value:900},{label:"30 Minuti",value:1800}],[i,o]=L.useState(n[0].value),[s,r]=L.useState("coherence"),[l,a]=L.useState(e[0].value),[c,u]=L.useState(!1),[h,m]=L.useState(n[0].value),[g,x]=L.useState(0),[y,v]=L.useState("Inizia"),[_,w]=L.useState(.6),[S,b]=L.useState("open"),[C,T]=L.useState(.5),[k,E]=L.useState(.8),A=L.useRef(null),N=L.useRef(null),I=L.useRef(null),P=L.useRef(null);L.useEffect(()=>{I.current&&(I.current.volume=C)},[C]),L.useEffect(()=>{if(I.current){const M=I.current;M.getAttribute("src")!==l&&(M.pause(),M.src=l,M.load(),M.volume=C,c&&M.play().catch(W=>console.log("Play error on track change:",W)))}},[l,c]);const D=L.useCallback(()=>{u(!1),clearInterval(A.current),clearTimeout(N.current),v("Inizia"),w(.6),I.current&&(I.current.pause(),I.current.currentTime=0)},[]);L.useEffect(()=>()=>{clearInterval(A.current),clearTimeout(N.current),I.current&&I.current.pause(),P.current&&P.current.close()},[]),L.useEffect(()=>(c&&h>0?A.current=setInterval(()=>{m(M=>M-1)},1e3):h===0&&c&&(D(),alert("Sessione di meditazione completata!")),()=>clearInterval(A.current)),[c,h,D]);const R=L.useCallback(async()=>{try{let M=P.current;M||(M=new(window.AudioContext||window.webkitAudioContext),P.current=M),M.state==="suspended"&&await M.resume();const G=M.currentTime,W=M.createOscillator(),ve=M.createOscillator(),pe=M.createGain();W.connect(pe),ve.connect(pe),pe.connect(M.destination),W.type="sine",ve.type="sine",W.frequency.setValueAtTime(800,G),ve.frequency.setValueAtTime(1200,G),pe.gain.setValueAtTime(0,G),pe.gain.linearRampToValueAtTime(k,G+.05),pe.gain.exponentialRampToValueAtTime(.001,G+1.2),W.start(G),ve.start(G),W.stop(G+1.2),ve.stop(G+1.2)}catch(M){console.error("Synth errore:",M)}},[k]),F=L.useCallback(async()=>{S!=="closed"||!c||R()},[S,c,R]);L.useEffect(()=>{if(!c)return;const M=t[s],G=()=>{v("Inspira..."),w(1),F(),N.current=setTimeout(()=>{M.hold>0&&v("Trattieni"),N.current=setTimeout(()=>{v("...espira"),w(.6),F(),N.current=setTimeout(()=>{x(W=>W+1),c&&G()},M.exhale*1e3)},M.hold*1e3)},M.inhale*1e3)};return G(),()=>clearTimeout(N.current)},[c,s,F]);const V=()=>{c?D():(m(i),x(0),u(!0),I.current&&(I.current.volume=C,I.current.play().catch(M=>alert("Impossibile riprodurre musica. Verifica i permessi audio."))),P.current||(P.current=new(window.AudioContext||window.webkitAudioContext)),P.current.state==="suspended"&&P.current.resume())},$=M=>{const G=String(Math.floor(M/60)).padStart(2,"0"),W=String(M%60).padStart(2,"0");return`${G}:${W}`},z=t[s],B=c?y==="Inspira..."?z.inhale:z.exhale:1;return f.jsxs("div",{className:"p-4 md:p-8 animate-fade-in flex flex-col items-center justify-center min-h-full",children:[f.jsxs("div",{className:"w-full max-w-lg",children:[f.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[f.jsx(Bl,{className:"w-8 h-8 text-sky-600"}),f.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Meditazione Guidata"})]}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-slate-100 mb-8 space-y-4",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 p-2 bg-slate-50 rounded-lg border border-slate-200",children:[f.jsx("label",{className:"text-sm font-bold text-slate-600 uppercase flex items-center gap-2 pl-2",children:" Modalit"}),f.jsxs("div",{className:"flex bg-white rounded-md p-1 border border-slate-200 shadow-sm w-full sm:w-auto",children:[f.jsxs("button",{onClick:()=>b("open"),disabled:c,className:`flex-1 sm:flex-none flex items-center justify-center gap-2 px-4 py-2 rounded-md text-sm font-bold transition-colors ${S==="open"?"bg-sky-100 text-sky-700":"text-slate-500 hover:bg-slate-50"}`,children:[f.jsx(tI,{className:"w-4 h-4"}),"Visiva"]}),f.jsxs("button",{onClick:()=>b("closed"),disabled:c,className:`flex-1 sm:flex-none flex items-center justify-center gap-2 px-4 py-2 rounded-md text-sm font-bold transition-colors ${S==="closed"?"bg-sky-100 text-sky-700":"text-slate-500 hover:bg-slate-50"}`,children:[f.jsx(nI,{className:"w-4 h-4"}),"Guidata"]})]})]}),S==="open"&&f.jsx("p",{className:"text-xs text-slate-400 text-center italic",children:'In modalit Visiva i segnali acustici ("Ding") sono disattivati.'}),f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[f.jsx("label",{htmlFor:"duration-select",className:"text-sm font-bold text-slate-600 uppercase flex items-center gap-2",children:" Durata"}),f.jsx("select",{id:"duration-select",value:i,onChange:M=>o(Number(M.target.value)),disabled:c,className:"w-full sm:w-2/3 p-2 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-sky-500 disabled:opacity-50 text-sm font-medium text-slate-700",children:n.map(M=>f.jsx("option",{value:M.value,children:M.label},M.value))})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[f.jsx("label",{htmlFor:"pattern-select",className:"text-sm font-bold text-slate-600 uppercase flex items-center gap-2",children:" Ritmo"}),f.jsx("select",{id:"pattern-select",value:s,onChange:M=>r(M.target.value),disabled:c,className:"w-full sm:w-2/3 p-2 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-sky-500 disabled:opacity-50 text-sm font-medium text-slate-700",children:Object.entries(t).map(([M,G])=>f.jsx("option",{value:M,children:G.name},M))})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 p-2 bg-sky-50 rounded-lg border border-sky-100",children:[f.jsx("label",{htmlFor:"music-select",className:"text-sm font-bold text-sky-700 uppercase flex items-center gap-2",children:" Frequenza"}),f.jsx("select",{id:"music-select",value:l,onChange:M=>a(M.target.value),disabled:c,className:"w-full sm:w-2/3 p-2 bg-white border border-sky-200 rounded-lg focus:ring-2 focus:ring-sky-500 disabled:opacity-50 text-sm font-medium text-slate-700 shadow-sm",children:e.map(M=>f.jsx("option",{value:M.value,children:M.label},M.value))})]}),f.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg border border-slate-200 space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between gap-2",children:[f.jsx("label",{htmlFor:"music-vol",className:"text-xs font-bold text-slate-600 uppercase w-20",children:"Musica"}),f.jsx("input",{id:"music-vol",type:"range",min:"0",max:"1",step:"0.01",value:C,onChange:M=>T(parseFloat(M.target.value)),className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-sky-500"})]}),f.jsxs("div",{className:"flex items-center justify-between gap-2",children:[f.jsx("label",{htmlFor:"ding-vol",className:"text-xs font-bold text-slate-600 uppercase w-20",children:"Segnale"}),f.jsx("input",{id:"ding-vol",type:"range",min:"0",max:"1",step:"0.01",value:k,onChange:M=>E(parseFloat(M.target.value)),className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-sky-500"})]})]})]}),f.jsxs("div",{className:"relative w-64 h-64 md:w-80 md:h-80 flex items-center justify-center mx-auto my-8",children:[f.jsx("div",{className:`absolute w-full h-full bg-sky-100 rounded-full ${c?"animate-pulse":""} opacity-50`}),f.jsx("div",{className:"absolute w-full h-full bg-gradient-to-br from-sky-400 to-blue-600 rounded-full shadow-2xl flex items-center justify-center",style:{transform:`scale(${_})`,transition:`transform ${B}s ease-in-out`},children:f.jsx("div",{className:"w-full h-full rounded-full bg-white opacity-20 blur-xl"})}),f.jsx("span",{className:"relative text-3xl font-extrabold text-white z-10 drop-shadow-lg tracking-wider uppercase",style:{textShadow:"0 2px 4px rgba(0,0,0,0.3)"},children:y})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-8",children:[f.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-100 text-center",children:[f.jsx("p",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Cicli"}),f.jsx("p",{className:"text-3xl font-bold text-slate-700",children:g})]}),f.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-100 text-center",children:[f.jsx("p",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Tempo"}),f.jsx("p",{className:"text-3xl font-bold text-slate-700 font-mono",children:$(c?h:i)})]})]}),f.jsx("button",{onClick:V,className:`w-full mt-8 block px-8 py-4 text-white font-bold text-lg rounded-xl shadow-lg transition-all transform hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center gap-2 ${c?"bg-slate-700 hover:bg-slate-800":"bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700"}`,children:c?f.jsx(f.Fragment,{children:" Ferma Sessione"}):f.jsx(f.Fragment,{children:" Inizia Meditazione"})})]}),f.jsx("audio",{ref:I,loop:!0,preload:"auto",onError:M=>console.error("Errore background music",M)})]})},Ch={programs:[{name:"Stress Management",duration:"60 min",price:60,package4:215,description:"Programma integrato per la gestione dello stress e il riequilibrio psicofisico."},{name:"Sleep Program",duration:"60 min",price:60,package4:215,description:"Un percorso mirato a migliorare la qualit del sonno e favorire il rilassamento profondo."},{name:"Performance Program",duration:"60 min",price:60,package4:215,description:"Ideato per ottimizzare le energie e migliorare le capacit fisiche e mentali."},{name:"Longevity Program",duration:"1h 15 min",price:80,package4:290,description:"Percorso orientato alla prevenzione e al mantenimento della vitalit nel tempo."},{name:"Wellness Program",duration:"60 min",price:60,package4:215,description:"Programma completo per raggiungere uno stato di benessere generale e rigenerazione."}],treatments:[{category:"Massaggi",items:[{name:"Massaggio Linfodrenante",duration:"50 min",price:50,package4:180},{name:"Massaggio Connettivale",duration:"50 min",price:50,package4:180,package6:270,package10:450},{name:"Massaggio Tuina",duration:"50 min",price:50,package4:180},{name:"Massaggio Antistress",duration:"1h 15 min",price:80,package4:290},{name:"Massaggio Bioenergetico",duration:"1h 15 min",price:80,package4:290},{name:"Riflessologia Plantare",duration:"50 min",price:50,package4:180},{name:"Massaggio con Coppettazione",duration:"50 min",price:50,package4:180},{name:"Massaggio Relax",duration:"60 min",price:60,package4:215}]},{category:"Trattamenti Anti-Cellulite",items:[{name:"Connettivale base",duration:"50 min",price:50,package6:270,package10:450},{name:"Connettivale con prodotti specifici",duration:"50 min",price:55,package6:300,package10:490},{name:"Sauna Infrarossi + Connettivale",duration:"60 min",price:55,package6:300,package10:490},{name:"Connettivale + Termosauna",duration:"60 min",price:60,package6:330,package10:540},{name:"Ionoforesi + Connettivale",duration:"60 min",price:60,package6:330,package10:540}]},{category:"Trattamenti Corpo",items:[{name:"Termosauna",duration:"30 min",price:30},{name:"Peeling corpo (Sauna + Peeling)",duration:"60 min",price:50}]},{category:"Trattamenti Viso RENOPHASE",items:[{name:"Igiene Viso 1",duration:"50 min",price:90},{name:"Igiene Viso 2 (pelle grassa)",duration:"50 min",price:120},{name:"Anti-Age base",duration:"50 min",price:60},{name:"Anti-Age RENOPHASE",duration:"50 min",price:120},{name:"Pelli Sensibili base",duration:"50 min",price:60},{name:"Pelli Sensibili RENOPHASE",duration:"50 min",price:90},{name:"Pelli Secche base",duration:"50 min",price:60},{name:"Soft RENOPHASE",duration:"50 min",price:90},{name:"Intensivo RENOPHASE",duration:"50 min",price:150},{name:"Macchie RENOPHASE",duration:"50 min",price:150},{name:"Acne RENOPHASE",duration:"50 min",price:150},{name:"Pre/Post Iniettivi RENOPHASE",duration:"50 min",price:150}]},{category:"Trattamenti Microaree RENOPHASE",items:[{name:"Occhi",baseDuration:"45 min",basePrice:60,photoDuration:"60 min",photoPrice:80},{name:"Collo",baseDuration:"45 min",basePrice:60,photoDuration:"60 min",photoPrice:80},{name:"Labbra",baseDuration:"45 min",basePrice:60,photoDuration:"60 min",photoPrice:80}]},{category:"Mantenimento e Prevenzione",items:[{name:"Fotostimolazione LED",duration:"30 min",price:40,package6:219}]},{category:"Trattamenti Specifici",items:[{name:"Gambe Pesanti: Linfodrenante + Impedenzometria",duration:"60 min",package10:470},{name:"Gambe Pesanti: Linfodrenante + Bendaggi Freddi",duration:"60 min",price:60,package6:330},{name:"Gonfiore Addominale: Sauna Finlandese + Udara",duration:"60 min",price:60,package6:330}]}]},Yl="farmaciacentrale.montesilvano@gmail.com",io="393400600600",oI={food_level_2:"energiaCucina",food_level_3:"gourmetMaster",anxiety_stress_level_2:"oasiTranquilla",anxiety_stress_level_3:"superZen",sleep_level_2:"sognoCalmo",sleep_level_3:"notteMagica",sleep_level_4:"sonnoProfondo",activity_sprint_2:"energiaMovimento",activity_sprint_3:"eccellenzaAtletica"},sI=[{program:"Alimentazione",level:"Livello 2  Energia in Cucina",password:"energiaCucina"},{program:"Alimentazione",level:"Livello 3  Sfida del Gourmet",password:"gourmetMaster"},{program:"Ansia-Stress",level:"Livello 2  Oasi della Tranquillit",password:"oasiTranquilla"},{program:"Ansia-Stress",level:"Livello 3  Super Zen",password:"superZen"},{program:"Sonno",level:"Livello 2  Sogno Calmo",password:"sognoCalmo"},{program:"Sonno",level:"Livello 3  Notte Magica",password:"notteMagica"},{program:"Sonno",level:"Livello 4  Sonno Profondo",password:"sonnoProfondo"},{program:"Movimento",level:"Livello 2  Energia in Movimento",password:"energiaMovimento"},{program:"Movimento",level:"Livello 3  Eccellenza Atletica",password:"eccellenzaAtletica"}],Md=({selection:t,onProceed:e,total:n})=>{const i=a=>{if(!a)return 0;let c=0;const u=a.split(" ");for(let h=0;h<u.length;h++)u[h].includes("h")?c+=parseInt(u[h],10)*60:u[h].includes("min")&&(c+=parseInt(u[h],10));return c},o=a=>{if(a===0)return"N/A";const c=Math.floor(a/60),u=a%60;let h="";return c>0&&(h+=`${c}h `),u>0&&(h+=`${u}min`),h.trim()},s=n!==void 0?n:t.reduce((a,c)=>a+c.price,0),r=t.reduce((a,c)=>a+i(c.duration),0),l=o(r);return f.jsx("div",{className:"fixed bottom-0 left-0 right-0 md:left-64 bg-slate-800 text-white p-4 shadow-[0_-4px_15px_-5px_rgba(0,0,0,0.2)] z-20 animate-slide-in-bottom",children:f.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col sm:flex-row justify-between items-center gap-4",children:[f.jsxs("div",{className:"flex-grow text-center sm:text-left",children:[f.jsxs("h3",{className:"font-bold text-lg",children:[t.length," Servizi Selezionati"]}),f.jsxs("div",{className:"flex gap-4 text-sky-200 text-sm",children:[r>0&&f.jsxs("span",{children:["Durata Totale: ",f.jsx("span",{className:"font-semibold text-white",children:l})]}),f.jsxs("span",{children:["Costo Totale: ",f.jsxs("span",{className:"font-semibold text-white",children:[s,""]})]})]})]}),f.jsx("button",{onClick:e,className:"bg-sky-500 font-semibold py-2 px-6 rounded-lg hover:bg-sky-600 transition-colors flex items-center justify-center gap-2",children:f.jsx("span",{children:"Richiedi Appuntamento"})})]})})},zv=t=>f.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"2",y:"4",width:"20",height:"16",rx:"2"}),f.jsx("path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"})]}),gl=t=>f.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M16.75 13.96c.25.13.42.2.55.32.13.13.2.27.2.42s-.07.28-.2.42c-.13.13-.27.2-.42.2h-.13c-.32 0-.68-.07-1.1-.2-1.25-.42-2.25-1.18-2.97-2.18-.72-1-1.1-2.13-1.1-3.36 0-.2.07-.37.2-.5.13-.13.27-.2.42-.2h.13c.13 0 .25.03.35.1.1.07.17.15.22.25.1.13.17.3.22.5s.1.42.13.65c.03.23.03.45.03.63 0 .2-.03.4-.1.55-.07.15-.15.28-.25.4-.1.1-.18.18-.25.25-.07.07-.13.12-.17.15-.04.03-.07.07-.07.13s0 .1.03.13c.03.03.07.07.1.13.17.2.38.45.65.7.27.28.5.5.75.7s.48.37.7.5c.07.03.12.06.15.08.03.02.06.03.08.03s.04.02.06.03c.02.01.05.02.08.03.03.01.07.02.1.03.1.03.2.07.3.13.03.03.06.05.08.06.02.01.05.03.08.04.03.01.07.02.1.03l.03.01h.02c.03 0 .07-.02.1-.03.17-.07.32-.15.45-.25s.22-.2.3-.3c.08-.1.13-.2.15-.28.02-.08.03-.17.03-.25 0-.1-.02-.2-.05-.3-.03-.1-.08-.2-.13-.3s-.12-.18-.2-.28c-.08-.1-.15-.18-.2-.25-.05-.07-.1-.13-.13-.18s-.05-.1-.05-.13a.14.14 0 0 1 .03-.1c.01-.02.03-.03.05-.04.1-.05.2-.1.3-.15s.18-.1.25-.13c.07-.03.13-.05.17-.05.04 0 .08.02.1.03s.05.03.06.05c.01.02.03.03.03.05.01.02.02.05.02.08s-.02.07-.03.1c-.01.03-.03.06-.05.08l-.05.08c-.03.03-.05.06-.06.08a.2.2 0 0 0-.02.1c0 .03.01.06.03.1.02.03.05.06.1.1l.4.45c.1.13.2.25.3.37.1.12.2.23.3.32.1.1.2.18.3.25.1.07.2.13.28.17.08.04.17.07.25.1.08.03.17.04.25.04.13 0 .25-.02.37-.05.12-.03.24-.08.36-.15.12-.07.23-.15.33-.25.1-.1.18-.2.25-.32.07-.12.12-.24.15-.37.03-.13.05-.25.05-.38 0-.2-.07-.38-.2-.53-.13-.15-.3-.28-.5-.38-.2-.1-.42-.16-.65-.18-.23-.02-.48-.03-.7-.03-.23 0-.45.01-.65.03-.2.02-.4.06-.55.13-.15.07-.3.15-.42.25-.12.1-.23.2-.3.3s-.15.2-.2.3c-.05.1-.1.2-.13.3s-.05.2-.05.3v.1c0 .07.02.13.05.18.03.05.08.1.13.15l.35.35c.05.05.1.1.13.15l.13.15c.03.03.05.06.06.1a.24.24 0 0 1 0 .2c-.01.04-.03.08-.06.1-.03.03-.06.05-.1.06-.04.01-.08.02-.1.02-.03 0-.06,0-.08-.01s-.05-.02-.08-.03a.55.55 0 0 1-.13-.06c-.05-.03-.1-.06-.15-.1-.2-.13-.4-.28-.6-.45-.2-.17-.38-.35-.55-.52-.17-.17-.33-.35-.48-.52s-.28-.33-.4-.48c-.05-.07-.1-.13-.15-.2s-.1-.13-.13-.2c-.03-.07-.05-.13-.05-.2v-.12c0-.04.01-.08.03-.1.02-.03.05-.05.08-.06.03-.01.07-.02.1-.02h.1c.07 0 .13.02.18.05.05.03.1.08.15.13.1.13.2.25.3.37.1.12.18.23.25.32.07.1.13.18.17.25.04.07.08.13.1.18.02.05.03.1.03.13s-.01.07-.03.1a.1.1 0 0 1-.08.05c-.03.01-.07.01-.1 0-.03 0-.06-.01-.08-.02s-.05-.02-.08-.03c-.07-.03-.15-.07-.22-.1-.07-.03-.15-.07-.22-.1s-.15-.07-.22-.1c-.07-.03-.15-.05-.22-.07-.2-.05-.4-.08-.6-.08-.17 0-.33.02-.5.05-.17.03-.32.08-.47.15-.15.07-.28.16-.4.27-.12.11-.22.23-.3.37zM12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2z"})}),Pd=({isOpen:t,onClose:e,selection:n,user:i,onConfirmByEmail:o,onConfirmByWhatsApp:s})=>{if(!t)return null;const[r,l]=L.useState(""),[a,c]=L.useState(""),[u,h]=L.useState(""),m=new Date().toISOString().split("T")[0],g=y=>{if(h(""),!r||!a){h("Per favore, seleziona sia una data che un orario.");return}if(r<m){h("La data selezionata non pu essere nel passato.");return}y==="email"?o(r,a):y==="whatsapp"&&s(r,a)},x=n.reduce((y,v)=>y+(v.price||0),0);return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 animate-fade-in",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg transform transition-transform animate-slide-in-up",children:[f.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-slate-200",children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Completa la tua Richiesta"}),f.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600",children:f.jsx(ld,{className:"w-6 h-6"})})]}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"font-semibold text-slate-700 mb-2",children:"Riepilogo Servizi:"}),f.jsx("ul",{className:"space-y-1 text-slate-600 max-h-32 overflow-y-auto bg-slate-50 p-3 rounded-md",children:n.map(y=>f.jsxs("li",{children:["- ",y.name]},y.id))}),f.jsxs("p",{className:"text-right font-bold text-slate-800 mt-2",children:["Totale: ",x,""]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-slate-700 mb-3",children:"Scegli la tua preferenza di appuntamento:"}),u&&f.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-3 mb-4 rounded-md",role:"alert",children:f.jsx("p",{children:u})}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"booking-date",className:"block text-sm font-medium text-slate-600 mb-1",children:"Data"}),f.jsx("input",{type:"date",id:"booking-date",min:m,value:r,onChange:y=>l(y.target.value),className:"w-full p-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"booking-time",className:"block text-sm font-medium text-slate-600 mb-1",children:"Orario"}),f.jsx("input",{type:"time",id:"booking-time",value:a,onChange:y=>c(y.target.value),className:"w-full p-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]})]})]})]}),f.jsxs("div",{className:"bg-slate-50 p-5 rounded-b-2xl flex flex-col sm:flex-row justify-end items-center gap-3",children:[f.jsxs("button",{onClick:()=>g("email"),className:"w-full sm:w-auto px-5 py-2 bg-sky-600 text-white font-semibold rounded-lg hover:bg-sky-700 transition-colors flex items-center justify-center gap-2",children:[f.jsx(zv,{className:"w-5 h-5"})," Invia via Email"]}),f.jsxs("button",{onClick:()=>g("whatsapp"),className:"w-full sm:w-auto px-5 py-2 bg-green-500 text-white font-semibold rounded-lg hover:bg-green-600 transition-colors flex items-center justify-center gap-2",children:[f.jsx(gl,{className:"w-5 h-5"})," Invia via WhatsApp"]})]})]})})},rI=({user:t,showNotification:e})=>{const[n,i]=L.useState([]),[o,s]=L.useState(!1),[r,l]=L.useState([]),a=L.useCallback(()=>{const _=me("spaBookings",[]).filter(w=>w.userEmail===t.email&&w.type==="spa").sort((w,S)=>new Date(S.dateSubmitted).getTime()-new Date(w.dateSubmitted).getTime());l(_)},[t.email]);L.useEffect(()=>{a()},[a]);const c=(v,_)=>{i(w=>{const S=`${_}-${v.name}`;return w.some(C=>C.id===S)?w.filter(C=>C.id!==S):[...w,{...v,id:S}]})},u=(v,_)=>{const S=me("spaBookings",[]).map(b=>b.id===v?{...b,status:_}:b);localStorage.setItem("spaBookings",JSON.stringify(S)),a(),e("Stato appuntamento aggiornato!","success")},h=v=>{if(window.confirm("Sei sicuro di voler annullare questa richiesta?")){const w=me("spaBookings",[]).filter(S=>S.id!==v);localStorage.setItem("spaBookings",JSON.stringify(w)),a(),e("Richiesta annullata.","success")}},m=(v,_,w)=>{const S={id:new Date().getTime(),userEmail:t.email,userName:t.name,services:n,requestedDate:v,requestedTime:_,totalPrice:n.reduce((k,E)=>k+(E.price||0),0),status:"pending",dateSubmitted:new Date().toISOString(),type:"spa"},b=me("spaBookings",[]);localStorage.setItem("spaBookings",JSON.stringify([...b,S])),a();const C=n.map(k=>`- ${k.name} (${k.duration} - ${k.price})`).join(`
`),T=`Richiesta prenotazione SPA da: ${t.name} (${t.email})
Data: ${new Date(v).toLocaleDateString("it-IT")}
Ora: ${_}

Servizi:
${C}

Totale: ${S.totalPrice}`.trim();w==="email"?window.open(`mailto:${Yl}?subject=${encodeURIComponent(`Richiesta Prenotazione SPA - ${t.name}`)}&body=${encodeURIComponent(T)}`,"_blank"):w==="whatsapp"&&window.open(`https://wa.me/${io}?text=${encodeURIComponent(T)}`,"_blank"),s(!1),i([]),e("La tua richiesta  pronta per essere inviata!")},g=({status:v})=>{const _={pending:"bg-amber-100 text-amber-800",confirmed:"bg-emerald-100 text-emerald-800",rejected:"bg-red-100 text-red-800"},w={pending:"In attesa",confirmed:"Confermata",rejected:"Rifiutata"};return f.jsx("span",{className:`px-3 py-1 text-sm font-bold rounded-full ${_[v]||_.pending}`,children:w[v]||w.pending})},x=[{category:"Programmi Benessere",items:Ch.programs},...Ch.treatments],y=n.reduce((v,_)=>v+(_.price||0),0);return f.jsxs("div",{className:"p-4 md:p-8 animate-fade-in pb-32",children:[f.jsx("h1",{className:"text-4xl font-bold text-slate-800 mb-2",children:"Percorsi & Trattamenti SPA"}),f.jsx("p",{className:"text-xl text-slate-600 mb-8",children:"Seleziona i trattamenti per richiedere un appuntamento."}),f.jsx("div",{className:"space-y-8",children:x.map(({category:v,items:_})=>f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg",children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-700 mb-4",children:v}),f.jsx("div",{className:"divide-y divide-slate-200",children:_.map(w=>v==="Trattamenti Microaree RENOPHASE"?f.jsxs("div",{className:"py-3",children:[f.jsx("p",{className:"font-bold text-slate-800 mb-2",children:w.name}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[f.jsxs("button",{onClick:()=>c({...w,name:`${w.name} Base`,duration:w.baseDuration,price:w.basePrice},v),className:`flex-1 text-left p-2 rounded-md transition-colors ${n.some(S=>S.id===`${v}-${w.name} Base`)?"bg-sky-100":"hover:bg-slate-50"}`,children:["Base: ",f.jsxs("span",{className:"font-semibold",children:[w.baseDuration," - ",w.basePrice,""]})]}),f.jsxs("button",{onClick:()=>c({...w,name:`${w.name} con Foto-stimolazione`,duration:w.photoDuration,price:w.photoPrice},v),className:`flex-1 text-left p-2 rounded-md transition-colors ${n.some(S=>S.id===`${v}-${w.name} con Foto-stimolazione`)?"bg-sky-100":"hover:bg-slate-50"}`,children:["+ Foto-stimolazione: ",f.jsxs("span",{className:"font-semibold",children:[w.photoDuration," - ",w.photoPrice,""]})]})]})]},w.name):f.jsxs("div",{onClick:()=>c(w,v),className:`py-3 flex justify-between items-center cursor-pointer transition-colors ${n.some(S=>S.id===`${v}-${w.name}`)?"bg-sky-50":"hover:bg-slate-50"}`,children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-bold text-slate-800",children:w.name}),f.jsx("p",{className:"text-sm text-slate-500",children:w.duration})]}),f.jsx("p",{className:"font-semibold text-sky-700",children:w.price?`${w.price}`:"Pacchetto"})]},w.name))})]},v))}),f.jsxs("div",{className:"mt-12",children:[f.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-6",children:"Le Tue Prenotazioni SPA"}),f.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-lg",children:r.length>0?f.jsx("ul",{className:"space-y-4",children:r.map(v=>f.jsxs("li",{className:"bg-slate-50 p-4 rounded-lg border border-slate-100",children:[f.jsxs("div",{className:"flex justify-between items-start gap-4",children:[f.jsxs("div",{children:[f.jsxs("p",{className:"font-bold text-slate-800",children:["Richiesta del ",new Date(v.dateSubmitted).toLocaleDateString("it-IT")]}),f.jsxs("p",{className:"text-sm text-slate-600",children:["Appuntamento per: ",new Date(v.requestedDate).toLocaleDateString("it-IT")," ore ",v.requestedTime]})]}),f.jsx(g,{status:v.status})]}),f.jsx("ul",{className:"mt-2 text-sm text-slate-700 list-disc list-inside",children:v.services.map(_=>f.jsx("li",{children:_.name},_.id))}),v.status==="pending"&&f.jsxs("div",{className:"mt-4 border-t border-slate-200 pt-3 flex items-center justify-end gap-3",children:[f.jsxs("button",{onClick:()=>u(v.id,"confirmed"),className:"flex items-center gap-1.5 text-sm font-semibold text-emerald-600 hover:text-emerald-800 p-2 rounded-lg hover:bg-emerald-50 transition-colors",children:[f.jsx(on,{className:"w-5 h-5"}),f.jsx("span",{children:"Conferma Appuntamento"})]}),f.jsxs("button",{onClick:()=>h(v.id),className:"flex items-center gap-1.5 text-sm font-semibold text-red-600 hover:text-red-800 p-2 rounded-lg hover:bg-red-50 transition-colors",children:[f.jsx(hi,{className:"w-5 h-5"}),f.jsx("span",{children:"Elimina Richiesta"})]})]})]},v.id))}):f.jsx("p",{className:"text-center text-slate-500 py-8",children:"Non hai prenotazioni SPA attive."})})]}),n.length>0&&f.jsx(Md,{selection:n,total:y,onProceed:()=>s(!0)}),f.jsx(Pd,{isOpen:o,onClose:()=>s(!1),selection:n,user:t,onConfirmByEmail:(v,_)=>m(v,_,"email"),onConfirmByWhatsApp:(v,_)=>m(v,_,"whatsapp")})]})},Th={category:"Servizi Diagnostici",items:[{name:"Holter Pressorio 24h",duration:"20 min",price:60,description:"Monitoraggio della pressione arteriosa per 24 ore."},{name:"Holter Cardiaco 24h",duration:"20 min",price:70,description:"Registrazione dell'attivit elettrica del cuore per 24 ore."},{name:"Elettrocardiogramma (ECG)",duration:"15 min",price:35,description:"Test rapido per controllare il ritmo e l'attivit elettrica del cuore."},{name:"Tampone Covid-19 Rapido",duration:"10 min",price:15,description:"Test antigenico rapido per la rilevazione del SARS-CoV-2."},{name:"Tampone Streptococco",duration:"10 min",price:20,description:"Test rapido per la diagnosi di faringite da Streptococco."},{name:"Foratura Lobi",duration:"15 min",price:25,description:"Servizio di foratura lobi sterile e sicuro."},{name:"Foratura Naso",duration:"20 min",price:30,description:"Servizio di foratura del naso con tecnica sterile."},{name:"Teledermatologia",duration:"20 min",price:80,description:"Valutazione dermatologica a distanza con invio di immagini."},{name:"BIA - Bioimpedenziometria",duration:"30 min",price:40,description:"Analisi della composizione corporea (massa magra, massa grassa, idratazione)."}]},lI=({user:t,showNotification:e})=>{const[n,i]=L.useState([]),[o,s]=L.useState(!1),[r,l]=L.useState([]),a=L.useCallback(()=>{const v=me("spaBookings",[]).filter(_=>_.userEmail===t.email&&_.type==="pharmacy").sort((_,w)=>new Date(w.dateSubmitted).getTime()-new Date(_.dateSubmitted).getTime());l(v)},[t.email]);L.useEffect(()=>{a()},[a]);const c=y=>{i(v=>{const _=y.name;return v.some(S=>S.id===_)?v.filter(S=>S.id!==_):[...v,{...y,id:_}]})},u=(y,v)=>{const w=me("spaBookings",[]).map(S=>S.id===y?{...S,status:v}:S);localStorage.setItem("spaBookings",JSON.stringify(w)),a(),e("Stato appuntamento aggiornato!","success")},h=y=>{if(window.confirm("Sei sicuro di voler annullare questa richiesta?")){const _=me("spaBookings",[]).filter(w=>w.id!==y);localStorage.setItem("spaBookings",JSON.stringify(_)),a(),e("Richiesta annullata.","success")}},m=(y,v,_)=>{const w={id:new Date().getTime(),userEmail:t.email,userName:t.name,services:n,requestedDate:y,requestedTime:v,totalPrice:n.reduce((T,k)=>T+k.price,0),status:"pending",dateSubmitted:new Date().toISOString(),type:"pharmacy"},S=me("spaBookings",[]);localStorage.setItem("spaBookings",JSON.stringify([...S,w])),a();const b=n.map(T=>`- ${T.name} (${T.duration} - ${T.price})`).join(`
`),C=`Richiesta Servizi Farmacia da: ${t.name} (${t.email})
Data: ${new Date(y).toLocaleDateString("it-IT")}
Ora: ${v}

Servizi:
${b}

Totale: ${w.totalPrice}`.trim();_==="email"?window.open(`mailto:${Yl}?subject=${encodeURIComponent(`Richiesta Servizi Farmacia - ${t.name}`)}&body=${encodeURIComponent(C)}`,"_blank"):_==="whatsapp"&&window.open(`https://wa.me/${io}?text=${encodeURIComponent(C)}`,"_blank"),s(!1),i([]),e("La tua richiesta  pronta per essere inviata!")},g=({status:y})=>{const v={pending:"bg-amber-100 text-amber-800",confirmed:"bg-emerald-100 text-emerald-800",rejected:"bg-red-100 text-red-800"},_={pending:"In attesa",confirmed:"Confermata",rejected:"Rifiutata"};return f.jsx("span",{className:`px-3 py-1 text-sm font-bold rounded-full ${v[y]||v.pending}`,children:_[y]||_.pending})},x=n.reduce((y,v)=>y+(v.price||0),0);return f.jsxs("div",{className:"p-4 md:p-8 animate-fade-in pb-32",children:[f.jsx("h1",{className:"text-4xl font-bold text-slate-800 mb-2",children:"Servizi della Farmacia"}),f.jsx("p",{className:"text-xl text-slate-600 mb-8",children:"Scegli i servizi di cui hai bisogno e prenota un appuntamento."}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg",children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-700 mb-4",children:Th.category}),f.jsx("div",{className:"divide-y divide-slate-200",children:Th.items.map(y=>f.jsxs("div",{onClick:()=>c(y),className:`py-4 flex justify-between items-start cursor-pointer transition-colors ${n.some(v=>v.id===y.name)?"bg-sky-50":"hover:bg-slate-50"}`,children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-bold text-slate-800",children:y.name}),f.jsx("p",{className:"text-sm text-slate-600 mt-1",children:y.description}),f.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Durata: ",y.duration]})]}),f.jsxs("p",{className:"font-semibold text-sky-700 flex-shrink-0 ml-4",children:[y.price,""]})]},y.name))})]}),f.jsxs("div",{className:"mt-12",children:[f.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-6",children:"Le Tue Richieste di Servizi"}),f.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-lg",children:r.length>0?f.jsx("ul",{className:"space-y-4",children:r.map(y=>f.jsxs("li",{className:"bg-slate-50 p-4 rounded-lg border border-slate-100",children:[f.jsxs("div",{className:"flex justify-between items-start gap-4",children:[f.jsxs("div",{children:[f.jsxs("p",{className:"font-bold text-slate-800",children:["Richiesta del ",new Date(y.dateSubmitted).toLocaleDateString("it-IT")]}),f.jsxs("p",{className:"text-sm text-slate-600",children:["Appuntamento per: ",new Date(y.requestedDate).toLocaleDateString("it-IT")," ore ",y.requestedTime]})]}),f.jsx(g,{status:y.status})]}),f.jsx("ul",{className:"mt-2 text-sm text-slate-700 list-disc list-inside",children:y.services.map(v=>f.jsx("li",{children:v.name},v.id))}),y.status==="pending"&&f.jsxs("div",{className:"mt-4 border-t border-slate-200 pt-3 flex items-center justify-end gap-3",children:[f.jsxs("button",{onClick:()=>u(y.id,"confirmed"),className:"flex items-center gap-1.5 text-sm font-semibold text-emerald-600 hover:text-emerald-800 p-2 rounded-lg hover:bg-emerald-50 transition-colors",children:[f.jsx(on,{className:"w-5 h-5"}),f.jsx("span",{children:"Conferma Richiesta"})]}),f.jsxs("button",{onClick:()=>h(y.id),className:"flex items-center gap-1.5 text-sm font-semibold text-red-600 hover:text-red-800 p-2 rounded-lg hover:bg-red-50 transition-colors",children:[f.jsx(hi,{className:"w-5 h-5"}),f.jsx("span",{children:"Elimina"})]})]})]},y.id))}):f.jsx("p",{className:"text-center text-slate-500 py-8",children:"Non hai richieste di servizi in corso."})})]}),n.length>0&&f.jsx(Md,{selection:n,total:x,onProceed:()=>s(!0)}),f.jsx(Pd,{isOpen:o,onClose:()=>s(!1),selection:n,user:t,onConfirmByEmail:(y,v)=>m(y,v,"email"),onConfirmByWhatsApp:(y,v)=>m(y,v,"whatsapp")})]})},aI=["Rughe ed invecchiamento cutaneo","Cellulite e ritenzione idrica","Analisi","Invecchiamento","Salute cardiovascolare","Insonnia","Disturbi dell'intestino","Intolleranze alimentari ed allergie","Migliorare la performance sportiva","Gambe pesanti e varici","Dimagrimento","Attivita' fisica","Ansia e Stress","Ipertensione","Malattie della pelle","Algie e Dolori","Stanchezza","Benessere e felicita'","Problemi posturali","Cistiti ricorrenti"],Fv=[{name:"Colesterolo Totale",price:7},{name:"Trigliceridi",price:6},{name:"Profilo Lipidico Completo",price:20},{name:"Profilo Glucidico Completo",price:20},{name:"Vitamina D",price:20},{name:"Proteina C Reattiva",price:6},{name:"Esame Urine",price:10}],cI=[{name:"Skin Analysis",price:10},{name:"Skin Check (Dermatology)",price:30},{name:"Valutazione Training",price:0,label:"da concordare"},{name:"Analisi DNA e Genomiche",price:130},{name:"Cortisolo Salivare",price:15},{name:"Test ed Analisi del Sonno",price:0,label:"compresa nel pacchetto"},{name:"Test dello Stress",price:0,label:"compreso nel pacchetto"},{name:"Polisonnografia",price:0,label:"da concordare"},{name:"Pletismografia",price:0,label:"da concordare"},{name:"Metabolica (func. tiroide, ecc)",price:0,label:"da concordare"},{name:"Body Composition",price:40},{name:"HRV",price:0,label:"compresa nel pacchetto"},{name:"Intestino e Microbioma",price:199},{name:"Valutazione Osteopatica",price:50},{name:"Dietetica Intolleranze",price:150},{name:"ECG",price:35},{name:"Holter Pressorio",price:60},{name:"Holter ECG",price:70}],uI={"Rughe ed invecchiamento cutaneo":["Skin Analysis","Skin Check (Dermatology)","Analisi DNA e Genomiche"],"Cellulite e ritenzione idrica":["Esame Urine","Body Composition"],Invecchiamento:["Analisi DNA e Genomiche","Vitamina D","Profilo Lipidico Completo"],"Salute cardiovascolare":["Profilo Lipidico Completo","ECG","Holter Pressorio","Holter ECG","Proteina C Reattiva"],Insonnia:["Test ed Analisi del Sonno","Cortisolo Salivare","Polisonnografia"],"Disturbi dell'intestino":["Intestino e Microbioma","Dietetica Intolleranze"],"Intolleranze alimentari ed allergie":["Dietetica Intolleranze","Intestino e Microbioma"],"Migliorare la performance sportiva":["Valutazione Training","Body Composition","HRV"],"Gambe pesanti e varici":["Pletismografia","Esame Urine"],Dimagrimento:["Body Composition","Profilo Glucidico Completo","Metabolica (func. tiroide, ecc)"],"Attivita' fisica":["Valutazione Training","Body Composition","HRV","ECG"],"Ansia e Stress":["Test dello Stress","Cortisolo Salivare","HRV"],Ipertensione:["Holter Pressorio","Profilo Lipidico Completo","ECG"],"Malattie della pelle":["Skin Analysis","Skin Check (Dermatology)","Teledermatologia"],"Algie e Dolori":["Valutazione Osteopatica","Proteina C Reattiva"],Stanchezza:["Vitamina D","Metabolica (func. tiroide, ecc)","Cortisolo Salivare"],"Benessere e felicita'":["Profilo Lipidico Completo","Vitamina D"],"Problemi posturali":["Valutazione Osteopatica"],"Cistiti ricorrenti":["Esame Urine"]},Uv=new Map;[...Fv,...cI].forEach(t=>Uv.set(t.name,t));const dI=({user:t,showNotification:e,onNavigate:n})=>{const[i,o]=L.useState([]),[s,r]=L.useState(new Set),[l,a]=L.useState(!1),[c,u]=L.useState([]),[h,m]=L.useState(!1),[g,x]=L.useState([]),y=L.useCallback(()=>me("spaBookings",[]),[]);L.useEffect(()=>{const I=y().filter(P=>P.userEmail===t.email&&P.type==="analysis").sort((P,D)=>new Date(D.dateSubmitted).getTime()-new Date(P.dateSubmitted).getTime());u(I)},[t.email,y]);const v=I=>{const P=new Set(s);P.has(I)?P.delete(I):P.add(I),r(P)},_=I=>{o(P=>P.some(R=>R.id===I.name)?P.filter(R=>R.id!==I.name):[...P,{id:I.name,name:I.name,price:I.price,duration:null,label:I.label}])},w=(I,P)=>{const R=y().map(F=>F.id===I?{...F,status:P}:F);localStorage.setItem("spaBookings",JSON.stringify(R)),u(F=>F.map(V=>V.id===I?{...V,status:P}:V)),e("Appuntamento segnato come confermato!","success")},S=I=>{if(confirm("Sei sicuro di voler annullare questa richiesta?")){const D=y().filter(F=>F.id!==I);localStorage.setItem("spaBookings",JSON.stringify(D));const R=D.filter(F=>F.userEmail===t.email&&F.type==="analysis").sort((F,V)=>new Date(V.dateSubmitted).getTime()-new Date(F.dateSubmitted).getTime());u(R),e("Richiesta annullata.","success")}},b=(I,P,D)=>{const R={id:new Date().getTime(),userEmail:t.email,userName:t.name,services:i,requestedDate:I,requestedTime:P,totalPrice:i.reduce((z,B)=>B.price>0?z+B.price:z,0),status:"pending",dateSubmitted:new Date().toISOString(),type:"analysis"},F=me("spaBookings",[]);localStorage.setItem("spaBookings",JSON.stringify([...F,R])),u(z=>[R,...z]);const V=i.map(z=>`- ${z.name} (${z.price>0?`${z.price}`:z.label||"da definire"})`).join(`
`),$=`Richiesta di preventivo/appuntamento per analisi da: ${t.name} (${t.email})
Data richiesta: ${new Date(I).toLocaleDateString("it-IT")}
Ora richiesta: ${P}

Analisi Richieste:
${V}

Totale (preliminare): ${R.totalPrice}`.trim();D==="email"?window.open(`mailto:${Yl}?subject=${encodeURIComponent(`Richiesta Analisi & Preventivo - ${t.name}`)}&body=${encodeURIComponent($)}`,"_blank"):D==="whatsapp"&&window.open(`https://wa.me/${io}?text=${encodeURIComponent($)}`,"_blank"),a(!1),o([]),e("La tua richiesta  pronta per essere inviata!")},C=()=>{const I=new Set;s.forEach(D=>{(uI[D]||[]).forEach(F=>I.add(F))});const P=Array.from(I).map(D=>{const R=Uv.get(D);return R?{id:R.name,name:R.name,price:R.price,duration:null,label:R.label}:null}).filter(Boolean);x(P),o(P),m(!0)},T=i.reduce((I,P)=>P.price>0?I+P.price:I,0),k=({status:I})=>{const P={pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"},D={pending:"In attesa",confirmed:"Confermato",rejected:"Rifiutata"};return f.jsx("span",{className:`px-3 py-1 text-sm font-bold rounded-full ${P[I]||"bg-gray-100 text-gray-800"}`,children:D[I]||"Sconosciuto"})},E=new Set(Fv.map(I=>I.name)),A=g.filter(I=>E.has(I.name)),N=g.filter(I=>!E.has(I.name));return f.jsxs("div",{className:"p-4 md:p-8 animate-fade-in pb-32",children:[f.jsx("h1",{className:"text-4xl font-bold text-slate-800 mb-2",children:"Analisi & Preventivi"}),f.jsx("p",{className:"text-xl text-slate-600 mb-8",children:"Seleziona i tuoi obiettivi per ricevere un consiglio sulle analisi da fare."}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg mb-8",children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-700 mb-4",children:"1. Scegli i tuoi obiettivi di salute"}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:aI.map(I=>f.jsx("button",{onClick:()=>v(I),className:`px-3 py-3 text-sm font-semibold rounded-lg border-2 transition-colors w-full h-full text-center flex items-center justify-center ${s.has(I)?"bg-sky-600 text-white border-sky-600":"bg-white text-slate-700 border-slate-300 hover:border-sky-500 hover:bg-sky-50"}`,children:I},I))}),f.jsx("div",{className:"mt-6 flex justify-center",children:f.jsx("button",{onClick:C,disabled:s.size===0,className:"px-8 py-3 bg-red-600 text-white font-bold rounded-lg shadow-md hover:bg-red-700 transition-colors disabled:bg-slate-400 disabled:cursor-not-allowed","aria-label":"Valuta obiettivi selezionati",children:"Valuta"})})]}),h&&f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg animate-fade-in",children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-700 mb-2",children:"2. Analisi Consigliate"}),f.jsx("p",{className:"text-slate-500 mb-6",children:"In base ai tuoi obiettivi, ti consigliamo le seguenti analisi. Puoi deselezionare quelle che non ti interessano prima di procedere."}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-slate-800 mb-3 border-b pb-2",children:"Analisi del Sangue"}),f.jsx("div",{className:"space-y-1",children:A.length>0?A.map(I=>f.jsxs("div",{onClick:()=>_(I),className:`flex justify-between items-center p-2 rounded-lg cursor-pointer transition-colors ${i.some(P=>P.id===I.name)?"bg-sky-100":"hover:bg-slate-50"}`,children:[f.jsx("span",{className:"font-medium text-slate-700 text-sm",children:I.name}),f.jsxs("span",{className:"font-semibold text-sky-700 text-sm",children:[I.price,""]})]},I.name)):f.jsx("p",{className:"text-sm text-slate-500 italic",children:"Nessuna analisi del sangue consigliata per questi obiettivi."})})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-slate-800 mb-3 border-b pb-2",children:"Altre Analisi"}),f.jsx("div",{className:"space-y-1",children:N.length>0?N.map(I=>f.jsxs("div",{onClick:()=>_(I),className:`flex justify-between items-center p-2 rounded-lg cursor-pointer transition-colors ${i.some(P=>P.id===I.name)?"bg-sky-100":"hover:bg-slate-50"}`,children:[f.jsx("span",{className:"font-medium text-slate-700 text-sm",children:I.name}),f.jsx("span",{className:"font-semibold text-sky-700 text-sm",children:I.label||`${I.price}`})]},I.name)):f.jsx("p",{className:"text-sm text-slate-500 italic",children:"Nessun'altra analisi consigliata per questi obiettivi."})})]})]})]}),f.jsxs("div",{className:"mt-12",children:[f.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-6",children:"Le Tue Richieste"}),f.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-lg",children:c.length>0?f.jsx("ul",{className:"space-y-4",children:c.map(I=>f.jsxs("li",{className:"bg-slate-50 p-4 rounded-lg",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[f.jsxs("div",{children:[f.jsxs("p",{className:"font-bold text-slate-800",children:["Richiesta per il ",new Date(I.requestedDate).toLocaleDateString("it-IT",{day:"2-digit",month:"long"})," alle ",I.requestedTime]}),f.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Inviata il: ",new Date(I.dateSubmitted).toLocaleString("it-IT")]})]}),f.jsx("div",{className:"self-start sm:self-center flex-shrink-0",children:f.jsx(k,{status:I.status})})]}),f.jsxs("div",{className:"mt-4 border-t border-slate-200 pt-3",children:[f.jsx("ul",{className:"list-disc list-inside text-slate-600 text-sm space-y-1",children:I.services.map(P=>f.jsx("li",{children:P.name},P.id))}),f.jsxs("p",{className:"text-right font-bold text-slate-800 mt-3",children:["Totale: ",I.totalPrice,""]})]}),I.status==="pending"&&f.jsxs("div",{className:"mt-4 border-t border-slate-200 pt-3 flex items-center justify-end gap-3",children:[f.jsxs("button",{onClick:()=>w(I.id,"confirmed"),className:"flex items-center gap-1.5 text-sm font-semibold text-green-600 hover:text-green-800 p-2 rounded-lg hover:bg-green-100",children:[f.jsx(on,{className:"w-5 h-5"}),f.jsx("span",{children:"Confermato"})]}),f.jsxs("button",{onClick:()=>S(I.id),className:"flex items-center gap-1.5 text-sm font-semibold text-red-600 hover:text-red-800 p-2 rounded-lg hover:bg-red-100",children:[f.jsx(hi,{className:"w-5 h-5"}),f.jsx("span",{children:"Annulla"})]})]})]},I.id))}):f.jsx("p",{className:"text-center text-slate-500 py-8",children:"Non hai ancora inviato richieste di analisi."})})]}),i.length>0&&f.jsx(Md,{selection:i,total:T,onProceed:()=>a(!0)}),f.jsx(Pd,{isOpen:l,onClose:()=>a(!1),selection:i,user:t,onConfirmByEmail:(I,P)=>b(I,P,"email"),onConfirmByWhatsApp:(I,P)=>b(I,P,"whatsapp")})]})},fI=({user:t,onNavigate:e,showNotification:n,wellnessData:i})=>{const[o,s]=L.useState({}),[r,l]=L.useState(!1),[a,c]=L.useState(""),u="CWSPA",h=x=>{const y=o[x],v=oI[x];if(y===v){const _=`manualUnlocks_${t.email}`,w=me(_,[]),S=[...new Set([...w,x])];localStorage.setItem(_,JSON.stringify(S)),n("Livello sbloccato con successo!","success")}else n("Password errata. Riprova.","error")},m=()=>{a.trim()===u?l(!0):(n("Password per il riepilogo errata.","error"),c(""))},g=Object.values(i).filter(x=>x.unlocksAt);return f.jsxs("div",{className:"p-4 md:p-8 animate-fade-in",children:[f.jsxs("button",{onClick:()=>e("profile"),className:"flex items-center gap-2 text-sky-600 font-semibold mb-6 hover:text-sky-800 transition-colors",children:[f.jsx(Kc,{className:"w-5 h-5"}),f.jsx("span",{children:"Torna al Profilo"})]}),f.jsx("h1",{className:"text-4xl font-bold text-slate-800 mb-2",children:"Sblocco Manuale Livelli"}),f.jsx("p",{className:"text-xl text-slate-600 mb-8",children:"Inserisci la password per accedere direttamente a un livello."}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[f.jsx("div",{children:f.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-lg space-y-6",children:g.map(x=>f.jsxs("div",{children:[f.jsxs("h3",{className:"font-bold text-slate-700",children:[x.name," - ",x.subtitle]}),f.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[f.jsx("input",{type:"password",placeholder:"Inserisci la password",value:o[x.id]||"",onChange:y=>s({...o,[x.id]:y.target.value}),className:"flex-grow p-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-sky-500"}),f.jsx("button",{onClick:()=>h(x.id),className:"px-4 py-2 bg-sky-600 text-white font-semibold rounded-lg hover:bg-sky-700 transition-colors",children:"Sblocca"})]})]},x.id))})}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg",children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:" Riepilogo Password"}),r?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-sm text-left text-slate-600",children:[f.jsx("thead",{className:"text-xs text-slate-700 uppercase bg-slate-100",children:f.jsxs("tr",{children:[f.jsx("th",{scope:"col",className:"px-4 py-3",children:"Programma"}),f.jsx("th",{scope:"col",className:"px-4 py-3",children:"Livello"}),f.jsx("th",{scope:"col",className:"px-4 py-3",children:"Password"})]})}),f.jsx("tbody",{children:sI.map(x=>f.jsxs("tr",{className:"bg-white border-b hover:bg-slate-50",children:[f.jsx("td",{className:"px-4 py-3 font-medium text-slate-800",children:x.program}),f.jsx("td",{className:"px-4 py-3",children:x.level}),f.jsx("td",{className:"px-4 py-3",children:f.jsx("code",{className:"bg-slate-100 p-1 rounded-md text-sky-700 font-mono",children:x.password})})]},x.level))})]})}),f.jsx("button",{onClick:()=>{l(!1),c("")},className:"mt-4 w-full px-4 py-2 bg-slate-200 text-slate-800 font-semibold rounded-lg hover:bg-slate-300 transition-colors",children:"Nascondi Riepilogo"})]}):f.jsxs("div",{className:"p-4 text-center",children:[f.jsx(Vl,{className:"w-10 h-10 mx-auto text-slate-400 mb-4"}),f.jsx("p",{className:"text-slate-600 mb-4",children:"Questa sezione  protetta da password."}),f.jsxs("div",{className:"flex items-center gap-2 max-w-sm mx-auto",children:[f.jsx("input",{type:"password",placeholder:"Password riepilogo",value:a,onChange:x=>c(x.target.value),onKeyPress:x=>x.key==="Enter"&&m(),className:"flex-grow p-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-sky-500"}),f.jsx("button",{onClick:m,className:"px-4 py-2 bg-sky-600 text-white font-semibold rounded-lg hover:bg-sky-700 transition-colors",children:"Mostra"})]})]})]})]})]})},Bv=t=>f.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"}),f.jsx("path",{d:"M12 12v9"}),f.jsx("path",{d:"m16 16-4-4-4 4"})]}),ts=t=>f.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),f.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),f.jsx("path",{d:"M10 9H8"}),f.jsx("path",{d:"M16 13H8"}),f.jsx("path",{d:"M16 17H8"})]}),pI=({user:t,showNotification:e})=>{const[n,i]=L.useState([]),[o,s]=L.useState([]),r=`prescriptionHistory_${t.email}`;L.useEffect(()=>{const u=me(r,[]);s(u.sort((h,m)=>m.id-h.id))},[r]),L.useEffect(()=>()=>{n.forEach(u=>URL.revokeObjectURL(u.previewUrl))},[n]);const l=async u=>{if(u.target.files){const h=Array.from(u.target.files).map(async g=>{let x;if(g.type==="text/plain")try{x=await g.text()}catch(y){console.error("Error reading text file",y)}return{file:g,previewUrl:URL.createObjectURL(g),textContent:x}}),m=await Promise.all(h);i(g=>[...g,...m]),u.target.value=""}},a=u=>{i(h=>{const m=h[u];return m&&URL.revokeObjectURL(m.previewUrl),h.filter((g,x)=>x!==u)})},c=u=>{if(n.length===0){e("Nessuna ricetta da inviare.","error");return}const h=n.map(_=>`- ${_.file.name}`).join(`
`),m=n.filter(_=>_.textContent).map(_=>`--- CONTENUTO DI ${_.file.name} ---
${_.textContent}`).join(`

`);let g=`Buongiorno,

Si richiede la preparazione delle seguenti ricette/note per ${t.name}:
${h}

`;m&&(g+=`NOTE TESTUALI ALLEGATE:
${m}

`),g+=`(Per file immagini/PDF, sono stati allegati a questa comunicazione)

Grazie,
${t.name}`;const x=`Buongiorno,

In allegato le seguenti ricette mediche per ${t.name}:
${h}

`+(m?`NOTE TESTUALI:
${m}

`:"")+`(Ricorda di allegare manualmente i file PDF/Immagini prima di inviare)

Grazie,
${t.name}`;if(u==="email"){const _=`mailto:${Yl}?subject=${encodeURIComponent(`Invio Ricette Mediche - ${t.name}`)}&body=${encodeURIComponent(x)}`;window.open(_,"_blank")}else{const _=`https://wa.me/${io}?text=${encodeURIComponent(g)}`;window.open(_,"_blank")}const v=[{id:Date.now(),date:new Date().toISOString(),files:n.map(_=>_.file.name)},...o];localStorage.setItem(r,JSON.stringify(v)),s(v),i([]),e("La tua richiesta  pronta per essere inviata!","success")};return f.jsxs("div",{className:"p-4 md:p-8 animate-fade-in",children:[f.jsx("h1",{className:"text-4xl font-bold text-slate-800 mb-2",children:"Invio Ricette & Note"}),f.jsx("p",{className:"text-xl text-slate-600 mb-8",children:"Carica ricette (PDF, Foto) o note di testo (.txt) da inviare alla farmacia."}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg",children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-700 mb-4",children:"1. Carica file"}),f.jsxs("div",{className:"relative border-2 border-dashed border-slate-300 rounded-lg p-10 text-center hover:bg-slate-50 transition-colors",children:[f.jsx("input",{type:"file",accept:"image/*,.pdf,.txt",multiple:!0,onChange:l,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer","aria-label":"Carica file"}),f.jsxs("div",{className:"flex flex-col items-center text-slate-500 pointer-events-none",children:[f.jsx(Bv,{className:"w-12 h-12 mb-2 text-sky-500"}),f.jsx("p",{className:"font-semibold text-slate-700",children:"Trascina i file qui o clicca per caricare"}),f.jsx("p",{className:"text-sm mt-1",children:"Accettati: PDF, Foto (JPG, PNG), Testo (.txt)"})]})]})]}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg",children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-700 mb-4",children:"2. Riepilogo Invio"}),n.length>0?f.jsxs("div",{className:"space-y-4",children:[f.jsx("ul",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:n.map((u,h)=>f.jsxs("li",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg border border-slate-100 animate-fade-in",children:[f.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[u.file.type.startsWith("image/")?f.jsx("img",{src:u.previewUrl,alt:u.file.name,className:"w-12 h-12 rounded-md object-cover flex-shrink-0"}):u.file.type==="text/plain"?f.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-emerald-100 rounded-md flex-shrink-0 text-emerald-600",children:f.jsx(ts,{className:"w-6 h-6"})}):f.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-red-100 rounded-md flex-shrink-0 text-red-600",children:f.jsx(ts,{className:"w-6 h-6"})}),f.jsxs("div",{className:"overflow-hidden",children:[f.jsx("span",{className:"font-medium text-slate-700 truncate block",title:u.file.name,children:u.file.name}),f.jsxs("span",{className:"text-xs text-slate-500",children:[Math.round(u.file.size/1024)," KB",u.textContent&&f.jsx("span",{className:"text-emerald-600 font-semibold ml-2",children:" Testo Letto"})]})]})]}),f.jsx("button",{onClick:()=>a(h),className:"text-slate-400 hover:text-red-500 p-2 rounded-full hover:bg-red-50 transition-colors flex-shrink-0",children:f.jsx(hi,{className:"w-5 h-5"})})]},`${u.file.name}-${h}`))}),f.jsxs("div",{className:"pt-4 border-t border-slate-200",children:[f.jsx("p",{className:"text-xs text-slate-500 mb-3 text-center",children:"Nota: I file PDF e Immagini dovranno essere allegati manualmente nel client di posta/WhatsApp. Il contenuto dei file .txt verr copiato automaticamente nel messaggio."}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[f.jsxs("button",{onClick:()=>c("email"),className:"w-full flex items-center justify-center gap-2 px-5 py-3 bg-sky-600 text-white font-semibold rounded-xl hover:bg-sky-700 transition-colors shadow-md",children:[f.jsx(zv,{className:"w-5 h-5"})," Invia via Email"]}),f.jsxs("button",{onClick:()=>c("whatsapp"),className:"w-full flex items-center justify-center gap-2 px-5 py-3 bg-green-500 text-white font-semibold rounded-xl hover:bg-green-600 transition-colors shadow-md",children:[f.jsx(gl,{className:"w-5 h-5"})," Invia via WhatsApp"]})]})]})]}):f.jsxs("div",{className:"text-center py-12 text-slate-400",children:[f.jsx(ts,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),f.jsx("p",{children:"Non hai ancora aggiunto nessuna ricetta."})]})]})]}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg",children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-700 mb-4",children:"Storico Invii"}),o.length>0?f.jsx("ul",{className:"space-y-4 max-h-[600px] overflow-y-auto pr-2 custom-scrollbar",children:o.map(u=>f.jsxs("li",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("span",{className:"bg-sky-100 text-sky-800 text-xs font-bold px-2 py-1 rounded",children:"Inviato"}),f.jsx("span",{className:"text-xs text-slate-500",children:new Date(u.date).toLocaleString("it-IT")})]}),f.jsx("ul",{className:"text-sm text-slate-600 space-y-1",children:u.files.map((h,m)=>f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-400"}),h]},m))})]},u.id))}):f.jsx("div",{className:"text-center py-16 text-slate-400",children:f.jsx("p",{children:"Nessuno storico disponibile."})})]})]})]})},hI=({onSettingsSaved:t,showNotification:e})=>{const[n,i]=L.useState(!1),[o,s]=L.useState(""),[r,l]=L.useState(null),[a,c]=L.useState(null),u="CWSPA";L.useEffect(()=>{const v=me("customWellnessProgramsData",ni);try{l(structuredClone(v))}catch(_){console.error("Deep copy failed, falling back to default",_),l(structuredClone(ni))}},[]);const h=()=>{o.trim()===u?i(!0):(e("Password errata","error"),s(""))},m=(v,_,w,S)=>{if(r)try{const b=structuredClone(r);b[v][_][w].points=S,l(b)}catch(b){console.error("Error updating points",b)}},g=(v,_)=>{if(r)try{const w=structuredClone(r);w[v].unlocksAt=_,l(w)}catch(w){console.error("Error updating threshold",w)}},x=()=>{if(r)try{localStorage.setItem("customWellnessProgramsData",JSON.stringify(r)),e("Impostazioni salvate con successo!","success"),t()}catch(v){console.error("Save failed",v),e("Errore nel salvataggio delle impostazioni.","error")}},y=()=>{if(window.confirm("Sei sicuro di voler ripristinare tutte le impostazioni ai valori predefiniti? Le modifiche andranno perse."))try{const v=structuredClone(ni);l(v),localStorage.setItem("customWellnessProgramsData",JSON.stringify(v)),e("Impostazioni ripristinate ai valori predefiniti.","success"),t()}catch(v){console.error("Reset failed",v),e("Errore nel ripristino delle impostazioni.","error")}};return n?r?f.jsxs("div",{className:"p-4 md:p-8 animate-fade-in",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center mb-8 gap-4",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-4xl font-bold text-slate-800",children:"Impostazioni Punteggi e Soglie"}),f.jsx("p",{className:"text-xl text-slate-600",children:"Modifica i punti per ogni missione e le soglie per sbloccare i livelli."})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:y,className:"px-4 py-2 bg-slate-200 text-slate-800 font-semibold rounded-lg hover:bg-slate-300 transition-colors",children:"Ripristina"}),f.jsx("button",{onClick:x,className:"px-6 py-2 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 transition-colors shadow-md",children:"Salva Modifiche"})]})]}),f.jsx("div",{className:"space-y-4",children:Object.values(r).map(v=>{var _,w;return f.jsxs("div",{className:"bg-white rounded-xl shadow-lg",children:[f.jsxs("button",{className:"w-full text-left p-4 flex justify-between items-center",onClick:()=>c(a===v.id?null:v.id),children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"text-3xl",children:v.Icon}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold text-slate-800",children:v.name}),f.jsx("p",{className:"text-slate-500",children:v.subtitle})]})]}),f.jsx(Lv,{className:`w-6 h-6 text-slate-500 transition-transform ${a===v.id?"rotate-180":""}`})]}),a===v.id&&f.jsxs("div",{className:"p-4 border-t border-slate-200",children:[typeof v.unlocksAt=="number"&&f.jsxs("div",{className:"mb-6 bg-sky-50 p-4 rounded-lg",children:[f.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Impostazioni Livello"}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("label",{htmlFor:`threshold-${v.id}`,className:"font-semibold text-slate-700",children:"Punti necessari per sbloccare:"}),f.jsx("input",{id:`threshold-${v.id}`,type:"number",value:v.unlocksAt,onChange:S=>g(v.id,parseInt(S.target.value,10)||0),className:"w-24 p-1 text-center border border-slate-300 rounded-md"})]})]}),v.daily&&v.daily.length>0&&f.jsx("h4",{className:"font-bold text-slate-700 mb-2 mt-2",children:"Missioni Giornaliere"}),f.jsx("div",{className:"space-y-2",children:(_=v.daily)==null?void 0:_.map((S,b)=>f.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded-md",children:[f.jsxs("p",{className:"text-slate-700",children:[S.Icon," ",S.title]}),f.jsx("input",{type:"number",value:S.points,onChange:C=>m(v.id,"daily",b,parseInt(C.target.value,10)||0),className:"w-20 p-1 text-center border border-slate-300 rounded-md"})]},S.id))}),v.weekly&&v.weekly.length>0&&f.jsx("h4",{className:"font-bold text-slate-700 mb-2 mt-4",children:"Missioni Settimanali"}),f.jsx("div",{className:"space-y-2",children:(w=v.weekly)==null?void 0:w.map((S,b)=>f.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded-md",children:[f.jsxs("p",{className:"text-slate-700",children:[S.Icon," ",S.title]}),f.jsx("input",{type:"number",value:S.points,onChange:C=>m(v.id,"weekly",b,parseInt(C.target.value,10)||0),className:"w-20 p-1 text-center border border-slate-300 rounded-md"})]},S.id))})]})]},v.id)})})]}):null:f.jsx("div",{className:"flex items-center justify-center min-h-screen bg-slate-100",children:f.jsxs("div",{className:"w-full max-w-sm p-8 bg-white rounded-2xl shadow-xl",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx(Vl,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),f.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Area Riservata"}),f.jsx("p",{className:"text-slate-500",children:"Inserisci la password per continuare"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("input",{type:"password",value:o,onChange:v=>s(v.target.value),onKeyPress:v=>v.key==="Enter"&&h(),className:"w-full px-4 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-sky-500",placeholder:"Password"}),f.jsx("button",{onClick:h,className:"w-full px-4 py-3 bg-sky-600 text-white font-bold rounded-lg hover:bg-sky-700 transition-colors",children:"Accedi"})]})]})})};var mI={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let gI,xI;function vI(){return{geminiUrl:gI,vertexUrl:xI}}function yI(t,e,n,i){var o,s;if(!(t!=null&&t.baseUrl)){const r=vI();return e?(o=r.vertexUrl)!==null&&o!==void 0?o:n:(s=r.geminiUrl)!==null&&s!==void 0?s:i}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cn{}function O(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const s=e[o];return s!=null?String(s):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function p(t,e,n){for(let s=0;s<e.length-1;s++){const r=e[s];if(r.endsWith("[]")){const l=r.slice(0,-2);if(!(l in t))if(Array.isArray(n))t[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${r}`);if(Array.isArray(t[l])){const a=t[l];if(Array.isArray(n))for(let c=0;c<a.length;c++){const u=a[c];p(u,e.slice(s+1),n[c])}else for(const c of a)p(c,e.slice(s+1),n)}return}else if(r.endsWith("[0]")){const l=r.slice(0,-3);l in t||(t[l]=[{}]);const a=t[l];p(a[0],e.slice(s+1),n);return}(!t[r]||typeof t[r]!="object")&&(t[r]={}),t=t[r]}const i=e[e.length-1],o=t[i];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[i]=n}function d(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return n;const o=e[i];if(o.endsWith("[]")){const s=o.slice(0,-2);if(s in t){const r=t[s];return Array.isArray(r)?r.map(l=>d(l,e.slice(i+1),n)):n}else return n}else t=t[o]}return t}catch(i){if(i instanceof TypeError)return n;throw i}}function _I(t,e){for(const[n,i]of Object.entries(e)){const o=n.split("."),s=i.split("."),r=new Set;let l=-1;for(let a=0;a<o.length;a++)if(o[a]==="*"){l=a;break}if(l!==-1&&s.length>l)for(let a=l;a<s.length;a++){const c=s[a];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&r.add(c)}Qc(t,o,s,0,r)}}function Qc(t,e,n,i,o){if(i>=e.length||typeof t!="object"||t===null)return;const s=e[i];if(s.endsWith("[]")){const r=s.slice(0,-2),l=t;if(r in l&&Array.isArray(l[r]))for(const a of l[r])Qc(a,e,n,i+1,o)}else if(s==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const r=t,l=Object.keys(r).filter(c=>!c.startsWith("_")&&!o.has(c)),a={};for(const c of l)a[c]=r[c];for(const[c,u]of Object.entries(a)){const h=[];for(const m of n.slice(i))m==="*"?h.push(c):h.push(m);p(r,h,u)}for(const c of l)delete r[c]}}else{const r=t;s in r&&Qc(r[s],e,n,i+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rd(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wI(t){const e={},n=d(t,["operationName"]);n!=null&&p(e,["operationName"],n);const i=d(t,["resourceName"]);return i!=null&&p(e,["_url","resourceName"],i),e}function SI(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const i=d(t,["metadata"]);i!=null&&p(e,["metadata"],i);const o=d(t,["done"]);o!=null&&p(e,["done"],o);const s=d(t,["error"]);s!=null&&p(e,["error"],s);const r=d(t,["response","generateVideoResponse"]);return r!=null&&p(e,["response"],CI(r)),e}function bI(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const i=d(t,["metadata"]);i!=null&&p(e,["metadata"],i);const o=d(t,["done"]);o!=null&&p(e,["done"],o);const s=d(t,["error"]);s!=null&&p(e,["error"],s);const r=d(t,["response"]);return r!=null&&p(e,["response"],TI(r)),e}function CI(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(r=>kI(r))),p(e,["generatedVideos"],s)}const i=d(t,["raiMediaFilteredCount"]);i!=null&&p(e,["raiMediaFilteredCount"],i);const o=d(t,["raiMediaFilteredReasons"]);return o!=null&&p(e,["raiMediaFilteredReasons"],o),e}function TI(t){const e={},n=d(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(r=>II(r))),p(e,["generatedVideos"],s)}const i=d(t,["raiMediaFilteredCount"]);i!=null&&p(e,["raiMediaFilteredCount"],i);const o=d(t,["raiMediaFilteredReasons"]);return o!=null&&p(e,["raiMediaFilteredReasons"],o),e}function kI(t){const e={},n=d(t,["video"]);return n!=null&&p(e,["video"],RI(n)),e}function II(t){const e={},n=d(t,["_self"]);return n!=null&&p(e,["video"],DI(n)),e}function EI(t){const e={},n=d(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function NI(t){const e={},n=d(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function AI(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const i=d(t,["metadata"]);i!=null&&p(e,["metadata"],i);const o=d(t,["done"]);o!=null&&p(e,["done"],o);const s=d(t,["error"]);s!=null&&p(e,["error"],s);const r=d(t,["response"]);return r!=null&&p(e,["response"],MI(r)),e}function MI(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=d(t,["parent"]);i!=null&&p(e,["parent"],i);const o=d(t,["documentName"]);return o!=null&&p(e,["documentName"],o),e}function Vv(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const i=d(t,["metadata"]);i!=null&&p(e,["metadata"],i);const o=d(t,["done"]);o!=null&&p(e,["done"],o);const s=d(t,["error"]);s!=null&&p(e,["error"],s);const r=d(t,["response"]);return r!=null&&p(e,["response"],PI(r)),e}function PI(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=d(t,["parent"]);i!=null&&p(e,["parent"],i);const o=d(t,["documentName"]);return o!=null&&p(e,["documentName"],o),e}function RI(t){const e={},n=d(t,["uri"]);n!=null&&p(e,["uri"],n);const i=d(t,["encodedVideo"]);i!=null&&p(e,["videoBytes"],Rd(i));const o=d(t,["encoding"]);return o!=null&&p(e,["mimeType"],o),e}function DI(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const i=d(t,["bytesBase64Encoded"]);i!=null&&p(e,["videoBytes"],Rd(i));const o=d(t,["mimeType"]);return o!=null&&p(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var kh;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(kh||(kh={}));var Ih;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Ih||(Ih={}));var Eh;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Eh||(Eh={}));var Sn;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Sn||(Sn={}));var Nh;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Nh||(Nh={}));var Ah;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Ah||(Ah={}));var Mh;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Mh||(Mh={}));var Ph;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Ph||(Ph={}));var Rh;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Rh||(Rh={}));var Dh;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(Dh||(Dh={}));var Lh;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Lh||(Lh={}));var zh;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(zh||(zh={}));var Fh;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Fh||(Fh={}));var Uh;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Uh||(Uh={}));var Bh;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Bh||(Bh={}));var Vh;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Vh||(Vh={}));var Oh;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Oh||(Oh={}));var Hh;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Hh||(Hh={}));var jh;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(jh||(jh={}));var xl;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(xl||(xl={}));var $h;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})($h||($h={}));var Gh;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Gh||(Gh={}));var qh;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(qh||(qh={}));var Xc;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Xc||(Xc={}));var Wh;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Wh||(Wh={}));var Jh;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Jh||(Jh={}));var Yh;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Yh||(Yh={}));var Kh;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Kh||(Kh={}));var Qh;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Qh||(Qh={}));var Xh;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Xh||(Xh={}));var Zh;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Zh||(Zh={}));var em;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(em||(em={}));var tm;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(tm||(tm={}));var nm;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(nm||(nm={}));var im;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(im||(im={}));var om;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(om||(om={}));var sm;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(sm||(sm={}));var rm;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(rm||(rm={}));var lm;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(lm||(lm={}));var am;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(am||(am={}));var cm;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(cm||(cm={}));var um;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(um||(um={}));var dm;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(dm||(dm={}));var fm;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(fm||(fm={}));var pm;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(pm||(pm={}));var hm;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(hm||(hm={}));var mm;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(mm||(mm={}));var gm;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(gm||(gm={}));var xm;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(xm||(xm={}));var vm;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(vm||(vm={}));var ym;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ym||(ym={}));var _m;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(_m||(_m={}));var wm;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(wm||(wm={}));var Sm;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Sm||(Sm={}));var bm;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(bm||(bm={}));var Ri;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Ri||(Ri={}));class Zc{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Eo{get text(){var e,n,i,o,s,r,l,a;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",u=!1;const h=[];for(const m of(a=(l=(r=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[g,x]of Object.entries(m))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(x!==null||x!==void 0)&&h.push(g);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;u=!0,c+=m.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?c:void 0}get data(){var e,n,i,o,s,r,l,a;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const u=[];for(const h of(a=(l=(r=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[m,g]of Object.entries(h))m!=="inlineData"&&(g!==null||g!==void 0)&&u.push(m);h.inlineData&&typeof h.inlineData.data=="string"&&(c+=atob(h.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,i,o,s,r,l,a;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(a=(l=(r=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.filter(u=>u.functionCall).map(u=>u.functionCall).filter(u=>u!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,i,o,s,r,l,a,c;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const u=(a=(l=(r=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,i,o,s,r,l,a,c;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const u=(a=(l=(r=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((u==null?void 0:u.length)!==0)return(c=u==null?void 0:u[0])===null||c===void 0?void 0:c.output}}class Cm{}class Tm{}class LI{}class zI{}class FI{}class UI{}class km{}class Im{}class Em{}class BI{}class vl{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new vl;let o;const s=e;return n?o=bI(s):o=SI(s),Object.assign(i,o),i}}class Nm{}class Am{}class Mm{}class Pm{}class VI{}class OI{}class HI{}class Dd{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Dd,s=AI(e);return Object.assign(i,s),i}}class jI{}class $I{}class GI{}class Rm{}class qI{get text(){var e,n,i;let o="",s=!1;const r=[];for(const l of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[a,c]of Object.entries(l))a!=="text"&&a!=="thought"&&c!==null&&r.push(a);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;s=!0,o+=l.text}}return r.length>0&&console.warn(`there are non-text parts ${r} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?o:void 0}get data(){var e,n,i;let o="";const s=[];for(const r of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[l,a]of Object.entries(r))l!=="inlineData"&&a!==null&&s.push(l);r.inlineData&&typeof r.inlineData.data=="string"&&(o+=atob(r.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class WI{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Ld{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Ld,s=Vv(e);return Object.assign(i,s),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Ov(t,e){const n=X(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Hv(t){return Array.isArray(t)?t.map(e=>yl(e)):[yl(t)]}function yl(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function jv(t){const e=yl(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function $v(t){const e=yl(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Dm(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Gv(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Dm(e)):[Dm(t)]}function eu(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Lm(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function zm(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Le(t){if(t==null)throw new Error("ContentUnion is required");return eu(t)?t:{role:"user",parts:Gv(t)}}function zd(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=Le(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=Le(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Le(n)):[Le(e)]}function gt(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Lm(t)||zm(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Le(t)]}const e=[],n=[],i=eu(t[0]);for(const o of t){const s=eu(o);if(s!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(o);else{if(Lm(o)||zm(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return i||e.push({role:"user",parts:Gv(n)}),e}function JI(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(Sn).includes(n[0].toUpperCase())?n[0].toUpperCase():Sn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(Sn).includes(i.toUpperCase())?i.toUpperCase():Sn.TYPE_UNSPECIFIED})}}function Gi(t){const e={},n=["items"],i=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&JI(t.type,e);for(const[r,l]of Object.entries(t))if(l!=null)if(r=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values(Sn).includes(l.toUpperCase())?l.toUpperCase():Sn.TYPE_UNSPECIFIED}else if(n.includes(r))e[r]=Gi(l);else if(i.includes(r)){const a=[];for(const c of l){if(c.type=="null"){e.nullable=!0;continue}a.push(Gi(c))}e[r]=a}else if(o.includes(r)){const a={};for(const[c,u]of Object.entries(l))a[c]=Gi(u);e[r]=a}else{if(r==="additionalProperties")continue;e[r]=l}return e}function Fd(t){return Gi(t)}function Ud(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Bd(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function lo(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Gi(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Gi(e.response));return t}function ao(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function YI(t,e,n,i=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function un(t,e){if(typeof e!="string")throw new Error("name must be a string");return YI(t,e,"cachedContents")}function qv(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Vn(t){return Rd(t)}function KI(t){return t!=null&&typeof t=="object"&&"name"in t}function QI(t){return t!=null&&typeof t=="object"&&"video"in t}function XI(t){return t!=null&&typeof t=="object"&&"uri"in t}function Wv(t){var e;let n;if(KI(t)&&(n=t.name),!(XI(t)&&(n=t.uri,n===void 0))&&!(QI(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Jv(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Yv(t){for(const e of["models","tunedModels","publisherModels"])if(ZI(t,e))return t[e];return[]}function ZI(t,e){return t!==null&&typeof t=="object"&&e in t}function e2(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function t2(t,e={}){const n=[],i=new Set;for(const o of t){const s=o.name;if(i.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);i.add(s);const r=e2(o,e);r.functionDeclarations&&n.push(...r.functionDeclarations)}return{functionDeclarations:n}}function Kv(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(o>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function n2(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Qv(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return t;let s=!1;for(const r of o){if(typeof r!="object"||r===null)continue;const a=r.response;if(typeof a!="object"||a===null)continue;if(a.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function co(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Xv(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function i2(t){const e={},n=d(t,["responsesFile"]);n!=null&&p(e,["fileName"],n);const i=d(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(r=>F2(r))),p(e,["inlinedResponses"],s)}const o=d(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),p(e,["inlinedEmbedContentResponses"],s)}return e}function o2(t){const e={},n=d(t,["predictionsFormat"]);n!=null&&p(e,["format"],n);const i=d(t,["gcsDestination","outputUriPrefix"]);i!=null&&p(e,["gcsUri"],i);const o=d(t,["bigqueryDestination","outputUri"]);return o!=null&&p(e,["bigqueryUri"],o),e}function s2(t){const e={},n=d(t,["format"]);n!=null&&p(e,["predictionsFormat"],n);const i=d(t,["gcsUri"]);i!=null&&p(e,["gcsDestination","outputUriPrefix"],i);const o=d(t,["bigqueryUri"]);if(o!=null&&p(e,["bigqueryDestination","outputUri"],o),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Pr(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const i=d(t,["metadata","displayName"]);i!=null&&p(e,["displayName"],i);const o=d(t,["metadata","state"]);o!=null&&p(e,["state"],Xv(o));const s=d(t,["metadata","createTime"]);s!=null&&p(e,["createTime"],s);const r=d(t,["metadata","endTime"]);r!=null&&p(e,["endTime"],r);const l=d(t,["metadata","updateTime"]);l!=null&&p(e,["updateTime"],l);const a=d(t,["metadata","model"]);a!=null&&p(e,["model"],a);const c=d(t,["metadata","output"]);return c!=null&&p(e,["dest"],i2(Qv(c))),e}function tu(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const i=d(t,["displayName"]);i!=null&&p(e,["displayName"],i);const o=d(t,["state"]);o!=null&&p(e,["state"],Xv(o));const s=d(t,["error"]);s!=null&&p(e,["error"],s);const r=d(t,["createTime"]);r!=null&&p(e,["createTime"],r);const l=d(t,["startTime"]);l!=null&&p(e,["startTime"],l);const a=d(t,["endTime"]);a!=null&&p(e,["endTime"],a);const c=d(t,["updateTime"]);c!=null&&p(e,["updateTime"],c);const u=d(t,["model"]);u!=null&&p(e,["model"],u);const h=d(t,["inputConfig"]);h!=null&&p(e,["src"],r2(h));const m=d(t,["outputConfig"]);m!=null&&p(e,["dest"],o2(Qv(m)));const g=d(t,["completionStats"]);return g!=null&&p(e,["completionStats"],g),e}function r2(t){const e={},n=d(t,["instancesFormat"]);n!=null&&p(e,["format"],n);const i=d(t,["gcsSource","uris"]);i!=null&&p(e,["gcsUri"],i);const o=d(t,["bigquerySource","inputUri"]);return o!=null&&p(e,["bigqueryUri"],o),e}function l2(t,e){const n={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=d(e,["fileName"]);i!=null&&p(n,["fileName"],i);const o=d(e,["inlinedRequests"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>z2(t,r))),p(n,["requests","requests"],s)}return n}function a2(t){const e={},n=d(t,["format"]);n!=null&&p(e,["instancesFormat"],n);const i=d(t,["gcsUri"]);i!=null&&p(e,["gcsSource","uris"],i);const o=d(t,["bigqueryUri"]);if(o!=null&&p(e,["bigquerySource","inputUri"],o),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function c2(t){const e={},n=d(t,["data"]);if(n!=null&&p(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function u2(t,e){const n={},i=d(e,["name"]);return i!=null&&p(n,["_url","name"],co(t,i)),n}function d2(t,e){const n={},i=d(e,["name"]);return i!=null&&p(n,["_url","name"],co(t,i)),n}function f2(t){const e={},n=d(t,["content"]);n!=null&&p(e,["content"],n);const i=d(t,["citationMetadata"]);i!=null&&p(e,["citationMetadata"],p2(i));const o=d(t,["tokenCount"]);o!=null&&p(e,["tokenCount"],o);const s=d(t,["finishReason"]);s!=null&&p(e,["finishReason"],s);const r=d(t,["avgLogprobs"]);r!=null&&p(e,["avgLogprobs"],r);const l=d(t,["groundingMetadata"]);l!=null&&p(e,["groundingMetadata"],l);const a=d(t,["index"]);a!=null&&p(e,["index"],a);const c=d(t,["logprobsResult"]);c!=null&&p(e,["logprobsResult"],c);const u=d(t,["safetyRatings"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(g=>g)),p(e,["safetyRatings"],m)}const h=d(t,["urlContextMetadata"]);return h!=null&&p(e,["urlContextMetadata"],h),e}function p2(t){const e={},n=d(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),p(e,["citations"],i)}return e}function Zv(t){const e={},n=d(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>$2(s))),p(e,["parts"],o)}const i=d(t,["role"]);return i!=null&&p(e,["role"],i),e}function h2(t,e){const n={},i=d(t,["displayName"]);if(e!==void 0&&i!=null&&p(e,["batch","displayName"],i),d(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function m2(t,e){const n={},i=d(t,["displayName"]);e!==void 0&&i!=null&&p(e,["displayName"],i);const o=d(t,["dest"]);return e!==void 0&&o!=null&&p(e,["outputConfig"],s2(n2(o))),n}function Fm(t,e){const n={},i=d(e,["model"]);i!=null&&p(n,["_url","model"],X(t,i));const o=d(e,["src"]);o!=null&&p(n,["batch","inputConfig"],l2(t,Kv(t,o)));const s=d(e,["config"]);return s!=null&&h2(s,n),n}function g2(t,e){const n={},i=d(e,["model"]);i!=null&&p(n,["model"],X(t,i));const o=d(e,["src"]);o!=null&&p(n,["inputConfig"],a2(Kv(t,o)));const s=d(e,["config"]);return s!=null&&m2(s,n),n}function x2(t,e){const n={},i=d(t,["displayName"]);return e!==void 0&&i!=null&&p(e,["batch","displayName"],i),n}function v2(t,e){const n={},i=d(e,["model"]);i!=null&&p(n,["_url","model"],X(t,i));const o=d(e,["src"]);o!=null&&p(n,["batch","inputConfig"],T2(t,o));const s=d(e,["config"]);return s!=null&&x2(s,n),n}function y2(t,e){const n={},i=d(e,["name"]);return i!=null&&p(n,["_url","name"],co(t,i)),n}function _2(t,e){const n={},i=d(e,["name"]);return i!=null&&p(n,["_url","name"],co(t,i)),n}function w2(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=d(t,["name"]);i!=null&&p(e,["name"],i);const o=d(t,["done"]);o!=null&&p(e,["done"],o);const s=d(t,["error"]);return s!=null&&p(e,["error"],s),e}function S2(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=d(t,["name"]);i!=null&&p(e,["name"],i);const o=d(t,["done"]);o!=null&&p(e,["done"],o);const s=d(t,["error"]);return s!=null&&p(e,["error"],s),e}function b2(t,e){const n={},i=d(e,["contents"]);if(i!=null){let s=zd(t,i);Array.isArray(s)&&(s=s.map(r=>r)),p(n,["requests[]","request","content"],s)}const o=d(e,["config"]);return o!=null&&(p(n,["_self"],C2(o,n)),_I(n,{"requests[].*":"requests[].request.*"})),n}function C2(t,e){const n={},i=d(t,["taskType"]);e!==void 0&&i!=null&&p(e,["requests[]","taskType"],i);const o=d(t,["title"]);e!==void 0&&o!=null&&p(e,["requests[]","title"],o);const s=d(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&p(e,["requests[]","outputDimensionality"],s),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function T2(t,e){const n={},i=d(e,["fileName"]);i!=null&&p(n,["file_name"],i);const o=d(e,["inlinedRequests"]);return o!=null&&p(n,["requests"],b2(t,o)),n}function k2(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function I2(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const i=d(t,["args"]);i!=null&&p(e,["args"],i);const o=d(t,["name"]);if(o!=null&&p(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function E2(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const i=d(t,["allowedFunctionNames"]);if(i!=null&&p(e,["allowedFunctionNames"],i),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function N2(t,e,n){const i={},o=d(e,["systemInstruction"]);n!==void 0&&o!=null&&p(n,["systemInstruction"],Zv(Le(o)));const s=d(e,["temperature"]);s!=null&&p(i,["temperature"],s);const r=d(e,["topP"]);r!=null&&p(i,["topP"],r);const l=d(e,["topK"]);l!=null&&p(i,["topK"],l);const a=d(e,["candidateCount"]);a!=null&&p(i,["candidateCount"],a);const c=d(e,["maxOutputTokens"]);c!=null&&p(i,["maxOutputTokens"],c);const u=d(e,["stopSequences"]);u!=null&&p(i,["stopSequences"],u);const h=d(e,["responseLogprobs"]);h!=null&&p(i,["responseLogprobs"],h);const m=d(e,["logprobs"]);m!=null&&p(i,["logprobs"],m);const g=d(e,["presencePenalty"]);g!=null&&p(i,["presencePenalty"],g);const x=d(e,["frequencyPenalty"]);x!=null&&p(i,["frequencyPenalty"],x);const y=d(e,["seed"]);y!=null&&p(i,["seed"],y);const v=d(e,["responseMimeType"]);v!=null&&p(i,["responseMimeType"],v);const _=d(e,["responseSchema"]);_!=null&&p(i,["responseSchema"],Fd(_));const w=d(e,["responseJsonSchema"]);if(w!=null&&p(i,["responseJsonSchema"],w),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=d(e,["safetySettings"]);if(n!==void 0&&S!=null){let D=S;Array.isArray(D)&&(D=D.map(R=>G2(R))),p(n,["safetySettings"],D)}const b=d(e,["tools"]);if(n!==void 0&&b!=null){let D=ao(b);Array.isArray(D)&&(D=D.map(R=>W2(lo(R)))),p(n,["tools"],D)}const C=d(e,["toolConfig"]);if(n!==void 0&&C!=null&&p(n,["toolConfig"],q2(C)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=d(e,["cachedContent"]);n!==void 0&&T!=null&&p(n,["cachedContent"],un(t,T));const k=d(e,["responseModalities"]);k!=null&&p(i,["responseModalities"],k);const E=d(e,["mediaResolution"]);E!=null&&p(i,["mediaResolution"],E);const A=d(e,["speechConfig"]);if(A!=null&&p(i,["speechConfig"],Ud(A)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=d(e,["thinkingConfig"]);N!=null&&p(i,["thinkingConfig"],N);const I=d(e,["imageConfig"]);I!=null&&p(i,["imageConfig"],L2(I));const P=d(e,["enableEnhancedCivicAnswers"]);return P!=null&&p(i,["enableEnhancedCivicAnswers"],P),i}function A2(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=d(t,["candidates"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>f2(c))),p(e,["candidates"],a)}const o=d(t,["modelVersion"]);o!=null&&p(e,["modelVersion"],o);const s=d(t,["promptFeedback"]);s!=null&&p(e,["promptFeedback"],s);const r=d(t,["responseId"]);r!=null&&p(e,["responseId"],r);const l=d(t,["usageMetadata"]);return l!=null&&p(e,["usageMetadata"],l),e}function M2(t,e){const n={},i=d(e,["name"]);return i!=null&&p(n,["_url","name"],co(t,i)),n}function P2(t,e){const n={},i=d(e,["name"]);return i!=null&&p(n,["_url","name"],co(t,i)),n}function R2(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function D2(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function L2(t){const e={},n=d(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const i=d(t,["imageSize"]);if(i!=null&&p(e,["imageSize"],i),d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function z2(t,e){const n={},i=d(e,["model"]);i!=null&&p(n,["request","model"],X(t,i));const o=d(e,["contents"]);if(o!=null){let l=gt(o);Array.isArray(l)&&(l=l.map(a=>Zv(a))),p(n,["request","contents"],l)}const s=d(e,["metadata"]);s!=null&&p(n,["metadata"],s);const r=d(e,["config"]);return r!=null&&p(n,["request","generationConfig"],N2(t,r,d(n,["request"],{}))),n}function F2(t){const e={},n=d(t,["response"]);n!=null&&p(e,["response"],A2(n));const i=d(t,["error"]);return i!=null&&p(e,["error"],i),e}function U2(t,e){const n={},i=d(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=d(t,["pageToken"]);if(e!==void 0&&o!=null&&p(e,["_query","pageToken"],o),d(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function B2(t,e){const n={},i=d(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=d(t,["pageToken"]);e!==void 0&&o!=null&&p(e,["_query","pageToken"],o);const s=d(t,["filter"]);return e!==void 0&&s!=null&&p(e,["_query","filter"],s),n}function V2(t){const e={},n=d(t,["config"]);return n!=null&&U2(n,e),e}function O2(t){const e={},n=d(t,["config"]);return n!=null&&B2(n,e),e}function H2(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=d(t,["nextPageToken"]);i!=null&&p(e,["nextPageToken"],i);const o=d(t,["operations"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>Pr(r))),p(e,["batchJobs"],s)}return e}function j2(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=d(t,["nextPageToken"]);i!=null&&p(e,["nextPageToken"],i);const o=d(t,["batchPredictionJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>tu(r))),p(e,["batchJobs"],s)}return e}function $2(t){const e={},n=d(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const i=d(t,["codeExecutionResult"]);i!=null&&p(e,["codeExecutionResult"],i);const o=d(t,["executableCode"]);o!=null&&p(e,["executableCode"],o);const s=d(t,["fileData"]);s!=null&&p(e,["fileData"],k2(s));const r=d(t,["functionCall"]);r!=null&&p(e,["functionCall"],I2(r));const l=d(t,["functionResponse"]);l!=null&&p(e,["functionResponse"],l);const a=d(t,["inlineData"]);a!=null&&p(e,["inlineData"],c2(a));const c=d(t,["text"]);c!=null&&p(e,["text"],c);const u=d(t,["thought"]);u!=null&&p(e,["thought"],u);const h=d(t,["thoughtSignature"]);h!=null&&p(e,["thoughtSignature"],h);const m=d(t,["videoMetadata"]);return m!=null&&p(e,["videoMetadata"],m),e}function G2(t){const e={},n=d(t,["category"]);if(n!=null&&p(e,["category"],n),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=d(t,["threshold"]);return i!=null&&p(e,["threshold"],i),e}function q2(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],E2(n));const i=d(t,["retrievalConfig"]);return i!=null&&p(e,["retrievalConfig"],i),e}function W2(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(h=>h)),p(e,["functionDeclarations"],u)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(t,["googleSearchRetrieval"]);i!=null&&p(e,["googleSearchRetrieval"],i);const o=d(t,["computerUse"]);o!=null&&p(e,["computerUse"],o);const s=d(t,["fileSearch"]);s!=null&&p(e,["fileSearch"],s);const r=d(t,["codeExecution"]);if(r!=null&&p(e,["codeExecution"],r),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["googleMaps"]);l!=null&&p(e,["googleMaps"],R2(l));const a=d(t,["googleSearch"]);a!=null&&p(e,["googleSearch"],D2(a));const c=d(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var rn;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(rn||(rn={}));class gi{constructor(e,n,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,o)}init(e,n,i){var o,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let r={config:{}};!i||Object.keys(i).length===0?r={config:{}}:typeof i=="object"?r=Object.assign({},i):r=i,r.config&&(r.config.pageToken=n.nextPageToken),this.paramsInternal=r,this.pageInternalSize=(s=(o=r.config)===null||o===void 0?void 0:o.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class J2 extends cn{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new gi(rn.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=Fm(this.apiClient,e),i=n._url,o=O("{model}:batchGenerateContent",i),l=n.batch.inputConfig.requests,a=l.requests,c=[];for(const u of a){const h=Object.assign({},u);if(h.systemInstruction){const m=h.systemInstruction;delete h.systemInstruction;const g=h.request;g.systemInstruction=m,h.request=g}c.push(h)}return l.requests=c,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const i=n?Object.assign({},n):{},o=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${o}`),i.dest===void 0){const s=this.getGcsUri(e),r=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?i.dest=`${s.slice(0,-6)}/dest`:i.dest=`${s}_dest_${o}`;else if(r)i.dest=`${r}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const c=g2(this.apiClient,e);return l=O("batchPredictionJobs",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(u=>tu(u))}else{const c=Fm(this.apiClient,e);return l=O("{model}:batchGenerateContent",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),r.then(u=>Pr(u))}}async createEmbeddingsInternal(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=v2(this.apiClient,e);return s=O("{model}:asyncBatchEmbedContent",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json()),o.then(a=>Pr(a))}}async get(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const c=P2(this.apiClient,e);return l=O("batchPredictionJobs/{name}",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(u=>tu(u))}else{const c=M2(this.apiClient,e);return l=O("batches/{name}",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),r.then(u=>Pr(u))}}async cancel(e){var n,i,o,s;let r="",l={};if(this.apiClient.isVertexAI()){const a=d2(this.apiClient,e);r=O("batchPredictionJobs/{name}:cancel",a._url),l=a._query,delete a._url,delete a._query,await this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const a=u2(this.apiClient,e);r=O("batches/{name}:cancel",a._url),l=a._query,delete a._url,delete a._query,await this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const c=O2(e);return l=O("batchPredictionJobs",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:u.headers},m})),r.then(u=>{const h=j2(u),m=new Rm;return Object.assign(m,h),m})}else{const c=V2(e);return l=O("batches",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:u.headers},m})),r.then(u=>{const h=H2(u),m=new Rm;return Object.assign(m,h),m})}}async delete(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const c=_2(this.apiClient,e);return l=O("batchPredictionJobs/{name}",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:u.headers},m})),r.then(u=>S2(u))}else{const c=y2(this.apiClient,e);return l=O("batches/{name}",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:u.headers},m})),r.then(u=>w2(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Y2(t){const e={},n=d(t,["data"]);if(n!=null&&p(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function Um(t){const e={},n=d(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>vE(s))),p(e,["parts"],o)}const i=d(t,["role"]);return i!=null&&p(e,["role"],i),e}function K2(t,e){const n={},i=d(t,["ttl"]);e!==void 0&&i!=null&&p(e,["ttl"],i);const o=d(t,["expireTime"]);e!==void 0&&o!=null&&p(e,["expireTime"],o);const s=d(t,["displayName"]);e!==void 0&&s!=null&&p(e,["displayName"],s);const r=d(t,["contents"]);if(e!==void 0&&r!=null){let u=gt(r);Array.isArray(u)&&(u=u.map(h=>Um(h))),p(e,["contents"],u)}const l=d(t,["systemInstruction"]);e!==void 0&&l!=null&&p(e,["systemInstruction"],Um(Le(l)));const a=d(t,["tools"]);if(e!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(h=>_E(h))),p(e,["tools"],u)}const c=d(t,["toolConfig"]);if(e!==void 0&&c!=null&&p(e,["toolConfig"],yE(c)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Q2(t,e){const n={},i=d(t,["ttl"]);e!==void 0&&i!=null&&p(e,["ttl"],i);const o=d(t,["expireTime"]);e!==void 0&&o!=null&&p(e,["expireTime"],o);const s=d(t,["displayName"]);e!==void 0&&s!=null&&p(e,["displayName"],s);const r=d(t,["contents"]);if(e!==void 0&&r!=null){let h=gt(r);Array.isArray(h)&&(h=h.map(m=>m)),p(e,["contents"],h)}const l=d(t,["systemInstruction"]);e!==void 0&&l!=null&&p(e,["systemInstruction"],Le(l));const a=d(t,["tools"]);if(e!==void 0&&a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>wE(m))),p(e,["tools"],h)}const c=d(t,["toolConfig"]);e!==void 0&&c!=null&&p(e,["toolConfig"],c);const u=d(t,["kmsKeyName"]);return e!==void 0&&u!=null&&p(e,["encryption_spec","kmsKeyName"],u),n}function X2(t,e){const n={},i=d(e,["model"]);i!=null&&p(n,["model"],Ov(t,i));const o=d(e,["config"]);return o!=null&&K2(o,n),n}function Z2(t,e){const n={},i=d(e,["model"]);i!=null&&p(n,["model"],Ov(t,i));const o=d(e,["config"]);return o!=null&&Q2(o,n),n}function eE(t,e){const n={},i=d(e,["name"]);return i!=null&&p(n,["_url","name"],un(t,i)),n}function tE(t,e){const n={},i=d(e,["name"]);return i!=null&&p(n,["_url","name"],un(t,i)),n}function nE(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function iE(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function oE(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function sE(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const i=d(t,["args"]);i!=null&&p(e,["args"],i);const o=d(t,["name"]);if(o!=null&&p(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function rE(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const i=d(t,["allowedFunctionNames"]);if(i!=null&&p(e,["allowedFunctionNames"],i),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function lE(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&p(e,["description"],n);const i=d(t,["name"]);i!=null&&p(e,["name"],i);const o=d(t,["parameters"]);o!=null&&p(e,["parameters"],o);const s=d(t,["parametersJsonSchema"]);s!=null&&p(e,["parametersJsonSchema"],s);const r=d(t,["response"]);r!=null&&p(e,["response"],r);const l=d(t,["responseJsonSchema"]);return l!=null&&p(e,["responseJsonSchema"],l),e}function aE(t,e){const n={},i=d(e,["name"]);return i!=null&&p(n,["_url","name"],un(t,i)),n}function cE(t,e){const n={},i=d(e,["name"]);return i!=null&&p(n,["_url","name"],un(t,i)),n}function uE(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function dE(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function fE(t,e){const n={},i=d(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&p(e,["_query","pageToken"],o),n}function pE(t,e){const n={},i=d(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&p(e,["_query","pageToken"],o),n}function hE(t){const e={},n=d(t,["config"]);return n!=null&&fE(n,e),e}function mE(t){const e={},n=d(t,["config"]);return n!=null&&pE(n,e),e}function gE(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=d(t,["nextPageToken"]);i!=null&&p(e,["nextPageToken"],i);const o=d(t,["cachedContents"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),p(e,["cachedContents"],s)}return e}function xE(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=d(t,["nextPageToken"]);i!=null&&p(e,["nextPageToken"],i);const o=d(t,["cachedContents"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),p(e,["cachedContents"],s)}return e}function vE(t){const e={},n=d(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const i=d(t,["codeExecutionResult"]);i!=null&&p(e,["codeExecutionResult"],i);const o=d(t,["executableCode"]);o!=null&&p(e,["executableCode"],o);const s=d(t,["fileData"]);s!=null&&p(e,["fileData"],oE(s));const r=d(t,["functionCall"]);r!=null&&p(e,["functionCall"],sE(r));const l=d(t,["functionResponse"]);l!=null&&p(e,["functionResponse"],l);const a=d(t,["inlineData"]);a!=null&&p(e,["inlineData"],Y2(a));const c=d(t,["text"]);c!=null&&p(e,["text"],c);const u=d(t,["thought"]);u!=null&&p(e,["thought"],u);const h=d(t,["thoughtSignature"]);h!=null&&p(e,["thoughtSignature"],h);const m=d(t,["videoMetadata"]);return m!=null&&p(e,["videoMetadata"],m),e}function yE(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],rE(n));const i=d(t,["retrievalConfig"]);return i!=null&&p(e,["retrievalConfig"],i),e}function _E(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(h=>h)),p(e,["functionDeclarations"],u)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(t,["googleSearchRetrieval"]);i!=null&&p(e,["googleSearchRetrieval"],i);const o=d(t,["computerUse"]);o!=null&&p(e,["computerUse"],o);const s=d(t,["fileSearch"]);s!=null&&p(e,["fileSearch"],s);const r=d(t,["codeExecution"]);if(r!=null&&p(e,["codeExecution"],r),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["googleMaps"]);l!=null&&p(e,["googleMaps"],uE(l));const a=d(t,["googleSearch"]);a!=null&&p(e,["googleSearch"],dE(a));const c=d(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function wE(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>lE(m))),p(e,["functionDeclarations"],h)}const i=d(t,["retrieval"]);i!=null&&p(e,["retrieval"],i);const o=d(t,["googleSearchRetrieval"]);o!=null&&p(e,["googleSearchRetrieval"],o);const s=d(t,["computerUse"]);if(s!=null&&p(e,["computerUse"],s),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=d(t,["codeExecution"]);r!=null&&p(e,["codeExecution"],r);const l=d(t,["enterpriseWebSearch"]);l!=null&&p(e,["enterpriseWebSearch"],l);const a=d(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],a);const c=d(t,["googleSearch"]);c!=null&&p(e,["googleSearch"],c);const u=d(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function SE(t,e){const n={},i=d(t,["ttl"]);e!==void 0&&i!=null&&p(e,["ttl"],i);const o=d(t,["expireTime"]);return e!==void 0&&o!=null&&p(e,["expireTime"],o),n}function bE(t,e){const n={},i=d(t,["ttl"]);e!==void 0&&i!=null&&p(e,["ttl"],i);const o=d(t,["expireTime"]);return e!==void 0&&o!=null&&p(e,["expireTime"],o),n}function CE(t,e){const n={},i=d(e,["name"]);i!=null&&p(n,["_url","name"],un(t,i));const o=d(e,["config"]);return o!=null&&SE(o,n),n}function TE(t,e){const n={},i=d(e,["name"]);i!=null&&p(n,["_url","name"],un(t,i));const o=d(e,["config"]);return o!=null&&bE(o,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kE extends cn{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new gi(rn.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const c=Z2(this.apiClient,e);return l=O("cachedContents",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(u=>u)}else{const c=X2(this.apiClient,e);return l=O("cachedContents",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),r.then(u=>u)}}async get(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const c=cE(this.apiClient,e);return l=O("{name}",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(u=>u)}else{const c=aE(this.apiClient,e);return l=O("{name}",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),r.then(u=>u)}}async delete(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const c=tE(this.apiClient,e);return l=O("{name}",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:u.headers},m})),r.then(u=>{const h=iE(u),m=new Mm;return Object.assign(m,h),m})}else{const c=eE(this.apiClient,e);return l=O("{name}",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:u.headers},m})),r.then(u=>{const h=nE(u),m=new Mm;return Object.assign(m,h),m})}}async update(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const c=TE(this.apiClient,e);return l=O("{name}",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(u=>u)}else{const c=CE(this.apiClient,e);return l=O("{name}",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),r.then(u=>u)}}async listInternal(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const c=mE(e);return l=O("cachedContents",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:u.headers},m})),r.then(u=>{const h=xE(u),m=new Pm;return Object.assign(m,h),m})}else{const c=hE(e);return l=O("cachedContents",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:u.headers},m})),r.then(u=>{const h=gE(u),m=new Pm;return Object.assign(m,h),m})}}}function _l(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n}function Bm(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function q(t){return this instanceof q?(this.v=t,this):new q(t)}function kt(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),o,s=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",r),o[Symbol.asyncIterator]=function(){return this},o;function r(g){return function(x){return Promise.resolve(x).then(g,h)}}function l(g,x){i[g]&&(o[g]=function(y){return new Promise(function(v,_){s.push([g,y,v,_])>1||a(g,y)})},x&&(o[g]=x(o[g])))}function a(g,x){try{c(i[g](x))}catch(y){m(s[0][3],y)}}function c(g){g.value instanceof q?Promise.resolve(g.value.v).then(u,h):m(s[0][2],g)}function u(g){a("next",g)}function h(g){a("throw",g)}function m(g,x){g(x),s.shift(),s.length&&a(s[0][0],s[0][1])}}function It(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Bm=="function"?Bm(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=t[s]&&function(r){return new Promise(function(l,a){r=t[s](r),o(l,a,r.done,r.value)})}}function o(s,r,l,a){Promise.resolve(a).then(function(c){s({value:c,done:l})},r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IE(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:ey(n)}function ey(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function EE(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Vm(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const o=[];let s=!0;for(;i<n&&t[i].role==="model";)o.push(t[i]),s&&!ey(t[i])&&(s=!1),i++;s?e.push(...o):e.pop()}return e}class NE{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new AE(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class AE{constructor(e,n,i,o={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=o,this.history=s,this.sendPromise=Promise.resolve(),EE(s)}async sendMessage(e){var n;await this.sendPromise;const i=Le(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,r,l;const a=await o,c=(r=(s=a.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content,u=a.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let m=[];u!=null&&(m=(l=u.slice(h))!==null&&l!==void 0?l:[]);const g=c?[c]:[];this.recordHistory(i,g,m)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const i=Le(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const s=await o;return this.processStreamResponse(s,i)}getHistory(e=!1){const n=e?Vm(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return kt(this,arguments,function*(){var o,s,r,l,a,c;const u=[];try{for(var h=!0,m=It(e),g;g=yield q(m.next()),o=g.done,!o;h=!0){l=g.value,h=!1;const x=l;if(IE(x)){const y=(c=(a=x.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content;y!==void 0&&u.push(y)}yield yield q(x)}}catch(x){s={error:x}}finally{try{!h&&!o&&(r=m.return)&&(yield q(r.call(m)))}finally{if(s)throw s.error}}this.recordHistory(n,u)})}recordHistory(e,n,i){let o=[];n.length>0&&n.every(s=>s.role!==void 0)?o=n:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...Vm(i)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kl extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Kl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ME(t){const e={},n=d(t,["file"]);return n!=null&&p(e,["file"],n),e}function PE(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function RE(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","file"],Wv(n)),e}function DE(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function LE(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","file"],Wv(n)),e}function zE(t,e){const n={},i=d(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&p(e,["_query","pageToken"],o),n}function FE(t){const e={},n=d(t,["config"]);return n!=null&&zE(n,e),e}function UE(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=d(t,["nextPageToken"]);i!=null&&p(e,["nextPageToken"],i);const o=d(t,["files"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),p(e,["files"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BE extends cn{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new gi(rn.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=FE(e);return s=O("files",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:a.headers},u})),o.then(a=>{const c=UE(a),u=new jI;return Object.assign(u,c),u})}}async createInternal(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=ME(e);return s=O("upload/v1beta/files",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json()),o.then(a=>{const c=PE(a),u=new $I;return Object.assign(u,c),u})}}async get(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=LE(e);return s=O("files/{file}",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json()),o.then(a=>a)}}async delete(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=RE(e);return s=O("files/{file}",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:a.headers},u})),o.then(a=>{const c=DE(a),u=new GI;return Object.assign(u,c),u})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rr(t){const e={},n=d(t,["data"]);if(n!=null&&p(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function VE(t){const e={},n=d(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>nN(s))),p(e,["parts"],o)}const i=d(t,["role"]);return i!=null&&p(e,["role"],i),e}function OE(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function HE(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const i=d(t,["args"]);i!=null&&p(e,["args"],i);const o=d(t,["name"]);if(o!=null&&p(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function jE(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&p(e,["description"],n);const i=d(t,["name"]);i!=null&&p(e,["name"],i);const o=d(t,["parameters"]);o!=null&&p(e,["parameters"],o);const s=d(t,["parametersJsonSchema"]);s!=null&&p(e,["parametersJsonSchema"],s);const r=d(t,["response"]);r!=null&&p(e,["response"],r);const l=d(t,["responseJsonSchema"]);return l!=null&&p(e,["responseJsonSchema"],l),e}function $E(t){const e={},n=d(t,["modelSelectionConfig"]);n!=null&&p(e,["modelConfig"],n);const i=d(t,["responseJsonSchema"]);i!=null&&p(e,["responseJsonSchema"],i);const o=d(t,["audioTimestamp"]);o!=null&&p(e,["audioTimestamp"],o);const s=d(t,["candidateCount"]);s!=null&&p(e,["candidateCount"],s);const r=d(t,["enableAffectiveDialog"]);r!=null&&p(e,["enableAffectiveDialog"],r);const l=d(t,["frequencyPenalty"]);l!=null&&p(e,["frequencyPenalty"],l);const a=d(t,["logprobs"]);a!=null&&p(e,["logprobs"],a);const c=d(t,["maxOutputTokens"]);c!=null&&p(e,["maxOutputTokens"],c);const u=d(t,["mediaResolution"]);u!=null&&p(e,["mediaResolution"],u);const h=d(t,["presencePenalty"]);h!=null&&p(e,["presencePenalty"],h);const m=d(t,["responseLogprobs"]);m!=null&&p(e,["responseLogprobs"],m);const g=d(t,["responseMimeType"]);g!=null&&p(e,["responseMimeType"],g);const x=d(t,["responseModalities"]);x!=null&&p(e,["responseModalities"],x);const y=d(t,["responseSchema"]);y!=null&&p(e,["responseSchema"],y);const v=d(t,["routingConfig"]);v!=null&&p(e,["routingConfig"],v);const _=d(t,["seed"]);_!=null&&p(e,["seed"],_);const w=d(t,["speechConfig"]);w!=null&&p(e,["speechConfig"],w);const S=d(t,["stopSequences"]);S!=null&&p(e,["stopSequences"],S);const b=d(t,["temperature"]);b!=null&&p(e,["temperature"],b);const C=d(t,["thinkingConfig"]);C!=null&&p(e,["thinkingConfig"],C);const T=d(t,["topK"]);T!=null&&p(e,["topK"],T);const k=d(t,["topP"]);if(k!=null&&p(e,["topP"],k),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function GE(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function qE(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function WE(t,e){const n={},i=d(t,["generationConfig"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig"],i);const o=d(t,["responseModalities"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","responseModalities"],o);const s=d(t,["temperature"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","temperature"],s);const r=d(t,["topP"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig","topP"],r);const l=d(t,["topK"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","topK"],l);const a=d(t,["maxOutputTokens"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","maxOutputTokens"],a);const c=d(t,["mediaResolution"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","mediaResolution"],c);const u=d(t,["seed"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","seed"],u);const h=d(t,["speechConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","speechConfig"],Bd(h));const m=d(t,["thinkingConfig"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","thinkingConfig"],m);const g=d(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],g);const x=d(t,["systemInstruction"]);e!==void 0&&x!=null&&p(e,["setup","systemInstruction"],VE(Le(x)));const y=d(t,["tools"]);if(e!==void 0&&y!=null){let T=ao(y);Array.isArray(T)&&(T=T.map(k=>oN(lo(k)))),p(e,["setup","tools"],T)}const v=d(t,["sessionResumption"]);e!==void 0&&v!=null&&p(e,["setup","sessionResumption"],iN(v));const _=d(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&p(e,["setup","inputAudioTranscription"],_);const w=d(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&p(e,["setup","outputAudioTranscription"],w);const S=d(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&p(e,["setup","realtimeInputConfig"],S);const b=d(t,["contextWindowCompression"]);e!==void 0&&b!=null&&p(e,["setup","contextWindowCompression"],b);const C=d(t,["proactivity"]);if(e!==void 0&&C!=null&&p(e,["setup","proactivity"],C),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function JE(t,e){const n={},i=d(t,["generationConfig"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig"],$E(i));const o=d(t,["responseModalities"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","responseModalities"],o);const s=d(t,["temperature"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","temperature"],s);const r=d(t,["topP"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig","topP"],r);const l=d(t,["topK"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","topK"],l);const a=d(t,["maxOutputTokens"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","maxOutputTokens"],a);const c=d(t,["mediaResolution"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","mediaResolution"],c);const u=d(t,["seed"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","seed"],u);const h=d(t,["speechConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","speechConfig"],Bd(h));const m=d(t,["thinkingConfig"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","thinkingConfig"],m);const g=d(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],g);const x=d(t,["systemInstruction"]);e!==void 0&&x!=null&&p(e,["setup","systemInstruction"],Le(x));const y=d(t,["tools"]);if(e!==void 0&&y!=null){let k=ao(y);Array.isArray(k)&&(k=k.map(E=>sN(lo(E)))),p(e,["setup","tools"],k)}const v=d(t,["sessionResumption"]);e!==void 0&&v!=null&&p(e,["setup","sessionResumption"],v);const _=d(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&p(e,["setup","inputAudioTranscription"],_);const w=d(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&p(e,["setup","outputAudioTranscription"],w);const S=d(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&p(e,["setup","realtimeInputConfig"],S);const b=d(t,["contextWindowCompression"]);e!==void 0&&b!=null&&p(e,["setup","contextWindowCompression"],b);const C=d(t,["proactivity"]);e!==void 0&&C!=null&&p(e,["setup","proactivity"],C);const T=d(t,["explicitVadSignal"]);return e!==void 0&&T!=null&&p(e,["setup","explicitVadSignal"],T),n}function YE(t,e){const n={},i=d(e,["model"]);i!=null&&p(n,["setup","model"],X(t,i));const o=d(e,["config"]);return o!=null&&p(n,["config"],WE(o,n)),n}function KE(t,e){const n={},i=d(e,["model"]);i!=null&&p(n,["setup","model"],X(t,i));const o=d(e,["config"]);return o!=null&&p(n,["config"],JE(o,n)),n}function QE(t){const e={},n=d(t,["musicGenerationConfig"]);return n!=null&&p(e,["musicGenerationConfig"],n),e}function XE(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),p(e,["weightedPrompts"],i)}return e}function ZE(t){const e={},n=d(t,["media"]);if(n!=null){let c=Hv(n);Array.isArray(c)&&(c=c.map(u=>Rr(u))),p(e,["mediaChunks"],c)}const i=d(t,["audio"]);i!=null&&p(e,["audio"],Rr($v(i)));const o=d(t,["audioStreamEnd"]);o!=null&&p(e,["audioStreamEnd"],o);const s=d(t,["video"]);s!=null&&p(e,["video"],Rr(jv(s)));const r=d(t,["text"]);r!=null&&p(e,["text"],r);const l=d(t,["activityStart"]);l!=null&&p(e,["activityStart"],l);const a=d(t,["activityEnd"]);return a!=null&&p(e,["activityEnd"],a),e}function eN(t){const e={},n=d(t,["media"]);if(n!=null){let c=Hv(n);Array.isArray(c)&&(c=c.map(u=>u)),p(e,["mediaChunks"],c)}const i=d(t,["audio"]);i!=null&&p(e,["audio"],$v(i));const o=d(t,["audioStreamEnd"]);o!=null&&p(e,["audioStreamEnd"],o);const s=d(t,["video"]);s!=null&&p(e,["video"],jv(s));const r=d(t,["text"]);r!=null&&p(e,["text"],r);const l=d(t,["activityStart"]);l!=null&&p(e,["activityStart"],l);const a=d(t,["activityEnd"]);return a!=null&&p(e,["activityEnd"],a),e}function tN(t){const e={},n=d(t,["setupComplete"]);n!=null&&p(e,["setupComplete"],n);const i=d(t,["serverContent"]);i!=null&&p(e,["serverContent"],i);const o=d(t,["toolCall"]);o!=null&&p(e,["toolCall"],o);const s=d(t,["toolCallCancellation"]);s!=null&&p(e,["toolCallCancellation"],s);const r=d(t,["usageMetadata"]);r!=null&&p(e,["usageMetadata"],rN(r));const l=d(t,["goAway"]);l!=null&&p(e,["goAway"],l);const a=d(t,["sessionResumptionUpdate"]);a!=null&&p(e,["sessionResumptionUpdate"],a);const c=d(t,["voiceActivityDetectionSignal"]);return c!=null&&p(e,["voiceActivityDetectionSignal"],c),e}function nN(t){const e={},n=d(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const i=d(t,["codeExecutionResult"]);i!=null&&p(e,["codeExecutionResult"],i);const o=d(t,["executableCode"]);o!=null&&p(e,["executableCode"],o);const s=d(t,["fileData"]);s!=null&&p(e,["fileData"],OE(s));const r=d(t,["functionCall"]);r!=null&&p(e,["functionCall"],HE(r));const l=d(t,["functionResponse"]);l!=null&&p(e,["functionResponse"],l);const a=d(t,["inlineData"]);a!=null&&p(e,["inlineData"],Rr(a));const c=d(t,["text"]);c!=null&&p(e,["text"],c);const u=d(t,["thought"]);u!=null&&p(e,["thought"],u);const h=d(t,["thoughtSignature"]);h!=null&&p(e,["thoughtSignature"],h);const m=d(t,["videoMetadata"]);return m!=null&&p(e,["videoMetadata"],m),e}function iN(t){const e={},n=d(t,["handle"]);if(n!=null&&p(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function oN(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(h=>h)),p(e,["functionDeclarations"],u)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(t,["googleSearchRetrieval"]);i!=null&&p(e,["googleSearchRetrieval"],i);const o=d(t,["computerUse"]);o!=null&&p(e,["computerUse"],o);const s=d(t,["fileSearch"]);s!=null&&p(e,["fileSearch"],s);const r=d(t,["codeExecution"]);if(r!=null&&p(e,["codeExecution"],r),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["googleMaps"]);l!=null&&p(e,["googleMaps"],GE(l));const a=d(t,["googleSearch"]);a!=null&&p(e,["googleSearch"],qE(a));const c=d(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function sN(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>jE(m))),p(e,["functionDeclarations"],h)}const i=d(t,["retrieval"]);i!=null&&p(e,["retrieval"],i);const o=d(t,["googleSearchRetrieval"]);o!=null&&p(e,["googleSearchRetrieval"],o);const s=d(t,["computerUse"]);if(s!=null&&p(e,["computerUse"],s),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=d(t,["codeExecution"]);r!=null&&p(e,["codeExecution"],r);const l=d(t,["enterpriseWebSearch"]);l!=null&&p(e,["enterpriseWebSearch"],l);const a=d(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],a);const c=d(t,["googleSearch"]);c!=null&&p(e,["googleSearch"],c);const u=d(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function rN(t){const e={},n=d(t,["promptTokenCount"]);n!=null&&p(e,["promptTokenCount"],n);const i=d(t,["cachedContentTokenCount"]);i!=null&&p(e,["cachedContentTokenCount"],i);const o=d(t,["candidatesTokenCount"]);o!=null&&p(e,["responseTokenCount"],o);const s=d(t,["toolUsePromptTokenCount"]);s!=null&&p(e,["toolUsePromptTokenCount"],s);const r=d(t,["thoughtsTokenCount"]);r!=null&&p(e,["thoughtsTokenCount"],r);const l=d(t,["totalTokenCount"]);l!=null&&p(e,["totalTokenCount"],l);const a=d(t,["promptTokensDetails"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(x=>x)),p(e,["promptTokensDetails"],g)}const c=d(t,["cacheTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(x=>x)),p(e,["cacheTokensDetails"],g)}const u=d(t,["candidatesTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(x=>x)),p(e,["responseTokensDetails"],g)}const h=d(t,["toolUsePromptTokensDetails"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(x=>x)),p(e,["toolUsePromptTokensDetails"],g)}const m=d(t,["trafficType"]);return m!=null&&p(e,["trafficType"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lN(t){const e={},n=d(t,["data"]);if(n!=null&&p(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function aN(t){const e={},n=d(t,["content"]);n!=null&&p(e,["content"],n);const i=d(t,["citationMetadata"]);i!=null&&p(e,["citationMetadata"],cN(i));const o=d(t,["tokenCount"]);o!=null&&p(e,["tokenCount"],o);const s=d(t,["finishReason"]);s!=null&&p(e,["finishReason"],s);const r=d(t,["avgLogprobs"]);r!=null&&p(e,["avgLogprobs"],r);const l=d(t,["groundingMetadata"]);l!=null&&p(e,["groundingMetadata"],l);const a=d(t,["index"]);a!=null&&p(e,["index"],a);const c=d(t,["logprobsResult"]);c!=null&&p(e,["logprobsResult"],c);const u=d(t,["safetyRatings"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(g=>g)),p(e,["safetyRatings"],m)}const h=d(t,["urlContextMetadata"]);return h!=null&&p(e,["urlContextMetadata"],h),e}function cN(t){const e={},n=d(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),p(e,["citations"],i)}return e}function uN(t,e){const n={},i=d(e,["model"]);i!=null&&p(n,["_url","model"],X(t,i));const o=d(e,["contents"]);if(o!=null){let s=gt(o);Array.isArray(s)&&(s=s.map(r=>r)),p(n,["contents"],s)}return n}function dN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=d(t,["tokensInfo"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),p(e,["tokensInfo"],o)}return e}function fN(t){const e={},n=d(t,["values"]);n!=null&&p(e,["values"],n);const i=d(t,["statistics"]);return i!=null&&p(e,["statistics"],pN(i)),e}function pN(t){const e={},n=d(t,["truncated"]);n!=null&&p(e,["truncated"],n);const i=d(t,["token_count"]);return i!=null&&p(e,["tokenCount"],i),e}function Ql(t){const e={},n=d(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>SA(s))),p(e,["parts"],o)}const i=d(t,["role"]);return i!=null&&p(e,["role"],i),e}function hN(t){const e={},n=d(t,["controlType"]);n!=null&&p(e,["controlType"],n);const i=d(t,["enableControlImageComputation"]);return i!=null&&p(e,["computeControl"],i),e}function mN(t){const e={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function gN(t,e){const n={},i=d(t,["systemInstruction"]);e!==void 0&&i!=null&&p(e,["systemInstruction"],Le(i));const o=d(t,["tools"]);if(e!==void 0&&o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>oy(l))),p(e,["tools"],r)}const s=d(t,["generationConfig"]);return e!==void 0&&s!=null&&p(e,["generationConfig"],lA(s)),n}function xN(t,e){const n={},i=d(e,["model"]);i!=null&&p(n,["_url","model"],X(t,i));const o=d(e,["contents"]);if(o!=null){let r=gt(o);Array.isArray(r)&&(r=r.map(l=>Ql(l))),p(n,["contents"],r)}const s=d(e,["config"]);return s!=null&&mN(s),n}function vN(t,e){const n={},i=d(e,["model"]);i!=null&&p(n,["_url","model"],X(t,i));const o=d(e,["contents"]);if(o!=null){let r=gt(o);Array.isArray(r)&&(r=r.map(l=>l)),p(n,["contents"],r)}const s=d(e,["config"]);return s!=null&&gN(s,n),n}function yN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=d(t,["totalTokens"]);i!=null&&p(e,["totalTokens"],i);const o=d(t,["cachedContentTokenCount"]);return o!=null&&p(e,["cachedContentTokenCount"],o),e}function _N(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=d(t,["totalTokens"]);return i!=null&&p(e,["totalTokens"],i),e}function wN(t,e){const n={},i=d(e,["model"]);return i!=null&&p(n,["_url","name"],X(t,i)),n}function SN(t,e){const n={},i=d(e,["model"]);return i!=null&&p(n,["_url","name"],X(t,i)),n}function bN(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function CN(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function TN(t,e){const n={},i=d(t,["outputGcsUri"]);e!==void 0&&i!=null&&p(e,["parameters","storageUri"],i);const o=d(t,["negativePrompt"]);e!==void 0&&o!=null&&p(e,["parameters","negativePrompt"],o);const s=d(t,["numberOfImages"]);e!==void 0&&s!=null&&p(e,["parameters","sampleCount"],s);const r=d(t,["aspectRatio"]);e!==void 0&&r!=null&&p(e,["parameters","aspectRatio"],r);const l=d(t,["guidanceScale"]);e!==void 0&&l!=null&&p(e,["parameters","guidanceScale"],l);const a=d(t,["seed"]);e!==void 0&&a!=null&&p(e,["parameters","seed"],a);const c=d(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&p(e,["parameters","safetySetting"],c);const u=d(t,["personGeneration"]);e!==void 0&&u!=null&&p(e,["parameters","personGeneration"],u);const h=d(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&p(e,["parameters","includeSafetyAttributes"],h);const m=d(t,["includeRaiReason"]);e!==void 0&&m!=null&&p(e,["parameters","includeRaiReason"],m);const g=d(t,["language"]);e!==void 0&&g!=null&&p(e,["parameters","language"],g);const x=d(t,["outputMimeType"]);e!==void 0&&x!=null&&p(e,["parameters","outputOptions","mimeType"],x);const y=d(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&p(e,["parameters","outputOptions","compressionQuality"],y);const v=d(t,["addWatermark"]);e!==void 0&&v!=null&&p(e,["parameters","addWatermark"],v);const _=d(t,["labels"]);e!==void 0&&_!=null&&p(e,["labels"],_);const w=d(t,["editMode"]);e!==void 0&&w!=null&&p(e,["parameters","editMode"],w);const S=d(t,["baseSteps"]);return e!==void 0&&S!=null&&p(e,["parameters","editConfig","baseSteps"],S),n}function kN(t,e){const n={},i=d(e,["model"]);i!=null&&p(n,["_url","model"],X(t,i));const o=d(e,["prompt"]);o!=null&&p(n,["instances[0]","prompt"],o);const s=d(e,["referenceImages"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(a=>EA(a))),p(n,["instances[0]","referenceImages"],l)}const r=d(e,["config"]);return r!=null&&TN(r,n),n}function IN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=d(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Xl(s))),p(e,["generatedImages"],o)}return e}function EN(t,e){const n={},i=d(t,["taskType"]);e!==void 0&&i!=null&&p(e,["requests[]","taskType"],i);const o=d(t,["title"]);e!==void 0&&o!=null&&p(e,["requests[]","title"],o);const s=d(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&p(e,["requests[]","outputDimensionality"],s),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function NN(t,e){const n={},i=d(t,["taskType"]);e!==void 0&&i!=null&&p(e,["instances[]","task_type"],i);const o=d(t,["title"]);e!==void 0&&o!=null&&p(e,["instances[]","title"],o);const s=d(t,["outputDimensionality"]);e!==void 0&&s!=null&&p(e,["parameters","outputDimensionality"],s);const r=d(t,["mimeType"]);e!==void 0&&r!=null&&p(e,["instances[]","mimeType"],r);const l=d(t,["autoTruncate"]);return e!==void 0&&l!=null&&p(e,["parameters","autoTruncate"],l),n}function AN(t,e){const n={},i=d(e,["model"]);i!=null&&p(n,["_url","model"],X(t,i));const o=d(e,["contents"]);if(o!=null){let l=zd(t,o);Array.isArray(l)&&(l=l.map(a=>a)),p(n,["requests[]","content"],l)}const s=d(e,["config"]);s!=null&&EN(s,n);const r=d(e,["model"]);return r!==void 0&&p(n,["requests[]","model"],X(t,r)),n}function MN(t,e){const n={},i=d(e,["model"]);i!=null&&p(n,["_url","model"],X(t,i));const o=d(e,["contents"]);if(o!=null){let r=zd(t,o);Array.isArray(r)&&(r=r.map(l=>l)),p(n,["instances[]","content"],r)}const s=d(e,["config"]);return s!=null&&NN(s,n),n}function PN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=d(t,["embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(r=>r)),p(e,["embeddings"],s)}const o=d(t,["metadata"]);return o!=null&&p(e,["metadata"],o),e}function RN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=d(t,["predictions[]","embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(r=>fN(r))),p(e,["embeddings"],s)}const o=d(t,["metadata"]);return o!=null&&p(e,["metadata"],o),e}function DN(t){const e={},n=d(t,["endpoint"]);n!=null&&p(e,["name"],n);const i=d(t,["deployedModelId"]);return i!=null&&p(e,["deployedModelId"],i),e}function LN(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function zN(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const i=d(t,["args"]);i!=null&&p(e,["args"],i);const o=d(t,["name"]);if(o!=null&&p(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function FN(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const i=d(t,["allowedFunctionNames"]);if(i!=null&&p(e,["allowedFunctionNames"],i),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function UN(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&p(e,["description"],n);const i=d(t,["name"]);i!=null&&p(e,["name"],i);const o=d(t,["parameters"]);o!=null&&p(e,["parameters"],o);const s=d(t,["parametersJsonSchema"]);s!=null&&p(e,["parametersJsonSchema"],s);const r=d(t,["response"]);r!=null&&p(e,["response"],r);const l=d(t,["responseJsonSchema"]);return l!=null&&p(e,["responseJsonSchema"],l),e}function BN(t,e,n){const i={},o=d(e,["systemInstruction"]);n!==void 0&&o!=null&&p(n,["systemInstruction"],Ql(Le(o)));const s=d(e,["temperature"]);s!=null&&p(i,["temperature"],s);const r=d(e,["topP"]);r!=null&&p(i,["topP"],r);const l=d(e,["topK"]);l!=null&&p(i,["topK"],l);const a=d(e,["candidateCount"]);a!=null&&p(i,["candidateCount"],a);const c=d(e,["maxOutputTokens"]);c!=null&&p(i,["maxOutputTokens"],c);const u=d(e,["stopSequences"]);u!=null&&p(i,["stopSequences"],u);const h=d(e,["responseLogprobs"]);h!=null&&p(i,["responseLogprobs"],h);const m=d(e,["logprobs"]);m!=null&&p(i,["logprobs"],m);const g=d(e,["presencePenalty"]);g!=null&&p(i,["presencePenalty"],g);const x=d(e,["frequencyPenalty"]);x!=null&&p(i,["frequencyPenalty"],x);const y=d(e,["seed"]);y!=null&&p(i,["seed"],y);const v=d(e,["responseMimeType"]);v!=null&&p(i,["responseMimeType"],v);const _=d(e,["responseSchema"]);_!=null&&p(i,["responseSchema"],Fd(_));const w=d(e,["responseJsonSchema"]);if(w!=null&&p(i,["responseJsonSchema"],w),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=d(e,["safetySettings"]);if(n!==void 0&&S!=null){let D=S;Array.isArray(D)&&(D=D.map(R=>NA(R))),p(n,["safetySettings"],D)}const b=d(e,["tools"]);if(n!==void 0&&b!=null){let D=ao(b);Array.isArray(D)&&(D=D.map(R=>zA(lo(R)))),p(n,["tools"],D)}const C=d(e,["toolConfig"]);if(n!==void 0&&C!=null&&p(n,["toolConfig"],LA(C)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=d(e,["cachedContent"]);n!==void 0&&T!=null&&p(n,["cachedContent"],un(t,T));const k=d(e,["responseModalities"]);k!=null&&p(i,["responseModalities"],k);const E=d(e,["mediaResolution"]);E!=null&&p(i,["mediaResolution"],E);const A=d(e,["speechConfig"]);if(A!=null&&p(i,["speechConfig"],Ud(A)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=d(e,["thinkingConfig"]);N!=null&&p(i,["thinkingConfig"],N);const I=d(e,["imageConfig"]);I!=null&&p(i,["imageConfig"],fA(I));const P=d(e,["enableEnhancedCivicAnswers"]);return P!=null&&p(i,["enableEnhancedCivicAnswers"],P),i}function VN(t,e,n){const i={},o=d(e,["systemInstruction"]);n!==void 0&&o!=null&&p(n,["systemInstruction"],Le(o));const s=d(e,["temperature"]);s!=null&&p(i,["temperature"],s);const r=d(e,["topP"]);r!=null&&p(i,["topP"],r);const l=d(e,["topK"]);l!=null&&p(i,["topK"],l);const a=d(e,["candidateCount"]);a!=null&&p(i,["candidateCount"],a);const c=d(e,["maxOutputTokens"]);c!=null&&p(i,["maxOutputTokens"],c);const u=d(e,["stopSequences"]);u!=null&&p(i,["stopSequences"],u);const h=d(e,["responseLogprobs"]);h!=null&&p(i,["responseLogprobs"],h);const m=d(e,["logprobs"]);m!=null&&p(i,["logprobs"],m);const g=d(e,["presencePenalty"]);g!=null&&p(i,["presencePenalty"],g);const x=d(e,["frequencyPenalty"]);x!=null&&p(i,["frequencyPenalty"],x);const y=d(e,["seed"]);y!=null&&p(i,["seed"],y);const v=d(e,["responseMimeType"]);v!=null&&p(i,["responseMimeType"],v);const _=d(e,["responseSchema"]);_!=null&&p(i,["responseSchema"],Fd(_));const w=d(e,["responseJsonSchema"]);w!=null&&p(i,["responseJsonSchema"],w);const S=d(e,["routingConfig"]);S!=null&&p(i,["routingConfig"],S);const b=d(e,["modelSelectionConfig"]);b!=null&&p(i,["modelConfig"],b);const C=d(e,["safetySettings"]);if(n!==void 0&&C!=null){let V=C;Array.isArray(V)&&(V=V.map($=>$)),p(n,["safetySettings"],V)}const T=d(e,["tools"]);if(n!==void 0&&T!=null){let V=ao(T);Array.isArray(V)&&(V=V.map($=>oy(lo($)))),p(n,["tools"],V)}const k=d(e,["toolConfig"]);n!==void 0&&k!=null&&p(n,["toolConfig"],k);const E=d(e,["labels"]);n!==void 0&&E!=null&&p(n,["labels"],E);const A=d(e,["cachedContent"]);n!==void 0&&A!=null&&p(n,["cachedContent"],un(t,A));const N=d(e,["responseModalities"]);N!=null&&p(i,["responseModalities"],N);const I=d(e,["mediaResolution"]);I!=null&&p(i,["mediaResolution"],I);const P=d(e,["speechConfig"]);P!=null&&p(i,["speechConfig"],Ud(P));const D=d(e,["audioTimestamp"]);D!=null&&p(i,["audioTimestamp"],D);const R=d(e,["thinkingConfig"]);R!=null&&p(i,["thinkingConfig"],R);const F=d(e,["imageConfig"]);if(F!=null&&p(i,["imageConfig"],pA(F)),d(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function Om(t,e){const n={},i=d(e,["model"]);i!=null&&p(n,["_url","model"],X(t,i));const o=d(e,["contents"]);if(o!=null){let r=gt(o);Array.isArray(r)&&(r=r.map(l=>Ql(l))),p(n,["contents"],r)}const s=d(e,["config"]);return s!=null&&p(n,["generationConfig"],BN(t,s,n)),n}function Hm(t,e){const n={},i=d(e,["model"]);i!=null&&p(n,["_url","model"],X(t,i));const o=d(e,["contents"]);if(o!=null){let r=gt(o);Array.isArray(r)&&(r=r.map(l=>l)),p(n,["contents"],r)}const s=d(e,["config"]);return s!=null&&p(n,["generationConfig"],VN(t,s,n)),n}function jm(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=d(t,["candidates"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>aN(c))),p(e,["candidates"],a)}const o=d(t,["modelVersion"]);o!=null&&p(e,["modelVersion"],o);const s=d(t,["promptFeedback"]);s!=null&&p(e,["promptFeedback"],s);const r=d(t,["responseId"]);r!=null&&p(e,["responseId"],r);const l=d(t,["usageMetadata"]);return l!=null&&p(e,["usageMetadata"],l),e}function $m(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=d(t,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(u=>u)),p(e,["candidates"],c)}const o=d(t,["createTime"]);o!=null&&p(e,["createTime"],o);const s=d(t,["modelVersion"]);s!=null&&p(e,["modelVersion"],s);const r=d(t,["promptFeedback"]);r!=null&&p(e,["promptFeedback"],r);const l=d(t,["responseId"]);l!=null&&p(e,["responseId"],l);const a=d(t,["usageMetadata"]);return a!=null&&p(e,["usageMetadata"],a),e}function ON(t,e){const n={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=d(t,["numberOfImages"]);e!==void 0&&i!=null&&p(e,["parameters","sampleCount"],i);const o=d(t,["aspectRatio"]);e!==void 0&&o!=null&&p(e,["parameters","aspectRatio"],o);const s=d(t,["guidanceScale"]);if(e!==void 0&&s!=null&&p(e,["parameters","guidanceScale"],s),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const r=d(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&p(e,["parameters","safetySetting"],r);const l=d(t,["personGeneration"]);e!==void 0&&l!=null&&p(e,["parameters","personGeneration"],l);const a=d(t,["includeSafetyAttributes"]);e!==void 0&&a!=null&&p(e,["parameters","includeSafetyAttributes"],a);const c=d(t,["includeRaiReason"]);e!==void 0&&c!=null&&p(e,["parameters","includeRaiReason"],c);const u=d(t,["language"]);e!==void 0&&u!=null&&p(e,["parameters","language"],u);const h=d(t,["outputMimeType"]);e!==void 0&&h!=null&&p(e,["parameters","outputOptions","mimeType"],h);const m=d(t,["outputCompressionQuality"]);if(e!==void 0&&m!=null&&p(e,["parameters","outputOptions","compressionQuality"],m),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=d(t,["imageSize"]);if(e!==void 0&&g!=null&&p(e,["parameters","sampleImageSize"],g),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function HN(t,e){const n={},i=d(t,["outputGcsUri"]);e!==void 0&&i!=null&&p(e,["parameters","storageUri"],i);const o=d(t,["negativePrompt"]);e!==void 0&&o!=null&&p(e,["parameters","negativePrompt"],o);const s=d(t,["numberOfImages"]);e!==void 0&&s!=null&&p(e,["parameters","sampleCount"],s);const r=d(t,["aspectRatio"]);e!==void 0&&r!=null&&p(e,["parameters","aspectRatio"],r);const l=d(t,["guidanceScale"]);e!==void 0&&l!=null&&p(e,["parameters","guidanceScale"],l);const a=d(t,["seed"]);e!==void 0&&a!=null&&p(e,["parameters","seed"],a);const c=d(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&p(e,["parameters","safetySetting"],c);const u=d(t,["personGeneration"]);e!==void 0&&u!=null&&p(e,["parameters","personGeneration"],u);const h=d(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&p(e,["parameters","includeSafetyAttributes"],h);const m=d(t,["includeRaiReason"]);e!==void 0&&m!=null&&p(e,["parameters","includeRaiReason"],m);const g=d(t,["language"]);e!==void 0&&g!=null&&p(e,["parameters","language"],g);const x=d(t,["outputMimeType"]);e!==void 0&&x!=null&&p(e,["parameters","outputOptions","mimeType"],x);const y=d(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&p(e,["parameters","outputOptions","compressionQuality"],y);const v=d(t,["addWatermark"]);e!==void 0&&v!=null&&p(e,["parameters","addWatermark"],v);const _=d(t,["labels"]);e!==void 0&&_!=null&&p(e,["labels"],_);const w=d(t,["imageSize"]);e!==void 0&&w!=null&&p(e,["parameters","sampleImageSize"],w);const S=d(t,["enhancePrompt"]);return e!==void 0&&S!=null&&p(e,["parameters","enhancePrompt"],S),n}function jN(t,e){const n={},i=d(e,["model"]);i!=null&&p(n,["_url","model"],X(t,i));const o=d(e,["prompt"]);o!=null&&p(n,["instances[0]","prompt"],o);const s=d(e,["config"]);return s!=null&&ON(s,n),n}function $N(t,e){const n={},i=d(e,["model"]);i!=null&&p(n,["_url","model"],X(t,i));const o=d(e,["prompt"]);o!=null&&p(n,["instances[0]","prompt"],o);const s=d(e,["config"]);return s!=null&&HN(s,n),n}function GN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=d(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(r=>iA(r))),p(e,["generatedImages"],s)}const o=d(t,["positivePromptSafetyAttributes"]);return o!=null&&p(e,["positivePromptSafetyAttributes"],ny(o)),e}function qN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=d(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(r=>Xl(r))),p(e,["generatedImages"],s)}const o=d(t,["positivePromptSafetyAttributes"]);return o!=null&&p(e,["positivePromptSafetyAttributes"],iy(o)),e}function WN(t,e){const n={},i=d(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&p(e,["parameters","sampleCount"],i),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=d(t,["durationSeconds"]);if(e!==void 0&&o!=null&&p(e,["parameters","durationSeconds"],o),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=d(t,["aspectRatio"]);e!==void 0&&s!=null&&p(e,["parameters","aspectRatio"],s);const r=d(t,["resolution"]);e!==void 0&&r!=null&&p(e,["parameters","resolution"],r);const l=d(t,["personGeneration"]);if(e!==void 0&&l!=null&&p(e,["parameters","personGeneration"],l),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const a=d(t,["negativePrompt"]);e!==void 0&&a!=null&&p(e,["parameters","negativePrompt"],a);const c=d(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&p(e,["parameters","enhancePrompt"],c),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const u=d(t,["lastFrame"]);e!==void 0&&u!=null&&p(e,["instances[0]","lastFrame"],Zl(u));const h=d(t,["referenceImages"]);if(e!==void 0&&h!=null){let m=h;Array.isArray(m)&&(m=m.map(g=>YA(g))),p(e,["instances[0]","referenceImages"],m)}if(d(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function JN(t,e){const n={},i=d(t,["numberOfVideos"]);e!==void 0&&i!=null&&p(e,["parameters","sampleCount"],i);const o=d(t,["outputGcsUri"]);e!==void 0&&o!=null&&p(e,["parameters","storageUri"],o);const s=d(t,["fps"]);e!==void 0&&s!=null&&p(e,["parameters","fps"],s);const r=d(t,["durationSeconds"]);e!==void 0&&r!=null&&p(e,["parameters","durationSeconds"],r);const l=d(t,["seed"]);e!==void 0&&l!=null&&p(e,["parameters","seed"],l);const a=d(t,["aspectRatio"]);e!==void 0&&a!=null&&p(e,["parameters","aspectRatio"],a);const c=d(t,["resolution"]);e!==void 0&&c!=null&&p(e,["parameters","resolution"],c);const u=d(t,["personGeneration"]);e!==void 0&&u!=null&&p(e,["parameters","personGeneration"],u);const h=d(t,["pubsubTopic"]);e!==void 0&&h!=null&&p(e,["parameters","pubsubTopic"],h);const m=d(t,["negativePrompt"]);e!==void 0&&m!=null&&p(e,["parameters","negativePrompt"],m);const g=d(t,["enhancePrompt"]);e!==void 0&&g!=null&&p(e,["parameters","enhancePrompt"],g);const x=d(t,["generateAudio"]);e!==void 0&&x!=null&&p(e,["parameters","generateAudio"],x);const y=d(t,["lastFrame"]);e!==void 0&&y!=null&&p(e,["instances[0]","lastFrame"],Nt(y));const v=d(t,["referenceImages"]);if(e!==void 0&&v!=null){let S=v;Array.isArray(S)&&(S=S.map(b=>KA(b))),p(e,["instances[0]","referenceImages"],S)}const _=d(t,["mask"]);e!==void 0&&_!=null&&p(e,["instances[0]","mask"],JA(_));const w=d(t,["compressionQuality"]);return e!==void 0&&w!=null&&p(e,["parameters","compressionQuality"],w),n}function YN(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const i=d(t,["metadata"]);i!=null&&p(e,["metadata"],i);const o=d(t,["done"]);o!=null&&p(e,["done"],o);const s=d(t,["error"]);s!=null&&p(e,["error"],s);const r=d(t,["response","generateVideoResponse"]);return r!=null&&p(e,["response"],ZN(r)),e}function KN(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const i=d(t,["metadata"]);i!=null&&p(e,["metadata"],i);const o=d(t,["done"]);o!=null&&p(e,["done"],o);const s=d(t,["error"]);s!=null&&p(e,["error"],s);const r=d(t,["response"]);return r!=null&&p(e,["response"],eA(r)),e}function QN(t,e){const n={},i=d(e,["model"]);i!=null&&p(n,["_url","model"],X(t,i));const o=d(e,["prompt"]);o!=null&&p(n,["instances[0]","prompt"],o);const s=d(e,["image"]);s!=null&&p(n,["instances[0]","image"],Zl(s));const r=d(e,["video"]);r!=null&&p(n,["instances[0]","video"],sy(r));const l=d(e,["source"]);l!=null&&tA(l,n);const a=d(e,["config"]);return a!=null&&WN(a,n),n}function XN(t,e){const n={},i=d(e,["model"]);i!=null&&p(n,["_url","model"],X(t,i));const o=d(e,["prompt"]);o!=null&&p(n,["instances[0]","prompt"],o);const s=d(e,["image"]);s!=null&&p(n,["instances[0]","image"],Nt(s));const r=d(e,["video"]);r!=null&&p(n,["instances[0]","video"],ry(r));const l=d(e,["source"]);l!=null&&nA(l,n);const a=d(e,["config"]);return a!=null&&JN(a,n),n}function ZN(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(r=>sA(r))),p(e,["generatedVideos"],s)}const i=d(t,["raiMediaFilteredCount"]);i!=null&&p(e,["raiMediaFilteredCount"],i);const o=d(t,["raiMediaFilteredReasons"]);return o!=null&&p(e,["raiMediaFilteredReasons"],o),e}function eA(t){const e={},n=d(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(r=>rA(r))),p(e,["generatedVideos"],s)}const i=d(t,["raiMediaFilteredCount"]);i!=null&&p(e,["raiMediaFilteredCount"],i);const o=d(t,["raiMediaFilteredReasons"]);return o!=null&&p(e,["raiMediaFilteredReasons"],o),e}function tA(t,e){const n={},i=d(t,["prompt"]);e!==void 0&&i!=null&&p(e,["instances[0]","prompt"],i);const o=d(t,["image"]);e!==void 0&&o!=null&&p(e,["instances[0]","image"],Zl(o));const s=d(t,["video"]);return e!==void 0&&s!=null&&p(e,["instances[0]","video"],sy(s)),n}function nA(t,e){const n={},i=d(t,["prompt"]);e!==void 0&&i!=null&&p(e,["instances[0]","prompt"],i);const o=d(t,["image"]);e!==void 0&&o!=null&&p(e,["instances[0]","image"],Nt(o));const s=d(t,["video"]);return e!==void 0&&s!=null&&p(e,["instances[0]","video"],ry(s)),n}function iA(t){const e={},n=d(t,["_self"]);n!=null&&p(e,["image"],hA(n));const i=d(t,["raiFilteredReason"]);i!=null&&p(e,["raiFilteredReason"],i);const o=d(t,["_self"]);return o!=null&&p(e,["safetyAttributes"],ny(o)),e}function Xl(t){const e={},n=d(t,["_self"]);n!=null&&p(e,["image"],ty(n));const i=d(t,["raiFilteredReason"]);i!=null&&p(e,["raiFilteredReason"],i);const o=d(t,["_self"]);o!=null&&p(e,["safetyAttributes"],iy(o));const s=d(t,["prompt"]);return s!=null&&p(e,["enhancedPrompt"],s),e}function oA(t){const e={},n=d(t,["_self"]);n!=null&&p(e,["mask"],ty(n));const i=d(t,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),p(e,["labels"],o)}return e}function sA(t){const e={},n=d(t,["video"]);return n!=null&&p(e,["video"],qA(n)),e}function rA(t){const e={},n=d(t,["_self"]);return n!=null&&p(e,["video"],WA(n)),e}function lA(t){const e={},n=d(t,["modelSelectionConfig"]);n!=null&&p(e,["modelConfig"],n);const i=d(t,["responseJsonSchema"]);i!=null&&p(e,["responseJsonSchema"],i);const o=d(t,["audioTimestamp"]);o!=null&&p(e,["audioTimestamp"],o);const s=d(t,["candidateCount"]);s!=null&&p(e,["candidateCount"],s);const r=d(t,["enableAffectiveDialog"]);r!=null&&p(e,["enableAffectiveDialog"],r);const l=d(t,["frequencyPenalty"]);l!=null&&p(e,["frequencyPenalty"],l);const a=d(t,["logprobs"]);a!=null&&p(e,["logprobs"],a);const c=d(t,["maxOutputTokens"]);c!=null&&p(e,["maxOutputTokens"],c);const u=d(t,["mediaResolution"]);u!=null&&p(e,["mediaResolution"],u);const h=d(t,["presencePenalty"]);h!=null&&p(e,["presencePenalty"],h);const m=d(t,["responseLogprobs"]);m!=null&&p(e,["responseLogprobs"],m);const g=d(t,["responseMimeType"]);g!=null&&p(e,["responseMimeType"],g);const x=d(t,["responseModalities"]);x!=null&&p(e,["responseModalities"],x);const y=d(t,["responseSchema"]);y!=null&&p(e,["responseSchema"],y);const v=d(t,["routingConfig"]);v!=null&&p(e,["routingConfig"],v);const _=d(t,["seed"]);_!=null&&p(e,["seed"],_);const w=d(t,["speechConfig"]);w!=null&&p(e,["speechConfig"],w);const S=d(t,["stopSequences"]);S!=null&&p(e,["stopSequences"],S);const b=d(t,["temperature"]);b!=null&&p(e,["temperature"],b);const C=d(t,["thinkingConfig"]);C!=null&&p(e,["thinkingConfig"],C);const T=d(t,["topK"]);T!=null&&p(e,["topK"],T);const k=d(t,["topP"]);if(k!=null&&p(e,["topP"],k),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function aA(t,e){const n={},i=d(e,["model"]);return i!=null&&p(n,["_url","name"],X(t,i)),n}function cA(t,e){const n={},i=d(e,["model"]);return i!=null&&p(n,["_url","name"],X(t,i)),n}function uA(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function dA(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function fA(t){const e={},n=d(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const i=d(t,["imageSize"]);if(i!=null&&p(e,["imageSize"],i),d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function pA(t){const e={},n=d(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const i=d(t,["imageSize"]);i!=null&&p(e,["imageSize"],i);const o=d(t,["outputMimeType"]);o!=null&&p(e,["imageOutputOptions","mimeType"],o);const s=d(t,["outputCompressionQuality"]);return s!=null&&p(e,["imageOutputOptions","compressionQuality"],s),e}function hA(t){const e={},n=d(t,["bytesBase64Encoded"]);n!=null&&p(e,["imageBytes"],Vn(n));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function ty(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const i=d(t,["bytesBase64Encoded"]);i!=null&&p(e,["imageBytes"],Vn(i));const o=d(t,["mimeType"]);return o!=null&&p(e,["mimeType"],o),e}function Zl(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=d(t,["imageBytes"]);n!=null&&p(e,["bytesBase64Encoded"],Vn(n));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function Nt(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const i=d(t,["imageBytes"]);i!=null&&p(e,["bytesBase64Encoded"],Vn(i));const o=d(t,["mimeType"]);return o!=null&&p(e,["mimeType"],o),e}function mA(t,e,n){const i={},o=d(e,["pageSize"]);n!==void 0&&o!=null&&p(n,["_query","pageSize"],o);const s=d(e,["pageToken"]);n!==void 0&&s!=null&&p(n,["_query","pageToken"],s);const r=d(e,["filter"]);n!==void 0&&r!=null&&p(n,["_query","filter"],r);const l=d(e,["queryBase"]);return n!==void 0&&l!=null&&p(n,["_url","models_url"],Jv(t,l)),i}function gA(t,e,n){const i={},o=d(e,["pageSize"]);n!==void 0&&o!=null&&p(n,["_query","pageSize"],o);const s=d(e,["pageToken"]);n!==void 0&&s!=null&&p(n,["_query","pageToken"],s);const r=d(e,["filter"]);n!==void 0&&r!=null&&p(n,["_query","filter"],r);const l=d(e,["queryBase"]);return n!==void 0&&l!=null&&p(n,["_url","models_url"],Jv(t,l)),i}function xA(t,e){const n={},i=d(e,["config"]);return i!=null&&mA(t,i,n),n}function vA(t,e){const n={},i=d(e,["config"]);return i!=null&&gA(t,i,n),n}function yA(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=d(t,["nextPageToken"]);i!=null&&p(e,["nextPageToken"],i);const o=d(t,["_self"]);if(o!=null){let s=Yv(o);Array.isArray(s)&&(s=s.map(r=>nu(r))),p(e,["models"],s)}return e}function _A(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=d(t,["nextPageToken"]);i!=null&&p(e,["nextPageToken"],i);const o=d(t,["_self"]);if(o!=null){let s=Yv(o);Array.isArray(s)&&(s=s.map(r=>iu(r))),p(e,["models"],s)}return e}function wA(t){const e={},n=d(t,["maskMode"]);n!=null&&p(e,["maskMode"],n);const i=d(t,["segmentationClasses"]);i!=null&&p(e,["maskClasses"],i);const o=d(t,["maskDilation"]);return o!=null&&p(e,["dilation"],o),e}function nu(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const i=d(t,["displayName"]);i!=null&&p(e,["displayName"],i);const o=d(t,["description"]);o!=null&&p(e,["description"],o);const s=d(t,["version"]);s!=null&&p(e,["version"],s);const r=d(t,["_self"]);r!=null&&p(e,["tunedModelInfo"],FA(r));const l=d(t,["inputTokenLimit"]);l!=null&&p(e,["inputTokenLimit"],l);const a=d(t,["outputTokenLimit"]);a!=null&&p(e,["outputTokenLimit"],a);const c=d(t,["supportedGenerationMethods"]);c!=null&&p(e,["supportedActions"],c);const u=d(t,["temperature"]);u!=null&&p(e,["temperature"],u);const h=d(t,["maxTemperature"]);h!=null&&p(e,["maxTemperature"],h);const m=d(t,["topP"]);m!=null&&p(e,["topP"],m);const g=d(t,["topK"]);g!=null&&p(e,["topK"],g);const x=d(t,["thinking"]);return x!=null&&p(e,["thinking"],x),e}function iu(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const i=d(t,["displayName"]);i!=null&&p(e,["displayName"],i);const o=d(t,["description"]);o!=null&&p(e,["description"],o);const s=d(t,["versionId"]);s!=null&&p(e,["version"],s);const r=d(t,["deployedModels"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(m=>DN(m))),p(e,["endpoints"],h)}const l=d(t,["labels"]);l!=null&&p(e,["labels"],l);const a=d(t,["_self"]);a!=null&&p(e,["tunedModelInfo"],UA(a));const c=d(t,["defaultCheckpointId"]);c!=null&&p(e,["defaultCheckpointId"],c);const u=d(t,["checkpoints"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(m=>m)),p(e,["checkpoints"],h)}return e}function SA(t){const e={},n=d(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const i=d(t,["codeExecutionResult"]);i!=null&&p(e,["codeExecutionResult"],i);const o=d(t,["executableCode"]);o!=null&&p(e,["executableCode"],o);const s=d(t,["fileData"]);s!=null&&p(e,["fileData"],LN(s));const r=d(t,["functionCall"]);r!=null&&p(e,["functionCall"],zN(r));const l=d(t,["functionResponse"]);l!=null&&p(e,["functionResponse"],l);const a=d(t,["inlineData"]);a!=null&&p(e,["inlineData"],lN(a));const c=d(t,["text"]);c!=null&&p(e,["text"],c);const u=d(t,["thought"]);u!=null&&p(e,["thought"],u);const h=d(t,["thoughtSignature"]);h!=null&&p(e,["thoughtSignature"],h);const m=d(t,["videoMetadata"]);return m!=null&&p(e,["videoMetadata"],m),e}function bA(t){const e={},n=d(t,["productImage"]);return n!=null&&p(e,["image"],Nt(n)),e}function CA(t,e){const n={},i=d(t,["numberOfImages"]);e!==void 0&&i!=null&&p(e,["parameters","sampleCount"],i);const o=d(t,["baseSteps"]);e!==void 0&&o!=null&&p(e,["parameters","baseSteps"],o);const s=d(t,["outputGcsUri"]);e!==void 0&&s!=null&&p(e,["parameters","storageUri"],s);const r=d(t,["seed"]);e!==void 0&&r!=null&&p(e,["parameters","seed"],r);const l=d(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&p(e,["parameters","safetySetting"],l);const a=d(t,["personGeneration"]);e!==void 0&&a!=null&&p(e,["parameters","personGeneration"],a);const c=d(t,["addWatermark"]);e!==void 0&&c!=null&&p(e,["parameters","addWatermark"],c);const u=d(t,["outputMimeType"]);e!==void 0&&u!=null&&p(e,["parameters","outputOptions","mimeType"],u);const h=d(t,["outputCompressionQuality"]);e!==void 0&&h!=null&&p(e,["parameters","outputOptions","compressionQuality"],h);const m=d(t,["enhancePrompt"]);e!==void 0&&m!=null&&p(e,["parameters","enhancePrompt"],m);const g=d(t,["labels"]);return e!==void 0&&g!=null&&p(e,["labels"],g),n}function TA(t,e){const n={},i=d(e,["model"]);i!=null&&p(n,["_url","model"],X(t,i));const o=d(e,["source"]);o!=null&&IA(o,n);const s=d(e,["config"]);return s!=null&&CA(s,n),n}function kA(t){const e={},n=d(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Xl(o))),p(e,["generatedImages"],i)}return e}function IA(t,e){const n={},i=d(t,["prompt"]);e!==void 0&&i!=null&&p(e,["instances[0]","prompt"],i);const o=d(t,["personImage"]);e!==void 0&&o!=null&&p(e,["instances[0]","personImage","image"],Nt(o));const s=d(t,["productImages"]);if(e!==void 0&&s!=null){let r=s;Array.isArray(r)&&(r=r.map(l=>bA(l))),p(e,["instances[0]","productImages"],r)}return n}function EA(t){const e={},n=d(t,["referenceImage"]);n!=null&&p(e,["referenceImage"],Nt(n));const i=d(t,["referenceId"]);i!=null&&p(e,["referenceId"],i);const o=d(t,["referenceType"]);o!=null&&p(e,["referenceType"],o);const s=d(t,["maskImageConfig"]);s!=null&&p(e,["maskImageConfig"],wA(s));const r=d(t,["controlImageConfig"]);r!=null&&p(e,["controlImageConfig"],hN(r));const l=d(t,["styleImageConfig"]);l!=null&&p(e,["styleImageConfig"],l);const a=d(t,["subjectImageConfig"]);return a!=null&&p(e,["subjectImageConfig"],a),e}function ny(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const i=d(t,["safetyAttributes","scores"]);i!=null&&p(e,["scores"],i);const o=d(t,["contentType"]);return o!=null&&p(e,["contentType"],o),e}function iy(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const i=d(t,["safetyAttributes","scores"]);i!=null&&p(e,["scores"],i);const o=d(t,["contentType"]);return o!=null&&p(e,["contentType"],o),e}function NA(t){const e={},n=d(t,["category"]);if(n!=null&&p(e,["category"],n),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=d(t,["threshold"]);return i!=null&&p(e,["threshold"],i),e}function AA(t){const e={},n=d(t,["image"]);return n!=null&&p(e,["image"],Nt(n)),e}function MA(t,e){const n={},i=d(t,["mode"]);e!==void 0&&i!=null&&p(e,["parameters","mode"],i);const o=d(t,["maxPredictions"]);e!==void 0&&o!=null&&p(e,["parameters","maxPredictions"],o);const s=d(t,["confidenceThreshold"]);e!==void 0&&s!=null&&p(e,["parameters","confidenceThreshold"],s);const r=d(t,["maskDilation"]);e!==void 0&&r!=null&&p(e,["parameters","maskDilation"],r);const l=d(t,["binaryColorThreshold"]);e!==void 0&&l!=null&&p(e,["parameters","binaryColorThreshold"],l);const a=d(t,["labels"]);return e!==void 0&&a!=null&&p(e,["labels"],a),n}function PA(t,e){const n={},i=d(e,["model"]);i!=null&&p(n,["_url","model"],X(t,i));const o=d(e,["source"]);o!=null&&DA(o,n);const s=d(e,["config"]);return s!=null&&MA(s,n),n}function RA(t){const e={},n=d(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>oA(o))),p(e,["generatedMasks"],i)}return e}function DA(t,e){const n={},i=d(t,["prompt"]);e!==void 0&&i!=null&&p(e,["instances[0]","prompt"],i);const o=d(t,["image"]);e!==void 0&&o!=null&&p(e,["instances[0]","image"],Nt(o));const s=d(t,["scribbleImage"]);return e!==void 0&&s!=null&&p(e,["instances[0]","scribble"],AA(s)),n}function LA(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],FN(n));const i=d(t,["retrievalConfig"]);return i!=null&&p(e,["retrievalConfig"],i),e}function zA(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(h=>h)),p(e,["functionDeclarations"],u)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(t,["googleSearchRetrieval"]);i!=null&&p(e,["googleSearchRetrieval"],i);const o=d(t,["computerUse"]);o!=null&&p(e,["computerUse"],o);const s=d(t,["fileSearch"]);s!=null&&p(e,["fileSearch"],s);const r=d(t,["codeExecution"]);if(r!=null&&p(e,["codeExecution"],r),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["googleMaps"]);l!=null&&p(e,["googleMaps"],uA(l));const a=d(t,["googleSearch"]);a!=null&&p(e,["googleSearch"],dA(a));const c=d(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function oy(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>UN(m))),p(e,["functionDeclarations"],h)}const i=d(t,["retrieval"]);i!=null&&p(e,["retrieval"],i);const o=d(t,["googleSearchRetrieval"]);o!=null&&p(e,["googleSearchRetrieval"],o);const s=d(t,["computerUse"]);if(s!=null&&p(e,["computerUse"],s),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=d(t,["codeExecution"]);r!=null&&p(e,["codeExecution"],r);const l=d(t,["enterpriseWebSearch"]);l!=null&&p(e,["enterpriseWebSearch"],l);const a=d(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],a);const c=d(t,["googleSearch"]);c!=null&&p(e,["googleSearch"],c);const u=d(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function FA(t){const e={},n=d(t,["baseModel"]);n!=null&&p(e,["baseModel"],n);const i=d(t,["createTime"]);i!=null&&p(e,["createTime"],i);const o=d(t,["updateTime"]);return o!=null&&p(e,["updateTime"],o),e}function UA(t){const e={},n=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&p(e,["baseModel"],n);const i=d(t,["createTime"]);i!=null&&p(e,["createTime"],i);const o=d(t,["updateTime"]);return o!=null&&p(e,["updateTime"],o),e}function BA(t,e){const n={},i=d(t,["displayName"]);e!==void 0&&i!=null&&p(e,["displayName"],i);const o=d(t,["description"]);e!==void 0&&o!=null&&p(e,["description"],o);const s=d(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&p(e,["defaultCheckpointId"],s),n}function VA(t,e){const n={},i=d(t,["displayName"]);e!==void 0&&i!=null&&p(e,["displayName"],i);const o=d(t,["description"]);e!==void 0&&o!=null&&p(e,["description"],o);const s=d(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&p(e,["defaultCheckpointId"],s),n}function OA(t,e){const n={},i=d(e,["model"]);i!=null&&p(n,["_url","name"],X(t,i));const o=d(e,["config"]);return o!=null&&BA(o,n),n}function HA(t,e){const n={},i=d(e,["model"]);i!=null&&p(n,["_url","model"],X(t,i));const o=d(e,["config"]);return o!=null&&VA(o,n),n}function jA(t,e){const n={},i=d(t,["outputGcsUri"]);e!==void 0&&i!=null&&p(e,["parameters","storageUri"],i);const o=d(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&p(e,["parameters","safetySetting"],o);const s=d(t,["personGeneration"]);e!==void 0&&s!=null&&p(e,["parameters","personGeneration"],s);const r=d(t,["includeRaiReason"]);e!==void 0&&r!=null&&p(e,["parameters","includeRaiReason"],r);const l=d(t,["outputMimeType"]);e!==void 0&&l!=null&&p(e,["parameters","outputOptions","mimeType"],l);const a=d(t,["outputCompressionQuality"]);e!==void 0&&a!=null&&p(e,["parameters","outputOptions","compressionQuality"],a);const c=d(t,["enhanceInputImage"]);e!==void 0&&c!=null&&p(e,["parameters","upscaleConfig","enhanceInputImage"],c);const u=d(t,["imagePreservationFactor"]);e!==void 0&&u!=null&&p(e,["parameters","upscaleConfig","imagePreservationFactor"],u);const h=d(t,["labels"]);e!==void 0&&h!=null&&p(e,["labels"],h);const m=d(t,["numberOfImages"]);e!==void 0&&m!=null&&p(e,["parameters","sampleCount"],m);const g=d(t,["mode"]);return e!==void 0&&g!=null&&p(e,["parameters","mode"],g),n}function $A(t,e){const n={},i=d(e,["model"]);i!=null&&p(n,["_url","model"],X(t,i));const o=d(e,["image"]);o!=null&&p(n,["instances[0]","image"],Nt(o));const s=d(e,["upscaleFactor"]);s!=null&&p(n,["parameters","upscaleConfig","upscaleFactor"],s);const r=d(e,["config"]);return r!=null&&jA(r,n),n}function GA(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=d(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Xl(s))),p(e,["generatedImages"],o)}return e}function qA(t){const e={},n=d(t,["uri"]);n!=null&&p(e,["uri"],n);const i=d(t,["encodedVideo"]);i!=null&&p(e,["videoBytes"],Vn(i));const o=d(t,["encoding"]);return o!=null&&p(e,["mimeType"],o),e}function WA(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const i=d(t,["bytesBase64Encoded"]);i!=null&&p(e,["videoBytes"],Vn(i));const o=d(t,["mimeType"]);return o!=null&&p(e,["mimeType"],o),e}function JA(t){const e={},n=d(t,["image"]);n!=null&&p(e,["_self"],Nt(n));const i=d(t,["maskMode"]);return i!=null&&p(e,["maskMode"],i),e}function YA(t){const e={},n=d(t,["image"]);n!=null&&p(e,["image"],Zl(n));const i=d(t,["referenceType"]);return i!=null&&p(e,["referenceType"],i),e}function KA(t){const e={},n=d(t,["image"]);n!=null&&p(e,["image"],Nt(n));const i=d(t,["referenceType"]);return i!=null&&p(e,["referenceType"],i),e}function sy(t){const e={},n=d(t,["uri"]);n!=null&&p(e,["uri"],n);const i=d(t,["videoBytes"]);i!=null&&p(e,["encodedVideo"],Vn(i));const o=d(t,["mimeType"]);return o!=null&&p(e,["encoding"],o),e}function ry(t){const e={},n=d(t,["uri"]);n!=null&&p(e,["gcsUri"],n);const i=d(t,["videoBytes"]);i!=null&&p(e,["bytesBase64Encoded"],Vn(i));const o=d(t,["mimeType"]);return o!=null&&p(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QA(t,e){const n={},i=d(t,["displayName"]);return e!==void 0&&i!=null&&p(e,["displayName"],i),n}function XA(t){const e={},n=d(t,["config"]);return n!=null&&QA(n,e),e}function ZA(t,e){const n={},i=d(t,["force"]);return e!==void 0&&i!=null&&p(e,["_query","force"],i),n}function eM(t){const e={},n=d(t,["name"]);n!=null&&p(e,["_url","name"],n);const i=d(t,["config"]);return i!=null&&ZA(i,e),e}function tM(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function nM(t,e){const n={},i=d(t,["customMetadata"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(r=>r)),p(e,["customMetadata"],s)}const o=d(t,["chunkingConfig"]);return e!==void 0&&o!=null&&p(e,["chunkingConfig"],o),n}function iM(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const i=d(t,["metadata"]);i!=null&&p(e,["metadata"],i);const o=d(t,["done"]);o!=null&&p(e,["done"],o);const s=d(t,["error"]);s!=null&&p(e,["error"],s);const r=d(t,["response"]);return r!=null&&p(e,["response"],sM(r)),e}function oM(t){const e={},n=d(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const i=d(t,["fileName"]);i!=null&&p(e,["fileName"],i);const o=d(t,["config"]);return o!=null&&nM(o,e),e}function sM(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=d(t,["parent"]);i!=null&&p(e,["parent"],i);const o=d(t,["documentName"]);return o!=null&&p(e,["documentName"],o),e}function rM(t,e){const n={},i=d(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&p(e,["_query","pageToken"],o),n}function lM(t){const e={},n=d(t,["config"]);return n!=null&&rM(n,e),e}function aM(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=d(t,["nextPageToken"]);i!=null&&p(e,["nextPageToken"],i);const o=d(t,["fileSearchStores"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),p(e,["fileSearchStores"],s)}return e}function ly(t,e){const n={},i=d(t,["mimeType"]);e!==void 0&&i!=null&&p(e,["mimeType"],i);const o=d(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const s=d(t,["customMetadata"]);if(e!==void 0&&s!=null){let l=s;Array.isArray(l)&&(l=l.map(a=>a)),p(e,["customMetadata"],l)}const r=d(t,["chunkingConfig"]);return e!==void 0&&r!=null&&p(e,["chunkingConfig"],r),n}function cM(t){const e={},n=d(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const i=d(t,["config"]);return i!=null&&ly(i,e),e}function uM(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dM="Content-Type",fM="X-Server-Timeout",pM="User-Agent",ou="x-goog-api-client",hM="1.34.0",mM=`google-genai-sdk/${hM}`,gM="v1beta1",xM="v1beta";class vM{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:gM,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:xM,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const o=[this.getRequestUrlInternal(n)];return i&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[r,l]of Object.entries(e.queryParams))o.searchParams.append(r,String(l));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,o.toString(),e.abortSignal),this.unaryApiCall(o,s,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[o,s]of Object.entries(n))typeof s=="object"?i[o]=Object.assign(Object.assign({},i[o]),s):s!==void 0&&(i[o]=s);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,o.toString(),e.abortSignal),this.streamApiCall(o,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i,o){if(n&&n.timeout||o){const s=new AbortController,r=s.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const l=setTimeout(()=>s.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}o&&o.addEventListener("abort",()=>{s.abort()}),e.signal=r}return n&&n.extraBody!==null&&yM(e,n.extraBody),e.headers=await this.getHeadersInternal(n,i),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await Gm(o),new Zc(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await Gm(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){return kt(this,arguments,function*(){var i;const o=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),s=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let r="";const l="data:",a=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:c,value:u}=yield q(o.read());if(c){if(r.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=s.decode(u,{stream:!0});try{const x=JSON.parse(h);if("error"in x){const y=JSON.parse(JSON.stringify(x.error)),v=y.status,_=y.code,w=`got status: ${v}. ${JSON.stringify(x)}`;if(_>=400&&_<600)throw new Kl({message:w,status:_})}}catch(x){if(x.name==="ApiError")throw x}r+=h;let m=-1,g=0;for(;;){m=-1,g=0;for(const v of a){const _=r.indexOf(v);_!==-1&&(m===-1||_<m)&&(m=_,g=v.length)}if(m===-1)break;const x=r.substring(0,m);r=r.substring(m+g);const y=x.trim();if(y.startsWith(l)){const v=y.substring(l.length).trim();try{const _=new Response(v,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield q(new Zc(_))}catch(_){throw new Error(`exception parsing stream chunk ${v}. ${_}`)}}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=mM+" "+this.clientOptions.userAgentExtra;return e[pM]=n,e[ou]=n,e[dM]="application/json",e}async getHeadersInternal(e,n){const i=new Headers;if(e&&e.headers){for(const[o,s]of Object.entries(e.headers))i.append(o,s);e.timeout&&e.timeout>0&&i.append(fM,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(e){var n;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(e,n){var i;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const s=this.clientOptions.uploader,r=await s.stat(e);o.sizeBytes=String(r.size);const l=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:r.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=l;const a={file:o},c=this.getFileName(e),u=O("upload/v1beta/files",a._url),h=await this.fetchUploadUrl(u,o.sizeBytes,o.mimeType,c,a,n==null?void 0:n.httpOptions);return s.upload(e,h,this)}async uploadFileToFileSearchStore(e,n,i){var o;const s=this.clientOptions.uploader,r=await s.stat(n),l=String(r.size),a=(o=i==null?void 0:i.mimeType)!==null&&o!==void 0?o:r.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const c=`upload/v1beta/${e}:uploadToFileSearchStore`,u=this.getFileName(n),h={};i!=null&&ly(i,h);const m=await this.fetchUploadUrl(c,l,a,u,h,i==null?void 0:i.httpOptions);return s.uploadToFileSearchStore(n,m,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,i,o,s,r){var l;let a={};r?a=r:a={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},o?{"X-Goog-Upload-File-Name":o}:{})};const c=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:a});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(l=c==null?void 0:c.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function Gm(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(i);throw n>=400&&n<600?new Kl({message:o,status:n}):new Error(o)}}function yM(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(s,r){const l=Object.assign({},s);for(const a in r)if(Object.prototype.hasOwnProperty.call(r,a)){const c=r[a],u=l[a];c&&typeof c=="object"&&!Array.isArray(c)&&u&&typeof u=="object"&&!Array.isArray(u)?l[a]=i(u,c):(u&&c&&typeof u!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${a}". Original type: ${typeof u}, New type: ${typeof c}. Overwriting.`),l[a]=c)}return l}const o=i(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _M="mcp_used/unknown";let wM=!1;function ay(t){for(const e of t)if(SM(e)||typeof e=="object"&&"inputSchema"in e)return!0;return wM}function cy(t){var e;const n=(e=t[ou])!==null&&e!==void 0?e:"";t[ou]=(n+` ${_M}`).trimStart()}function SM(t){return t!==null&&typeof t=="object"&&t instanceof Vd}function bM(t){return kt(this,arguments,function*(n,i=100){let o,s=0;for(;s<i;){const r=yield q(n.listTools({cursor:o}));for(const l of r.tools)yield yield q(l),s++;if(!r.nextCursor)break;o=r.nextCursor}})}class Vd{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Vd(e,n)}async initialize(){var e,n,i,o;if(this.mcpTools.length>0)return;const s={},r=[];for(const u of this.mcpClients)try{for(var l=!0,a=(n=void 0,It(bM(u))),c;c=await a.next(),e=c.done,!e;l=!0){o=c.value,l=!1;const h=o;r.push(h);const m=h.name;if(s[m])throw new Error(`Duplicate function name ${m} found in MCP tools. Please ensure function names are unique.`);s[m]=u}}catch(h){n={error:h}}finally{try{!l&&!e&&(i=a.return)&&await i.call(a)}finally{if(n)throw n.error}}this.mcpTools=r,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),t2(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[i.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const r=await o.callTool({name:i.name,arguments:i.args},void 0,s);n.push({functionResponse:{name:i.name,response:r.isError?{error:r}:r}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function CM(t,e,n){const i=new WI;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(i,o),e(i)}class TM{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),r=EM(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),a=`${o}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${l}`;let c=()=>{};const u=new Promise(S=>{c=S}),h=e.callbacks,m=function(){c({})},g=this.apiClient,x={onopen:m,onmessage:S=>{CM(g,h.onmessage,S)},onerror:(n=h==null?void 0:h.onerror)!==null&&n!==void 0?n:function(S){},onclose:(i=h==null?void 0:h.onclose)!==null&&i!==void 0?i:function(S){}},y=this.webSocketFactory.create(a,IM(r),x);y.connect(),await u;const w={setup:{model:X(this.apiClient,e.model)}};return y.send(JSON.stringify(w)),new kM(y,this.apiClient)}}class kM{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=XE(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=QE(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ri.PLAY)}pause(){this.sendPlaybackControl(Ri.PAUSE)}stop(){this.sendPlaybackControl(Ri.STOP)}resetContext(){this.sendPlaybackControl(Ri.RESET_CONTEXT)}close(){this.conn.close()}}function IM(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function EM(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NM="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function AM(t,e,n){const i=new qI;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const s=JSON.parse(o);if(t.isVertexAI()){const r=tN(s);Object.assign(i,r)}else Object.assign(i,s);e(i)}class MM{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new TM(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,o,s,r,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const a=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let u;const h=this.apiClient.getHeaders();e.config&&e.config.tools&&ay(e.config.tools)&&cy(h);const m=LM(h);if(this.apiClient.isVertexAI())u=`${a}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(m,u);else{const A=this.apiClient.getApiKey();let N="BidiGenerateContent",I="key";A!=null&&A.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),N="BidiGenerateContentConstrained",I="access_token"),u=`${a}/ws/google.ai.generativelanguage.${c}.GenerativeService.${N}?${I}=${A}`}let g=()=>{};const x=new Promise(A=>{g=A}),y=e.callbacks,v=function(){var A;(A=y==null?void 0:y.onopen)===null||A===void 0||A.call(y),g({})},_=this.apiClient,w={onopen:v,onmessage:A=>{AM(_,y.onmessage,A)},onerror:(n=y==null?void 0:y.onerror)!==null&&n!==void 0?n:function(A){},onclose:(i=y==null?void 0:y.onclose)!==null&&i!==void 0?i:function(A){}},S=this.webSocketFactory.create(u,DM(m),w);S.connect(),await x;let b=X(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&b.startsWith("publishers/")){const A=this.apiClient.getProject(),N=this.apiClient.getLocation();b=`projects/${A}/locations/${N}/`+b}let C={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[xl.AUDIO]}:e.config.responseModalities=[xl.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const T=(l=(r=e.config)===null||r===void 0?void 0:r.tools)!==null&&l!==void 0?l:[],k=[];for(const A of T)if(this.isCallableTool(A)){const N=A;k.push(await N.tool())}else k.push(A);k.length>0&&(e.config.tools=k);const E={model:b,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?C=KE(this.apiClient,E):C=YE(this.apiClient,E),delete C.config,S.send(JSON.stringify(C)),new RM(S,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const PM={turnComplete:!0};class RM{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=gt(n.turns),e.isVertexAI()||(i=i.map(o=>Ql(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const s of i){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(NM)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},PM),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:eN(e)}:n={realtimeInput:ZE(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function DM(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function LM(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qm=10;function Wm(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const r of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(qi(r)){o=!0;break}if(!o)return!0;const s=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function qi(t){return"callTool"in t&&typeof t.callTool=="function"}function zM(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>qi(o)))!==null&&i!==void 0?i:!1}function Jm(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((i,o)=>{if(qi(i))return;const s=i;s.functionDeclarations&&s.functionDeclarations.length>0&&n.push(o)}),n}function Ym(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FM extends cn{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,o,s,r,l;const a=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!zM(n)||Wm(n.config))return await this.generateContentInternal(a);const c=Jm(n);if(c.length>0){const y=c.map(v=>`tools[${v}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${y}.`)}let u,h;const m=gt(a.contents),g=(s=(o=(i=a.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&s!==void 0?s:qm;let x=0;for(;x<g&&(u=await this.generateContentInternal(a),!(!u.functionCalls||u.functionCalls.length===0));){const y=u.candidates[0].content,v=[];for(const _ of(l=(r=n.config)===null||r===void 0?void 0:r.tools)!==null&&l!==void 0?l:[])if(qi(_)){const S=await _.callTool(u.functionCalls);v.push(...S)}x++,h={role:"user",parts:v},a.contents=gt(a.contents),a.contents.push(y),a.contents.push(h),Ym(a.config)&&(m.push(y),m.push(h))}return Ym(a.config)&&(u.automaticFunctionCallingHistory=m),u},this.generateContentStream=async n=>{var i,o,s,r,l;if(this.maybeMoveToResponseJsonSchem(n),Wm(n.config)){const h=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(h)}const a=Jm(n);if(a.length>0){const h=a.map(m=>`tools[${m}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const c=(s=(o=(i=n==null?void 0:n.config)===null||i===void 0?void 0:i.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,u=(l=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||l===void 0?void 0:l.disable;if(c&&!u)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var o;let s;const r=[];if(i!=null&&i.generatedImages)for(const a of i.generatedImages)a&&(a!=null&&a.safetyAttributes)&&((o=a==null?void 0:a.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?s=a==null?void 0:a.safetyAttributes:r.push(a);let l;return s?l={generatedImages:r,positivePromptSafetyAttributes:s,sdkHttpResponse:i.sdkHttpResponse}:l={generatedImages:r,sdkHttpResponse:i.sdkHttpResponse},l}),this.list=async n=>{var i;const r={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!r.config.queryBase){if(!((i=r.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");r.config.filter="labels.tune-type:*"}return new gi(rn.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(r),r)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var i,o,s,r,l,a;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((o=n.video)===null||o===void 0)&&o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((r=(s=n.source)===null||s===void 0?void 0:s.video)===null||r===void 0)&&r.uri&&(!((a=(l=n.source)===null||l===void 0?void 0:l.video)===null||a===void 0)&&a.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,o;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const r=await Promise.all(s.map(async a=>qi(a)?await a.tool():a)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:r})};if(l.config.tools=r,e.config&&e.config.tools&&ay(e.config.tools)){const a=(o=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let c=Object.assign({},a);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),cy(c),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return l}async initAfcToolsMap(e){var n,i,o;const s=new Map;for(const r of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(qi(r)){const l=r,a=await l.tool();for(const c of(o=a.functionDeclarations)!==null&&o!==void 0?o:[]){if(!c.name)throw new Error("Function declaration name is required.");if(s.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);s.set(c.name,l)}}return s}async processAfcStream(e){var n,i,o;const s=(o=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:qm;let r=!1,l=0;const a=await this.initAfcToolsMap(e);return function(c,u,h){return kt(this,arguments,function*(){for(var m,g,x,y,v,_;l<s;){r&&(l++,r=!1);const C=yield q(c.processParamsMaybeAddMcpUsage(h)),T=yield q(c.generateContentStreamInternal(C)),k=[],E=[];try{for(var w=!0,S=(g=void 0,It(T)),b;b=yield q(S.next()),m=b.done,!m;w=!0){y=b.value,w=!1;const A=y;if(yield yield q(A),A.candidates&&(!((v=A.candidates[0])===null||v===void 0)&&v.content)){E.push(A.candidates[0].content);for(const N of(_=A.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(l<s&&N.functionCall){if(!N.functionCall.name)throw new Error("Function call name was not returned by the model.");if(u.has(N.functionCall.name)){const I=yield q(u.get(N.functionCall.name).callTool([N.functionCall]));k.push(...I)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${u.keys()}, mising tool: ${N.functionCall.name}`)}}}}catch(A){g={error:A}}finally{try{!w&&!m&&(x=S.return)&&(yield q(x.call(S)))}finally{if(g)throw g.error}}if(k.length>0){r=!0;const A=new Eo;A.candidates=[{content:{role:"user",parts:k}}],yield yield q(A);const N=[];N.push(...E),N.push({role:"user",parts:k});const I=gt(h.contents).concat(N);h.contents=I}else break}})}(this,a,e)}async generateContentInternal(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const c=Hm(this.apiClient,e);return l=O("{model}:generateContent",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:u.headers},m})),r.then(u=>{const h=$m(u),m=new Eo;return Object.assign(m,h),m})}else{const c=Om(this.apiClient,e);return l=O("{model}:generateContent",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:u.headers},m})),r.then(u=>{const h=jm(u),m=new Eo;return Object.assign(m,h),m})}}async generateContentStreamInternal(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const c=Hm(this.apiClient,e);return l=O("{model}:streamGenerateContent?alt=sse",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.requestStream({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),r.then(function(h){return kt(this,arguments,function*(){var m,g,x,y;try{for(var v=!0,_=It(h),w;w=yield q(_.next()),m=w.done,!m;v=!0){y=w.value,v=!1;const S=y,b=$m(yield q(S.json()));b.sdkHttpResponse={headers:S.headers};const C=new Eo;Object.assign(C,b),yield yield q(C)}}catch(S){g={error:S}}finally{try{!v&&!m&&(x=_.return)&&(yield q(x.call(_)))}finally{if(g)throw g.error}}})})}else{const c=Om(this.apiClient,e);return l=O("{model}:streamGenerateContent?alt=sse",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.requestStream({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),r.then(function(h){return kt(this,arguments,function*(){var m,g,x,y;try{for(var v=!0,_=It(h),w;w=yield q(_.next()),m=w.done,!m;v=!0){y=w.value,v=!1;const S=y,b=jm(yield q(S.json()));b.sdkHttpResponse={headers:S.headers};const C=new Eo;Object.assign(C,b),yield yield q(C)}}catch(S){g={error:S}}finally{try{!v&&!m&&(x=_.return)&&(yield q(x.call(_)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const c=MN(this.apiClient,e);return l=O("{model}:predict",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:u.headers},m})),r.then(u=>{const h=RN(u),m=new Cm;return Object.assign(m,h),m})}else{const c=AN(this.apiClient,e);return l=O("{model}:batchEmbedContents",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:u.headers},m})),r.then(u=>{const h=PN(u),m=new Cm;return Object.assign(m,h),m})}}async generateImagesInternal(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const c=$N(this.apiClient,e);return l=O("{model}:predict",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:u.headers},m})),r.then(u=>{const h=qN(u),m=new Tm;return Object.assign(m,h),m})}else{const c=jN(this.apiClient,e);return l=O("{model}:predict",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:u.headers},m})),r.then(u=>{const h=GN(u),m=new Tm;return Object.assign(m,h),m})}}async editImageInternal(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI()){const l=kN(this.apiClient,e);return s=O("{model}:predict",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:a.headers},u})),o.then(a=>{const c=IN(a),u=new LI;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI()){const l=$A(this.apiClient,e);return s=O("{model}:predict",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:a.headers},u})),o.then(a=>{const c=GA(a),u=new zI;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI()){const l=TA(this.apiClient,e);return s=O("{model}:predict",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json()),o.then(a=>{const c=kA(a),u=new FI;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI()){const l=PA(this.apiClient,e);return s=O("{model}:predict",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json()),o.then(a=>{const c=RA(a),u=new UI;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const c=cA(this.apiClient,e);return l=O("{name}",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(u=>iu(u))}else{const c=aA(this.apiClient,e);return l=O("{name}",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),r.then(u=>nu(u))}}async listInternal(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const c=vA(this.apiClient,e);return l=O("{models_url}",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:u.headers},m})),r.then(u=>{const h=_A(u),m=new km;return Object.assign(m,h),m})}else{const c=xA(this.apiClient,e);return l=O("{models_url}",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:u.headers},m})),r.then(u=>{const h=yA(u),m=new km;return Object.assign(m,h),m})}}async update(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const c=HA(this.apiClient,e);return l=O("{model}",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(u=>iu(u))}else{const c=OA(this.apiClient,e);return l=O("{name}",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),r.then(u=>nu(u))}}async delete(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const c=SN(this.apiClient,e);return l=O("{name}",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:u.headers},m})),r.then(u=>{const h=CN(u),m=new Im;return Object.assign(m,h),m})}else{const c=wN(this.apiClient,e);return l=O("{name}",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:u.headers},m})),r.then(u=>{const h=bN(u),m=new Im;return Object.assign(m,h),m})}}async countTokens(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const c=vN(this.apiClient,e);return l=O("{model}:countTokens",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:u.headers},m})),r.then(u=>{const h=_N(u),m=new Em;return Object.assign(m,h),m})}else{const c=xN(this.apiClient,e);return l=O("{model}:countTokens",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:u.headers},m})),r.then(u=>{const h=yN(u),m=new Em;return Object.assign(m,h),m})}}async computeTokens(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI()){const l=uN(this.apiClient,e);return s=O("{model}:computeTokens",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:a.headers},u})),o.then(a=>{const c=dN(a),u=new BI;return Object.assign(u,c),u})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const c=XN(this.apiClient,e);return l=O("{model}:predictLongRunning",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(u=>{const h=KN(u),m=new vl;return Object.assign(m,h),m})}else{const c=QN(this.apiClient,e);return l=O("{model}:predictLongRunning",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),r.then(u=>{const h=YN(u),m=new vl;return Object.assign(m,h),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UM extends cn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let s;i&&"httpOptions"in i&&(s=i.httpOptions);const r=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let s;i&&"httpOptions"in i&&(s=i.httpOptions);const r=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const c=NI(e);return l=O("{operationName}",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r}else{const c=EI(e);return l=O("{operationName}",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json()),r}}async fetchPredictVideosOperationInternal(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI()){const l=wI(e);return s=O("{resourceName}:fetchPredictOperation",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BM(t){const e={},n=d(t,["data"]);if(n!=null&&p(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function VM(t){const e={},n=d(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>YM(s))),p(e,["parts"],o)}const i=d(t,["role"]);return i!=null&&p(e,["role"],i),e}function OM(t,e,n){const i={},o=d(e,["expireTime"]);n!==void 0&&o!=null&&p(n,["expireTime"],o);const s=d(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&p(n,["newSessionExpireTime"],s);const r=d(e,["uses"]);n!==void 0&&r!=null&&p(n,["uses"],r);const l=d(e,["liveConnectConstraints"]);n!==void 0&&l!=null&&p(n,["bidiGenerateContentSetup"],JM(t,l));const a=d(e,["lockAdditionalFields"]);return n!==void 0&&a!=null&&p(n,["fieldMask"],a),i}function HM(t,e){const n={},i=d(e,["config"]);return i!=null&&p(n,["config"],OM(t,i,n)),n}function jM(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function $M(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const i=d(t,["args"]);i!=null&&p(e,["args"],i);const o=d(t,["name"]);if(o!=null&&p(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function GM(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function qM(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function WM(t,e){const n={},i=d(t,["generationConfig"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig"],i);const o=d(t,["responseModalities"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","responseModalities"],o);const s=d(t,["temperature"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","temperature"],s);const r=d(t,["topP"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig","topP"],r);const l=d(t,["topK"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","topK"],l);const a=d(t,["maxOutputTokens"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","maxOutputTokens"],a);const c=d(t,["mediaResolution"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","mediaResolution"],c);const u=d(t,["seed"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","seed"],u);const h=d(t,["speechConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","speechConfig"],Bd(h));const m=d(t,["thinkingConfig"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","thinkingConfig"],m);const g=d(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],g);const x=d(t,["systemInstruction"]);e!==void 0&&x!=null&&p(e,["setup","systemInstruction"],VM(Le(x)));const y=d(t,["tools"]);if(e!==void 0&&y!=null){let T=ao(y);Array.isArray(T)&&(T=T.map(k=>QM(lo(k)))),p(e,["setup","tools"],T)}const v=d(t,["sessionResumption"]);e!==void 0&&v!=null&&p(e,["setup","sessionResumption"],KM(v));const _=d(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&p(e,["setup","inputAudioTranscription"],_);const w=d(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&p(e,["setup","outputAudioTranscription"],w);const S=d(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&p(e,["setup","realtimeInputConfig"],S);const b=d(t,["contextWindowCompression"]);e!==void 0&&b!=null&&p(e,["setup","contextWindowCompression"],b);const C=d(t,["proactivity"]);if(e!==void 0&&C!=null&&p(e,["setup","proactivity"],C),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function JM(t,e){const n={},i=d(e,["model"]);i!=null&&p(n,["setup","model"],X(t,i));const o=d(e,["config"]);return o!=null&&p(n,["config"],WM(o,n)),n}function YM(t){const e={},n=d(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const i=d(t,["codeExecutionResult"]);i!=null&&p(e,["codeExecutionResult"],i);const o=d(t,["executableCode"]);o!=null&&p(e,["executableCode"],o);const s=d(t,["fileData"]);s!=null&&p(e,["fileData"],jM(s));const r=d(t,["functionCall"]);r!=null&&p(e,["functionCall"],$M(r));const l=d(t,["functionResponse"]);l!=null&&p(e,["functionResponse"],l);const a=d(t,["inlineData"]);a!=null&&p(e,["inlineData"],BM(a));const c=d(t,["text"]);c!=null&&p(e,["text"],c);const u=d(t,["thought"]);u!=null&&p(e,["thought"],u);const h=d(t,["thoughtSignature"]);h!=null&&p(e,["thoughtSignature"],h);const m=d(t,["videoMetadata"]);return m!=null&&p(e,["videoMetadata"],m),e}function KM(t){const e={},n=d(t,["handle"]);if(n!=null&&p(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function QM(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(h=>h)),p(e,["functionDeclarations"],u)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(t,["googleSearchRetrieval"]);i!=null&&p(e,["googleSearchRetrieval"],i);const o=d(t,["computerUse"]);o!=null&&p(e,["computerUse"],o);const s=d(t,["fileSearch"]);s!=null&&p(e,["fileSearch"],s);const r=d(t,["codeExecution"]);if(r!=null&&p(e,["codeExecution"],r),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["googleMaps"]);l!=null&&p(e,["googleMaps"],GM(l));const a=d(t,["googleSearch"]);a!=null&&p(e,["googleSearch"],qM(a));const c=d(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XM(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const o=Object.keys(i).map(s=>`${n}.${s}`);e.push(...o)}else e.push(n)}return e.join(",")}function ZM(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const s=i.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const s=XM(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const r=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];o.length>0&&(l=o.map(c=>r.includes(c)?`generationConfig.${c}`:c));const a=[];s&&a.push(s),l.length>0&&a.push(...l),a.length>0?t.fieldMask=a.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class eP extends cn{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=HM(this.apiClient,e);s=O("auth_tokens",l._url),r=l._query,delete l.config,delete l._url,delete l._query;const a=ZM(l,e.config);return o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tP(t,e){const n={},i=d(t,["force"]);return e!==void 0&&i!=null&&p(e,["_query","force"],i),n}function nP(t){const e={},n=d(t,["name"]);n!=null&&p(e,["_url","name"],n);const i=d(t,["config"]);return i!=null&&tP(i,e),e}function iP(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function oP(t,e){const n={},i=d(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&p(e,["_query","pageToken"],o),n}function sP(t){const e={},n=d(t,["parent"]);n!=null&&p(e,["_url","parent"],n);const i=d(t,["config"]);return i!=null&&oP(i,e),e}function rP(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const i=d(t,["nextPageToken"]);i!=null&&p(e,["nextPageToken"],i);const o=d(t,["documents"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),p(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lP extends cn{constructor(e){super(),this.apiClient=e,this.list=async n=>new gi(rn.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=iP(e);return s=O("{name}",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json()),o.then(a=>a)}}async delete(e){var n,i;let o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=nP(e);o=O("{name}",r._url),s=r._query,delete r._url,delete r._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=sP(e);return s=O("{parent}/documents",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json()),o.then(a=>{const c=rP(a),u=new VI;return Object.assign(u,c),u})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aP extends cn{constructor(e,n=new lP(e)){super(),this.apiClient=e,this.documents=n,this.list=async(i={})=>new gi(rn.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=XA(e);return s=O("fileSearchStores",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json()),o.then(a=>a)}}async get(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=tM(e);return s=O("{name}",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json()),o.then(a=>a)}}async delete(e){var n,i;let o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=eM(e);o=O("{name}",r._url),s=r._query,delete r._url,delete r._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=lM(e);return s=O("fileSearchStores",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json()),o.then(a=>{const c=aM(a),u=new OI;return Object.assign(u,c),u})}}async uploadToFileSearchStoreInternal(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=cM(e);return s=O("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json()),o.then(a=>{const c=uM(a),u=new HI;return Object.assign(u,c),u})}}async importFile(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=oM(e);return s=O("{file_search_store_name}:importFile",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json()),o.then(a=>{const c=iM(a),u=new Dd;return Object.assign(u,c),u})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let uy=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return uy=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};const cP=()=>uy();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function su(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const ru=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yt extends Error{}class He extends yt{constructor(e,n,i,o){super(`${He.makeMessage(e,n,i)}`),this.status=e,this.headers=o,this.error=n}static makeMessage(e,n,i){const o=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return e&&o?`${e} ${o}`:e?`${e} status code (no body)`:o||"(no status code or body)"}static generate(e,n,i,o){if(!e||!o)return new ea({message:i,cause:ru(n)});const s=n;return e===400?new fy(e,s,i,o):e===401?new py(e,s,i,o):e===403?new hy(e,s,i,o):e===404?new my(e,s,i,o):e===409?new gy(e,s,i,o):e===422?new xy(e,s,i,o):e===429?new vy(e,s,i,o):e>=500?new yy(e,s,i,o):new He(e,s,i,o)}}class lu extends He{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class ea extends He{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class dy extends ea{constructor({message:e}={}){super({message:e??"Request timed out."})}}class fy extends He{}class py extends He{}class hy extends He{}class my extends He{}class gy extends He{}class xy extends He{}class vy extends He{}class yy extends He{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uP=/^[a-z][a-z0-9+.-]*:/i,dP=t=>uP.test(t);let au=t=>(au=Array.isArray,au(t));const fP=au;let pP=fP;const Km=pP;function hP(t){if(!t)return!0;for(const e in t)return!1;return!0}function mP(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const gP=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new yt(`${t} must be an integer`);if(e<0)throw new yt(`${t} must be a positive integer`);return e},xP=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vP=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yi="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yP(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const _P=()=>{var t,e,n,i,o;const s=yP();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yi,"X-Stainless-OS":Xm(Deno.build.os),"X-Stainless-Arch":Qm(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yi,"X-Stainless-OS":Xm((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Qm((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};const r=wP();return r?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${r.browser}`,"X-Stainless-Runtime-Version":r.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":yi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function wP(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const i=n.exec(navigator.userAgent);if(i){const o=i[1]||0,s=i[2]||0,r=i[3]||0;return{browser:e,version:`${o}.${s}.${r}`}}}return null}const Qm=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Xm=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let dr;const SP=()=>dr??(dr=_P());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bP(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function _y(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function CP(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return _y({start(){},async pull(n){const{done:i,value:o}=await e.next();i?n.close():n.enqueue(o)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function wy(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function TP(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const i=t.getReader(),o=i.cancel();i.releaseLock(),await o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kP=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Sy=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Va(t,e,n){return Sy(),new File(t,e??"unknown_file",n)}function IP(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const EP=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const by=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",NP=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&by(t),AP=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function MP(t,e,n){if(Sy(),t=await t,NP(t))return t instanceof File?t:Va([await t.arrayBuffer()],t.name);if(AP(t)){const o=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Va(await cu(o),e,n)}const i=await cu(t);if(e||(e=IP(t)),!(n!=null&&n.type)){const o=i.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof o=="string"&&(n=Object.assign(Object.assign({},n),{type:o}))}return Va(i,e,n)}async function cu(t){var e,n,i,o,s;let r=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)r.push(t);else if(by(t))r.push(t instanceof Blob?t:await t.arrayBuffer());else if(EP(t))try{for(var l=!0,a=It(t),c;c=await a.next(),e=c.done,!e;l=!0){o=c.value,l=!1;const u=o;r.push(...await cu(u))}}catch(u){n={error:u}}finally{try{!l&&!e&&(i=a.return)&&await i.call(a)}finally{if(n)throw n.error}}else{const u=(s=t==null?void 0:t.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof t}${u?`; constructor: ${u}`:""}${PP(t)}`)}return r}function PP(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cy{constructor(e){this._client=e}}Cy._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ty(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Zm=Object.freeze(Object.create(null)),RP=(t=Ty)=>function(n,...i){if(n.length===1)return n[0];let o=!1;const s=[],r=n.reduce((u,h,m)=>{var g,x,y;/[?#]/.test(h)&&(o=!0);const v=i[m];let _=(o?encodeURIComponent:t)(""+v);return m!==i.length&&(v==null||typeof v=="object"&&v.toString===((y=Object.getPrototypeOf((x=Object.getPrototypeOf((g=v.hasOwnProperty)!==null&&g!==void 0?g:Zm))!==null&&x!==void 0?x:Zm))===null||y===void 0?void 0:y.toString))&&(_=v+"",s.push({start:u.length+h.length,length:_.length,error:`Value of type ${Object.prototype.toString.call(v).slice(8,-1)} is not a valid path parameter`})),u+h+(m===i.length?"":_)},""),l=r.split(/[?#]/,1)[0],a=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let c;for(;(c=a.exec(l))!==null;)s.push({start:c.index,length:c[0].length,error:`Value "${c[0]}" can't be safely passed as a path parameter`});if(s.sort((u,h)=>u.start-h.start),s.length>0){let u=0;const h=s.reduce((m,g)=>{const x=" ".repeat(g.start-u),y="^".repeat(g.length);return u=g.start+g.length,m+x+y},"");throw new yt(`Path parameters result in path with invalid segments:
${s.map(m=>m.error).join(`
`)}
${r}
${h}`)}return r},fr=RP(Ty);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ky extends Cy{create(e,n){var i;const{api_version:o=this._client.apiVersion}=e,s=_l(e,["api_version"]);if("model"in s&&"agent_config"in s)throw new yt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new yt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(fr`/${o}/interactions`,Object.assign(Object.assign({body:s},n),{stream:(i=e.stream)!==null&&i!==void 0?i:!1}))}delete(e,n={},i){const{api_version:o=this._client.apiVersion}=n??{};return this._client.delete(fr`/${o}/interactions/${e}`,i)}cancel(e,n={},i){const{api_version:o=this._client.apiVersion}=n??{};return this._client.post(fr`/${o}/interactions/${e}/cancel`,i)}get(e,n={},i){var o;const s=n??{},{api_version:r=this._client.apiVersion}=s,l=_l(s,["api_version"]);return this._client.get(fr`/${r}/interactions/${e}`,Object.assign(Object.assign({query:l},i),{stream:(o=n==null?void 0:n.stream)!==null&&o!==void 0?o:!1}))}}ky._key=Object.freeze(["interactions"]);class Iy extends ky{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DP(t){let e=0;for(const o of t)e+=o.length;const n=new Uint8Array(e);let i=0;for(const o of t)n.set(o,i),i+=o.length;return n}let pr;function Od(t){let e;return(pr??(e=new globalThis.TextEncoder,pr=e.encode.bind(e)))(t)}let hr;function eg(t){let e;return(hr??(e=new globalThis.TextDecoder,hr=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ta{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Od(e):e;this.buffer=DP([this.buffer,n]);const i=[];let o;for(;(o=LP(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){i.push(eg(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const s=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,r=eg(this.buffer.subarray(0,s));i.push(r),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}}ta.NEWLINE_CHARS=new Set([`
`,"\r"]);ta.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function LP(t,e){for(let o=e??0;o<t.length;o++){if(t[o]===10)return{preceding:o,index:o+1,carriage:!1};if(t[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function zP(t){for(let i=0;i<t.length-1;i++){if(t[i]===10&&t[i+1]===10||t[i]===13&&t[i+1]===13)return i+2;if(t[i]===13&&t[i+1]===10&&i+3<t.length&&t[i+2]===13&&t[i+3]===10)return i+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wl={off:0,error:200,warn:300,info:400,debug:500},tg=(t,e,n)=>{if(t){if(mP(wl,t))return t;Be(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(wl))}`)}};function Uo(){}function mr(t,e,n){return!e||wl[t]>wl[n]?Uo:e[t].bind(e)}const FP={error:Uo,warn:Uo,info:Uo,debug:Uo};let ng=new WeakMap;function Be(t){var e;const n=t.logger,i=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return FP;const o=ng.get(n);if(o&&o[0]===i)return o[1];const s={error:mr("error",n,i),warn:mr("warn",n,i),info:mr("info",n,i),debug:mr("debug",n,i)};return ng.set(n,[i,s]),s}const Yn=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Di{constructor(e,n,i){this.iterator=e,this.controller=n,this.client=i}static fromSSEResponse(e,n,i){let o=!1;const s=i?Be(i):console;function r(){return kt(this,arguments,function*(){var a,c,u,h;if(o)throw new yt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let m=!1;try{try{for(var g=!0,x=It(UP(e,n)),y;y=yield q(x.next()),a=y.done,!a;g=!0){h=y.value,g=!1;const v=h;if(!m)if(v.data.startsWith("[DONE]")){m=!0;continue}else try{yield yield q(JSON.parse(v.data))}catch(_){throw s.error("Could not parse message into JSON:",v.data),s.error("From chunk:",v.raw),_}}}catch(v){c={error:v}}finally{try{!g&&!a&&(u=x.return)&&(yield q(u.call(x)))}finally{if(c)throw c.error}}m=!0}catch(v){if(su(v))return yield q(void 0);throw v}finally{m||n.abort()}})}return new Di(r,n,i)}static fromReadableStream(e,n,i){let o=!1;function s(){return kt(this,arguments,function*(){var a,c,u,h;const m=new ta,g=wy(e);try{for(var x=!0,y=It(g),v;v=yield q(y.next()),a=v.done,!a;x=!0){h=v.value,x=!1;const _=h;for(const w of m.decode(_))yield yield q(w)}}catch(_){c={error:_}}finally{try{!x&&!a&&(u=y.return)&&(yield q(u.call(y)))}finally{if(c)throw c.error}}for(const _ of m.flush())yield yield q(_)})}function r(){return kt(this,arguments,function*(){var a,c,u,h;if(o)throw new yt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let m=!1;try{try{for(var g=!0,x=It(s()),y;y=yield q(x.next()),a=y.done,!a;g=!0){h=y.value,g=!1;const v=h;m||v&&(yield yield q(JSON.parse(v)))}}catch(v){c={error:v}}finally{try{!g&&!a&&(u=x.return)&&(yield q(u.call(x)))}finally{if(c)throw c.error}}m=!0}catch(v){if(su(v))return yield q(void 0);throw v}finally{m||n.abort()}})}return new Di(r,n,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],i=this.iterator(),o=s=>({next:()=>{if(s.length===0){const r=i.next();e.push(r),n.push(r)}return s.shift()}});return[new Di(()=>o(e),this.controller,this.client),new Di(()=>o(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return _y({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:o,done:s}=await n.next();if(s)return i.close();const r=Od(JSON.stringify(o)+`
`);i.enqueue(r)}catch(o){i.error(o)}},async cancel(){var i;await((i=n.return)===null||i===void 0?void 0:i.call(n))}})}}function UP(t,e){return kt(this,arguments,function*(){var i,o,s,r;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new yt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new yt("Attempted to iterate over a response with no body");const l=new VP,a=new ta,c=wy(t.body);try{for(var u=!0,h=It(BP(c)),m;m=yield q(h.next()),i=m.done,!i;u=!0){r=m.value,u=!1;const g=r;for(const x of a.decode(g)){const y=l.decode(x);y&&(yield yield q(y))}}}catch(g){o={error:g}}finally{try{!u&&!i&&(s=h.return)&&(yield q(s.call(h)))}finally{if(o)throw o.error}}for(const g of a.flush()){const x=l.decode(g);x&&(yield yield q(x))}})}function BP(t){return kt(this,arguments,function*(){var n,i,o,s;let r=new Uint8Array;try{for(var l=!0,a=It(t),c;c=yield q(a.next()),n=c.done,!n;l=!0){s=c.value,l=!1;const u=s;if(u==null)continue;const h=u instanceof ArrayBuffer?new Uint8Array(u):typeof u=="string"?Od(u):u;let m=new Uint8Array(r.length+h.length);m.set(r),m.set(h,r.length),r=m;let g;for(;(g=zP(r))!==-1;)yield yield q(r.slice(0,g)),r=r.slice(g)}}catch(u){i={error:u}}finally{try{!l&&!n&&(o=a.return)&&(yield q(o.call(a)))}finally{if(i)throw i.error}}r.length>0&&(yield yield q(r))})}class VP{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,i,o]=OP(e,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}}function OP(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function HP(t,e){const{response:n,requestLogID:i,retryOfRequestLogID:o,startTime:s}=e,r=await(async()=>{var l;if(e.options.stream)return Be(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Di.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const a=n.headers.get("content-type"),c=(l=a==null?void 0:a.split(";")[0])===null||l===void 0?void 0:l.trim();return(c==null?void 0:c.includes("application/json"))||(c==null?void 0:c.endsWith("+json"))?await n.json():await n.text()})();return Be(t).debug(`[${i}] response parsed`,Yn({retryOfRequestLogID:o,url:n.url,status:n.status,body:r,durationMs:Date.now()-s})),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hd extends Promise{constructor(e,n,i=HP){super(o=>{o(null)}),this.responsePromise=n,this.parseResponse=i,this.client=e}_thenUnwrap(e){return new Hd(this.client,this.responsePromise,async(n,i)=>e(await this.parseResponse(n,i),i))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ey=Symbol("brand.privateNullableHeaders");function*jP(t){if(!t)return;if(Ey in t){const{values:i,nulls:o}=t;yield*i.entries();for(const s of o)yield[s,null];return}let e=!1,n;t instanceof Headers?n=t.entries():Km(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let i of n){const o=i[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const s=Km(i[1])?i[1]:[i[1]];let r=!1;for(const l of s)l!==void 0&&(e&&!r&&(r=!0,yield[o,null]),yield[o,l])}}const No=t=>{const e=new Headers,n=new Set;for(const i of t){const o=new Set;for(const[s,r]of jP(i)){const l=s.toLowerCase();o.has(l)||(e.delete(s),o.add(l)),r===null?(e.delete(s),n.add(l)):(e.append(s,r),n.delete(l))}}return{[Ey]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Oa=t=>{var e,n,i,o,s,r;if(typeof globalThis.process<"u")return(i=(n=(e=mI)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(r=(s=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||s===void 0?void 0:s.call(o,t))===null||r===void 0?void 0:r.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ny;class na{constructor(e){var n,i,o,s,r,l,a,{baseURL:c=Oa("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:u=(n=Oa("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:h="v1beta"}=e,m=_l(e,["baseURL","apiKey","apiVersion"]);const g=Object.assign(Object.assign({apiKey:u,apiVersion:h},m),{baseURL:c||"https://generativelanguage.googleapis.com"});this.baseURL=g.baseURL,this.timeout=(i=g.timeout)!==null&&i!==void 0?i:na.DEFAULT_TIMEOUT,this.logger=(o=g.logger)!==null&&o!==void 0?o:console;const x="warn";this.logLevel=x,this.logLevel=(r=(s=tg(g.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:tg(Oa("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&r!==void 0?r:x,this.fetchOptions=g.fetchOptions,this.maxRetries=(l=g.maxRetries)!==null&&l!==void 0?l:2,this.fetch=(a=g.fetch)!==null&&a!==void 0?a:bP(),this.encoder=kP,this._options=g,this.apiKey=u,this.apiVersion=h,this.clientAdapter=g.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=No([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return No([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return No([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,i])=>typeof i<"u").map(([n,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(n)}=`;throw new yt(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${yi}`}defaultIdempotencyKey(){return`stainless-node-retry-${cP()}`}makeStatusError(e,n,i,o){return He.generate(e,n,i,o)}buildURL(e,n,i){const o=!this.baseURLOverridden()&&i||this.baseURL,s=dP(e)?new URL(e):new URL(o+(o.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),r=this.defaultQuery();return hP(r)||(n=Object.assign(Object.assign({},r),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:i}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,i){return this.request(Promise.resolve(i).then(o=>Object.assign({method:e,path:n},o)))}request(e,n=null){return new Hd(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,i){var o,s,r;const l=await e,a=(o=l.maxRetries)!==null&&o!==void 0?o:this.maxRetries;n==null&&(n=a),await this.prepareOptions(l);const{req:c,url:u,timeout:h}=await this.buildRequest(l,{retryCount:a-n});await this.prepareRequest(c,{url:u,options:l});const m="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=i===void 0?"":`, retryOf: ${i}`,x=Date.now();if(Be(this).debug(`[${m}] sending request`,Yn({retryOfRequestLogID:i,method:l.method,url:u,options:l,headers:c.headers})),!((s=l.signal)===null||s===void 0)&&s.aborted)throw new lu;const y=new AbortController,v=await this.fetchWithTimeout(u,c,h,y).catch(ru),_=Date.now();if(v instanceof globalThis.Error){const S=`retrying, ${n} attempts remaining`;if(!((r=l.signal)===null||r===void 0)&&r.aborted)throw new lu;const b=su(v)||/timed? ?out/i.test(String(v)+("cause"in v?String(v.cause):""));if(n)return Be(this).info(`[${m}] connection ${b?"timed out":"failed"} - ${S}`),Be(this).debug(`[${m}] connection ${b?"timed out":"failed"} (${S})`,Yn({retryOfRequestLogID:i,url:u,durationMs:_-x,message:v.message})),this.retryRequest(l,n,i??m);throw Be(this).info(`[${m}] connection ${b?"timed out":"failed"} - error; no more retries left`),Be(this).debug(`[${m}] connection ${b?"timed out":"failed"} (error; no more retries left)`,Yn({retryOfRequestLogID:i,url:u,durationMs:_-x,message:v.message})),b?new dy:new ea({cause:v})}const w=`[${m}${g}] ${c.method} ${u} ${v.ok?"succeeded":"failed"} with status ${v.status} in ${_-x}ms`;if(!v.ok){const S=await this.shouldRetry(v);if(n&&S){const A=`retrying, ${n} attempts remaining`;return await TP(v.body),Be(this).info(`${w} - ${A}`),Be(this).debug(`[${m}] response error (${A})`,Yn({retryOfRequestLogID:i,url:v.url,status:v.status,headers:v.headers,durationMs:_-x})),this.retryRequest(l,n,i??m,v.headers)}const b=S?"error; no more retries left":"error; not retryable";Be(this).info(`${w} - ${b}`);const C=await v.text().catch(A=>ru(A).message),T=xP(C),k=T?void 0:C;throw Be(this).debug(`[${m}] response error (${b})`,Yn({retryOfRequestLogID:i,url:v.url,status:v.status,headers:v.headers,message:k,durationMs:Date.now()-x})),this.makeStatusError(v.status,T,k,v.headers)}return Be(this).info(w),Be(this).debug(`[${m}] response start`,Yn({retryOfRequestLogID:i,url:v.url,status:v.status,headers:v.headers,durationMs:_-x})),{response:v,options:l,controller:y,requestLogID:m,retryOfRequestLogID:i,startTime:x}}async fetchWithTimeout(e,n,i,o){const s=n||{},{signal:r,method:l}=s,a=_l(s,["signal","method"]);r&&r.addEventListener("abort",()=>o.abort());const c=setTimeout(()=>o.abort(),i),u=globalThis.ReadableStream&&a.body instanceof globalThis.ReadableStream||typeof a.body=="object"&&a.body!==null&&Symbol.asyncIterator in a.body,h=Object.assign(Object.assign(Object.assign({signal:o.signal},u?{duplex:"half"}:{}),{method:"GET"}),a);l&&(h.method=l.toUpperCase());try{return await this.fetch.call(void 0,e,h)}finally{clearTimeout(c)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,i,o){var s;let r;const l=o==null?void 0:o.get("retry-after-ms");if(l){const c=parseFloat(l);Number.isNaN(c)||(r=c)}const a=o==null?void 0:o.get("retry-after");if(a&&!r){const c=parseFloat(a);Number.isNaN(c)?r=Date.parse(a)-Date.now():r=c*1e3}if(!(r&&0<=r&&r<60*1e3)){const c=(s=e.maxRetries)!==null&&s!==void 0?s:this.maxRetries;r=this.calculateDefaultRetryTimeoutMillis(n,c)}return await vP(r),this.makeRequest(e,n-1,i)}calculateDefaultRetryTimeoutMillis(e,n){const s=n-e,r=Math.min(.5*Math.pow(2,s),8),l=1-Math.random()*.25;return r*l*1e3}async buildRequest(e,{retryCount:n=0}={}){var i,o,s;const r=Object.assign({},e),{method:l,path:a,query:c,defaultBaseURL:u}=r,h=this.buildURL(a,c,u);"timeout"in r&&gP("timeout",r.timeout),r.timeout=(i=r.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:m,body:g}=this.buildBody({options:r}),x=await this.buildHeaders({options:e,method:l,bodyHeaders:m,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:l,headers:x},r.signal&&{signal:r.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(s=r.fetchOptions)!==null&&s!==void 0?s:{}),url:h,timeout:r.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:i,retryCount:o}){let s={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const r=await this.authHeaders(e);let l=No([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),SP()),this._options.defaultHeaders,i,e.headers,r]);return this.validateHeaders(l),l.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=No([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:CP(e)}:this.encoder({body:e,headers:i})}}na.DEFAULT_TIMEOUT=6e4;class Ie extends na{constructor(){super(...arguments),this.interactions=new Iy(this)}}Ny=Ie;Ie.GeminiNextGenAPIClient=Ny;Ie.GeminiNextGenAPIClientError=yt;Ie.APIError=He;Ie.APIConnectionError=ea;Ie.APIConnectionTimeoutError=dy;Ie.APIUserAbortError=lu;Ie.NotFoundError=my;Ie.ConflictError=gy;Ie.RateLimitError=vy;Ie.BadRequestError=fy;Ie.AuthenticationError=py;Ie.InternalServerError=yy;Ie.PermissionDeniedError=hy;Ie.UnprocessableEntityError=xy;Ie.toFile=MP;Ie.Interactions=Iy;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $P(t,e){const n={},i=d(t,["name"]);return i!=null&&p(n,["_url","name"],i),n}function GP(t,e){const n={},i=d(t,["name"]);return i!=null&&p(n,["_url","name"],i),n}function qP(t,e){const n={},i=d(t,["sdkHttpResponse"]);return i!=null&&p(n,["sdkHttpResponse"],i),n}function WP(t,e){const n={},i=d(t,["sdkHttpResponse"]);return i!=null&&p(n,["sdkHttpResponse"],i),n}function JP(t,e,n){const i={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=d(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&p(e,["displayName"],o),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=d(t,["epochCount"]);e!==void 0&&s!=null&&p(e,["tuningTask","hyperparameters","epochCount"],s);const r=d(t,["learningRateMultiplier"]);if(r!=null&&p(i,["tuningTask","hyperparameters","learningRateMultiplier"],r),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=d(t,["batchSize"]);e!==void 0&&l!=null&&p(e,["tuningTask","hyperparameters","batchSize"],l);const a=d(t,["learningRate"]);if(e!==void 0&&a!=null&&p(e,["tuningTask","hyperparameters","learningRate"],a),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function YP(t,e,n){const i={};let o=d(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const g=d(t,["validationDataset"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec"],ig(g))}else if(o==="PREFERENCE_TUNING"){const g=d(t,["validationDataset"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec"],ig(g))}const s=d(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&p(e,["tunedModelDisplayName"],s);const r=d(t,["description"]);e!==void 0&&r!=null&&p(e,["description"],r);let l=d(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const g=d(t,["epochCount"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(l==="PREFERENCE_TUNING"){const g=d(t,["epochCount"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let a=d(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const g=d(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(a==="PREFERENCE_TUNING"){const g=d(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let c=d(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const g=d(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(c==="PREFERENCE_TUNING"){const g=d(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let u=d(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const g=d(t,["adapterSize"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(u==="PREFERENCE_TUNING"){const g=d(t,["adapterSize"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=d(t,["labels"]);e!==void 0&&h!=null&&p(e,["labels"],h);const m=d(t,["beta"]);return e!==void 0&&m!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","beta"],m),i}function KP(t,e){const n={},i=d(t,["baseModel"]);i!=null&&p(n,["baseModel"],i);const o=d(t,["preTunedModel"]);o!=null&&p(n,["preTunedModel"],o);const s=d(t,["trainingDataset"]);s!=null&&lR(s);const r=d(t,["config"]);return r!=null&&JP(r,n),n}function QP(t,e){const n={},i=d(t,["baseModel"]);i!=null&&p(n,["baseModel"],i);const o=d(t,["preTunedModel"]);o!=null&&p(n,["preTunedModel"],o);const s=d(t,["trainingDataset"]);s!=null&&aR(s,n,e);const r=d(t,["config"]);return r!=null&&YP(r,n,e),n}function XP(t,e){const n={},i=d(t,["name"]);return i!=null&&p(n,["_url","name"],i),n}function ZP(t,e){const n={},i=d(t,["name"]);return i!=null&&p(n,["_url","name"],i),n}function eR(t,e,n){const i={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&p(e,["_query","pageSize"],o);const s=d(t,["pageToken"]);e!==void 0&&s!=null&&p(e,["_query","pageToken"],s);const r=d(t,["filter"]);return e!==void 0&&r!=null&&p(e,["_query","filter"],r),i}function tR(t,e,n){const i={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&p(e,["_query","pageSize"],o);const s=d(t,["pageToken"]);e!==void 0&&s!=null&&p(e,["_query","pageToken"],s);const r=d(t,["filter"]);return e!==void 0&&r!=null&&p(e,["_query","filter"],r),i}function nR(t,e){const n={},i=d(t,["config"]);return i!=null&&eR(i,n),n}function iR(t,e){const n={},i=d(t,["config"]);return i!=null&&tR(i,n),n}function oR(t,e){const n={},i=d(t,["sdkHttpResponse"]);i!=null&&p(n,["sdkHttpResponse"],i);const o=d(t,["nextPageToken"]);o!=null&&p(n,["nextPageToken"],o);const s=d(t,["tunedModels"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(l=>Ay(l))),p(n,["tuningJobs"],r)}return n}function sR(t,e){const n={},i=d(t,["sdkHttpResponse"]);i!=null&&p(n,["sdkHttpResponse"],i);const o=d(t,["nextPageToken"]);o!=null&&p(n,["nextPageToken"],o);const s=d(t,["tuningJobs"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(l=>uu(l))),p(n,["tuningJobs"],r)}return n}function rR(t,e){const n={},i=d(t,["name"]);i!=null&&p(n,["model"],i);const o=d(t,["name"]);return o!=null&&p(n,["endpoint"],o),n}function lR(t,e){const n={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=d(t,["examples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),p(n,["examples","examples"],o)}return n}function aR(t,e,n){const i={};let o=d(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const r=d(t,["gcsUri"]);e!==void 0&&r!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],r)}else if(o==="PREFERENCE_TUNING"){const r=d(t,["gcsUri"]);e!==void 0&&r!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],r)}let s=d(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const r=d(t,["vertexDatasetResource"]);e!==void 0&&r!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],r)}else if(s==="PREFERENCE_TUNING"){const r=d(t,["vertexDatasetResource"]);e!==void 0&&r!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],r)}if(d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function Ay(t,e){const n={},i=d(t,["sdkHttpResponse"]);i!=null&&p(n,["sdkHttpResponse"],i);const o=d(t,["name"]);o!=null&&p(n,["name"],o);const s=d(t,["state"]);s!=null&&p(n,["state"],qv(s));const r=d(t,["createTime"]);r!=null&&p(n,["createTime"],r);const l=d(t,["tuningTask","startTime"]);l!=null&&p(n,["startTime"],l);const a=d(t,["tuningTask","completeTime"]);a!=null&&p(n,["endTime"],a);const c=d(t,["updateTime"]);c!=null&&p(n,["updateTime"],c);const u=d(t,["description"]);u!=null&&p(n,["description"],u);const h=d(t,["baseModel"]);h!=null&&p(n,["baseModel"],h);const m=d(t,["_self"]);return m!=null&&p(n,["tunedModel"],rR(m)),n}function uu(t,e){const n={},i=d(t,["sdkHttpResponse"]);i!=null&&p(n,["sdkHttpResponse"],i);const o=d(t,["name"]);o!=null&&p(n,["name"],o);const s=d(t,["state"]);s!=null&&p(n,["state"],qv(s));const r=d(t,["createTime"]);r!=null&&p(n,["createTime"],r);const l=d(t,["startTime"]);l!=null&&p(n,["startTime"],l);const a=d(t,["endTime"]);a!=null&&p(n,["endTime"],a);const c=d(t,["updateTime"]);c!=null&&p(n,["updateTime"],c);const u=d(t,["error"]);u!=null&&p(n,["error"],u);const h=d(t,["description"]);h!=null&&p(n,["description"],h);const m=d(t,["baseModel"]);m!=null&&p(n,["baseModel"],m);const g=d(t,["tunedModel"]);g!=null&&p(n,["tunedModel"],g);const x=d(t,["preTunedModel"]);x!=null&&p(n,["preTunedModel"],x);const y=d(t,["supervisedTuningSpec"]);y!=null&&p(n,["supervisedTuningSpec"],y);const v=d(t,["preferenceOptimizationSpec"]);v!=null&&p(n,["preferenceOptimizationSpec"],v);const _=d(t,["tuningDataStats"]);_!=null&&p(n,["tuningDataStats"],_);const w=d(t,["encryptionSpec"]);w!=null&&p(n,["encryptionSpec"],w);const S=d(t,["partnerModelTuningSpec"]);S!=null&&p(n,["partnerModelTuningSpec"],S);const b=d(t,["customBaseModel"]);b!=null&&p(n,["customBaseModel"],b);const C=d(t,["experiment"]);C!=null&&p(n,["experiment"],C);const T=d(t,["labels"]);T!=null&&p(n,["labels"],T);const k=d(t,["outputUri"]);k!=null&&p(n,["outputUri"],k);const E=d(t,["pipelineJob"]);E!=null&&p(n,["pipelineJob"],E);const A=d(t,["serviceAccount"]);A!=null&&p(n,["serviceAccount"],A);const N=d(t,["tunedModelDisplayName"]);N!=null&&p(n,["tunedModelDisplayName"],N);const I=d(t,["veoTuningSpec"]);return I!=null&&p(n,["veoTuningSpec"],I),n}function cR(t,e){const n={},i=d(t,["sdkHttpResponse"]);i!=null&&p(n,["sdkHttpResponse"],i);const o=d(t,["name"]);o!=null&&p(n,["name"],o);const s=d(t,["metadata"]);s!=null&&p(n,["metadata"],s);const r=d(t,["done"]);r!=null&&p(n,["done"],r);const l=d(t,["error"]);return l!=null&&p(n,["error"],l),n}function ig(t,e){const n={},i=d(t,["gcsUri"]);i!=null&&p(n,["validationDatasetUri"],i);const o=d(t,["vertexDatasetResource"]);return o!=null&&p(n,["validationDatasetUri"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uR extends cn{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new gi(rn.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const o={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},n),{preTunedModel:o});return s.baseModel=void 0,await this.tuneInternal(s)}else{const o=Object.assign({},n);return await this.tuneInternal(o)}else{const o=Object.assign({},n),s=await this.tuneMldevInternal(o);let r="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?r=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(r=s.name.split("/operations/")[0]),{name:r,state:Xc.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const c=ZP(e);return l=O("{name}",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:u.headers},m})),r.then(u=>uu(u))}else{const c=XP(e);return l=O("{name}",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:u.headers},m})),r.then(u=>Ay(u))}}async listInternal(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const c=iR(e);return l=O("tuningJobs",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:u.headers},m})),r.then(u=>{const h=sR(u),m=new Nm;return Object.assign(m,h),m})}else{const c=nR(e);return l=O("tunedModels",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:u.headers},m})),r.then(u=>{const h=oR(u),m=new Nm;return Object.assign(m,h),m})}}async cancel(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const c=GP(e);return l=O("{name}:cancel",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:u.headers},m})),r.then(u=>{const h=WP(u),m=new Am;return Object.assign(m,h),m})}else{const c=$P(e);return l=O("{name}:cancel",c._url),a=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(u=>u.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:u.headers},m})),r.then(u=>{const h=qP(u),m=new Am;return Object.assign(m,h),m})}}async tuneInternal(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI()){const l=QP(e,e);return s=O("tuningJobs",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:a.headers},u})),o.then(a=>uu(a))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=KP(e);return s=O("tunedModels",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json().then(c=>{const u=c;return u.sdkHttpResponse={headers:a.headers},u})),o.then(a=>cR(a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dR{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const fR=1024*1024*8,pR=3,hR=1e3,mR=2,Sl="x-goog-upload-status";async function gR(t,e,n){var i;const o=await My(t,e,n),s=await(o==null?void 0:o.json());if(((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[Sl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function xR(t,e,n){var i;const o=await My(t,e,n),s=await(o==null?void 0:o.json());if(((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[Sl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const r=Vv(s),l=new Ld;return Object.assign(l,r),l}async function My(t,e,n){var i,o;let s=0,r=0,l=new Zc(new Response),a="upload";for(s=t.size;r<s;){const c=Math.min(fR,s-r),u=t.slice(r,r+c);r+c>=s&&(a+=", finalize");let h=0,m=hR;for(;h<pR&&(l=await n.request({path:"",body:u,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":a,"X-Goog-Upload-Offset":String(r),"Content-Length":String(c)}}}),!(!((i=l==null?void 0:l.headers)===null||i===void 0)&&i[Sl]));)h++,await yR(m),m=m*mR;if(r+=c,((o=l==null?void 0:l.headers)===null||o===void 0?void 0:o[Sl])!=="active")break;if(s<=r)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return l}async function vR(t){return{size:t.size,type:t.type}}function yR(t){return new Promise(e=>setTimeout(e,t))}class _R{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await gR(e,n,i)}async uploadToFileSearchStore(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await xR(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await vR(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wR{create(e,n,i){return new SR(e,n,i)}}class SR{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const og="x-goog-api-key";class bR{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(og)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(og,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CR="gl-node/";class TR{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Ie({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=yI(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const o=new bR(this.apiKey);this.apiClient=new vM({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:CR+"web",uploader:new _R,downloader:new dR}),this.models=new FM(this.apiClient),this.live=new MM(this.apiClient,o,new wR),this.batches=new J2(this.apiClient),this.chats=new NE(this.models,this.apiClient),this.caches=new kE(this.apiClient),this.files=new BE(this.apiClient),this.operations=new UM(this.apiClient),this.authTokens=new eP(this.apiClient),this.tunings=new uR(this.apiClient),this.fileSearchStores=new aP(this.apiClient)}}const kR=async t=>({inlineData:{data:await new Promise(n=>{const i=new FileReader;i.onloadend=()=>n(i.result.split(",")[1]),i.readAsDataURL(t)}),mimeType:t.type}}),IR=({text:t})=>f.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[f.jsx("div",{className:"w-12 h-12 border-4 border-sky-200 border-t-sky-600 rounded-full animate-spin mb-4"}),f.jsx("p",{className:"text-slate-600 font-semibold",children:t})]}),ER=({message:t})=>f.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded-md",role:"alert",children:f.jsxs("div",{className:"flex",children:[f.jsx("div",{className:"py-1",children:f.jsx(hi,{className:"w-6 h-6 text-red-500 mr-3"})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-bold",children:"Errore"}),f.jsx("p",{children:t})]})]})}),NR=({user:t})=>{const[e,n]=L.useState(null),[i,o]=L.useState(""),[s,r]=L.useState(""),[l,a]=L.useState(!1),[c,u]=L.useState("");L.useEffect(()=>()=>{i&&URL.revokeObjectURL(i)},[i]);const h=y=>{var _;const v=(_=y.target.files)==null?void 0:_[0];v&&(n(v),o(URL.createObjectURL(v)),r(""),u(""))},m=async()=>{if(!e){u("Per favore, carica un'immagine prima di avviare l'analisi.");return}a(!0),u(""),r("");try{const y=new TR({apiKey:void 0}),v=await kR(e),w=await y.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[v,{text:`
            Analizza l'immagine di questo referto di analisi del sangue. Fornisci un riassunto chiaro e comprensibile in formato Markdown.
            Per ogni valore significativo:
            1.  Identifica il nome del test (es. Colesterolo HDL, Emoglobina, ecc.).
            2.  Indica il valore misurato e le unit di misura.
            3.  Confronta il valore con i range di riferimento, se presenti nel documento.
            4.  Evidenzia i valori che sono fuori norma (alti o bassi).
            5.  Spiega brevemente e in termini semplici a cosa serve quel test e cosa potrebbe indicare un valore fuori norma.
            
            Termina con un paragrafo di consigli generali per il benessere basati sui risultati, senza fornire diagnosi mediche.
            
            Importante: Includi un disclaimer chiaro alla fine, che specifichi che questa  un'analisi AI, non sostituisce un parere medico, e l'utente deve consultare il proprio medico per una valutazione completa.
            `}]}});r(w.text)}catch(y){console.error(y),u("Si  verificato un errore durante l'analisi. Assicurati che l'immagine sia chiara e riprova.")}finally{a(!1)}},g=()=>{n(null),o(""),r(""),u(""),a(!1)},x=()=>{if(!s)return;const y=new Date().toLocaleDateString("it-IT"),v=`CLINICAL WELLNESS SPA - ANALISI REFERTO AI
Data Analisi: ${y}

----------------------------------------

${s}

----------------------------------------
Generato da Clinical Wellness Spa App`,_=new Blob(["\uFEFF"+v],{type:"text/plain;charset=utf-8"}),w=URL.createObjectURL(_),S=document.createElement("a");S.href=w,S.download=`Analisi_Referto_${y.replace(/\//g,"-")}.txt`,document.body.appendChild(S),S.click(),document.body.removeChild(S)};return f.jsxs("div",{className:"p-4 md:p-8 animate-fade-in",children:[f.jsx("h1",{className:"text-4xl font-bold text-slate-800 mb-2",children:"Analisi Referti Sanguigni con AI"}),f.jsx("p",{className:"text-xl text-slate-600 mb-8",children:"Carica una foto del tuo referto per ottenere un'analisi dettagliata."}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg flex flex-col",children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-700 mb-4",children:"1. Carica il tuo referto"}),i?f.jsxs("div",{className:"mt-4 flex flex-col flex-grow",children:[f.jsx("p",{className:"text-sm font-medium text-slate-600 mb-2",children:"Anteprima:"}),f.jsx("div",{className:"flex-grow mb-4 flex items-center justify-center bg-slate-100 rounded-lg",children:e!=null&&e.type.startsWith("image/")?f.jsx("img",{src:i,alt:"Anteprima referto",className:"max-w-full max-h-96 object-contain rounded-lg"}):f.jsxs("div",{className:"p-4 text-center",children:[f.jsx(ts,{className:"w-16 h-16 mx-auto text-slate-500"}),f.jsx("p",{className:"mt-2 font-semibold text-slate-700",children:e==null?void 0:e.name})]})}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-auto",children:[f.jsxs("button",{onClick:m,disabled:l,className:"w-full bg-sky-600 text-white font-bold py-3 px-6 rounded-lg shadow-lg hover:bg-sky-700 focus:outline-none transition-all duration-300 flex items-center justify-center gap-2 disabled:bg-slate-400",children:[f.jsx(Mn,{className:"w-5 h-5"}),f.jsx("span",{children:l?"Analisi in corso...":"Analizza con AI"})]}),f.jsx("button",{onClick:g,disabled:l,className:"w-full bg-slate-200 text-slate-800 font-bold py-3 px-6 rounded-lg hover:bg-slate-300 transition-colors",children:"Cambia File"})]})]}):f.jsxs("div",{className:"relative border-2 border-dashed border-slate-300 rounded-lg p-12 text-center flex-grow flex flex-col justify-center",children:[f.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:h,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer","aria-label":"Carica file"}),f.jsxs("div",{className:"flex flex-col items-center text-slate-500 pointer-events-none",children:[f.jsx(Bv,{className:"w-12 h-12 mb-2"}),f.jsx("p",{className:"font-semibold",children:"Trascina un file qui o clicca per caricare"}),f.jsx("p",{className:"text-sm",children:"Immagini (PNG, JPG) o PDF"})]})]})]}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg flex flex-col",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-700",children:"2. Risultati dell'Analisi"}),s&&f.jsxs("button",{onClick:x,className:"flex items-center gap-2 text-sm font-semibold text-emerald-600 hover:text-emerald-800 bg-emerald-50 px-3 py-1.5 rounded-lg transition-colors",children:[f.jsx(md,{className:"w-4 h-4"})," Scarica .txt"]})]}),l&&f.jsx(IR,{text:"L'intelligenza artificiale sta analizzando il tuo documento..."}),c&&f.jsx(ER,{message:c}),s&&f.jsx("div",{className:"prose max-w-none text-slate-700 animate-fade-in flex-grow overflow-y-auto max-h-[600px]",dangerouslySetInnerHTML:{__html:Z.parse(s)}}),!l&&!c&&!s&&f.jsxs("div",{className:"text-center text-slate-500 py-16",children:[f.jsx(ts,{className:"w-16 h-16 mx-auto mb-4 text-slate-400"}),f.jsx("p",{children:"I risultati della tua analisi appariranno qui."})]})]})]})]})},AR=()=>{const t=`https://wa.me/${io}?text=Vorrei%20unirmi%20al%20gruppo%20benessere!`,e=()=>{window.open(t,"_blank")},n=()=>{window.open(`https://wa.me/${io}?text=Ciao,%20vorrei%20parlare%20con%20il%20Coach%20per%20una%20consulenza.`,"_blank")};return f.jsxs("div",{className:"p-4 md:p-8 animate-fade-in pb-32 max-w-5xl mx-auto",children:[f.jsxs("div",{className:"mb-10 text-center",children:[f.jsx("h1",{className:"text-4xl font-bold text-slate-800 mb-3",children:"Community & Coaching"}),f.jsx("p",{className:"text-xl text-slate-600 max-w-2xl mx-auto",children:"Non sei solo nel tuo percorso. Unisciti alla nostra community per condividere esperienze o parla direttamente con i nostri esperti."})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl shadow-xl p-8 text-white relative overflow-hidden group",children:[f.jsx("div",{className:"absolute top-0 right-0 -mt-10 -mr-10 w-40 h-40 bg-white opacity-10 rounded-full group-hover:scale-150 transition-transform duration-700"}),f.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[f.jsx("div",{className:"bg-white/20 w-16 h-16 rounded-full flex items-center justify-center mb-6 backdrop-blur-sm",children:f.jsx(bx,{className:"w-8 h-8 text-white"})}),f.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Gruppo Condivisione"}),f.jsx("p",{className:"text-emerald-100 mb-8 flex-grow",children:"Entra nel nostro gruppo esclusivo. Condividi i tuoi traguardi, scambia ricette e consigli sui livelli del percorso benessere. La motivazione nasce dalla condivisione!"}),f.jsxs("button",{onClick:e,className:"w-full bg-white text-emerald-600 font-bold py-3 px-6 rounded-xl shadow-lg hover:bg-emerald-50 transition-colors flex items-center justify-center gap-2",children:[f.jsx(gl,{className:"w-5 h-5"}),"Unisciti al Gruppo"]})]})]}),f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-slate-200 relative overflow-hidden group",children:[f.jsx("div",{className:"absolute top-0 right-0 -mt-10 -mr-10 w-40 h-40 bg-sky-100 opacity-50 rounded-full group-hover:scale-150 transition-transform duration-700"}),f.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[f.jsx("div",{className:"bg-sky-100 w-16 h-16 rounded-full flex items-center justify-center mb-6",children:f.jsx(Mn,{className:"w-8 h-8 text-sky-600"})}),f.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Il tuo Coach"}),f.jsx("p",{className:"text-slate-600 mb-8 flex-grow",children:"Hai dubbi su un esercizio? Vuoi personalizzare il tuo percorso o fissare un appuntamento 1-to-1? Parla direttamente con il tuo coach dedicato."}),f.jsxs("button",{onClick:n,className:"w-full bg-sky-600 text-white font-bold py-3 px-6 rounded-xl shadow-lg hover:bg-sky-700 transition-colors flex items-center justify-center gap-2",children:[f.jsx(gl,{className:"w-5 h-5"}),"Chatta con il Coach"]})]})]})]}),f.jsx("div",{className:"mt-12 bg-slate-100 rounded-xl p-6 text-center text-slate-500 text-sm",children:f.jsxs("p",{children:["La comunicazione avviene tramite WhatsApp per garantirti la massima semplicit e privacy.",f.jsx("br",{}),"Il gruppo  moderato da professionisti di Clinical Wellness Spa."]})})]})},MR=()=>{const[t,e]=L.useState(null),[n,i]=L.useState("home"),[o,s]=L.useState(!1),[r,l]=L.useState(null),[a,c]=L.useState(ni),[u,h]=L.useState(!1),[m,g]=L.useState(null),[x,y]=L.useState(null),v=L.useCallback(()=>{const N=me("customWellnessProgramsData",null);if(N&&Object.keys(N).length>0)c(N);else{try{localStorage.setItem("customWellnessProgramsData",JSON.stringify(ni))}catch(I){console.error("Failed to save default wellness data:",I)}c(ni)}},[]);L.useEffect(()=>{const N=me("user",null);N&&(e(N),(!N.age||!N.gender)&&h(!0)),v()},[v]);const _=N=>{e(N),localStorage.setItem("user",JSON.stringify(N)),(!N.age||!N.gender)&&h(!0),i("home")},w=N=>{e(N),localStorage.setItem("user",JSON.stringify(N)),h(!1),C("Profilo aggiornato con successo!","success")},S=()=>{e(null),localStorage.removeItem("user"),i("home")},b=N=>{g(null),y(null),i(N)},C=(N,I="success")=>{l({message:N,type:I})},T=N=>{g(N),y(null)},k=N=>{if(!m||!t)return;const I={id:m,score:N,date:new Date().toISOString()},P=`assessmentHistory_${t.email}_${m}`,D=me(P,[]);D.push(I),localStorage.setItem(P,JSON.stringify(D)),y({id:m,score:N}),g(null)},E=()=>{x&&(g(x.id),y(null))};if(!t)return f.jsx(wS,{onLogin:_});const A=()=>{if(m)return f.jsx(NS,{assessment:Xt[m],onComplete:k});if(x)return f.jsx(db,{assessment:Xt[x.id],score:x.score,onRetake:E,onBackToHome:()=>b("assessments")});switch(n){case"home":return f.jsx(tp,{user:t,onNavigate:b});case"profile":return f.jsx(kS,{user:t,onLogout:S,onNavigate:b});case"assessments":return f.jsx(ES,{user:t,onStartAssessment:T,onNavigate:b});case"dashboard":return f.jsx(Xk,{user:t,onNavigate:b});case"wellnessRoutine":return f.jsx(eI,{user:t,showNotification:C,wellnessData:a});case"breathing":return f.jsx(iI,{});case"spaBookings":return f.jsx(rI,{user:t,showNotification:C});case"pharmacyServices":return f.jsx(lI,{user:t,showNotification:C});case"bloodAnalysis":return f.jsx(NR,{user:t});case"analysisQuote":return f.jsx(dI,{user:t,showNotification:C,onNavigate:b});case"prescriptions":return f.jsx(pI,{user:t,showNotification:C});case"manualUnlock":return f.jsx(fI,{user:t,onNavigate:b,showNotification:C,wellnessData:a});case"adminSettings":return f.jsx(hI,{onSettingsSaved:v,showNotification:C});case"community":return f.jsx(AR,{});default:return f.jsx(tp,{user:t,onNavigate:b})}};return f.jsxs("div",{className:"flex h-screen bg-slate-50",children:[r&&f.jsx(xS,{notification:r,onClose:()=>l(null)}),u&&f.jsx(yS,{user:t,onSave:w}),f.jsx(gS,{user:t,currentPage:n,onNavigate:b,onLogout:S,isOpen:o,setIsOpen:s}),f.jsxs("main",{className:"flex-1 overflow-y-auto md:ml-64",children:[f.jsx("button",{onClick:()=>s(!o),className:"md:hidden fixed top-4 right-4 z-50 p-2 bg-sky-600 text-white rounded-full shadow-lg","aria-label":o?"Chiudi menu":"Apri menu",children:o?f.jsx(ld,{className:"w-6 h-6"}):f.jsx(vS,{className:"w-6 h-6"})}),A()]})]})},sg=document.getElementById("root");sg?Ha.createRoot(sg).render(f.jsx(MR,{})):console.error("Root container not found. The React app can't be mounted.");
