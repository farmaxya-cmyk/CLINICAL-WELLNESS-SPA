var gv=Object.defineProperty;var rd=t=>{throw TypeError(t)};var xv=(t,e,n)=>e in t?gv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var U=(t,e,n)=>xv(t,typeof e!="symbol"?e+"":e,n),vv=(t,e,n)=>e.has(t)||rd("Cannot "+n);var ld=(t,e,n)=>e.has(t)?rd("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n);var Zi=(t,e,n)=>(vv(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function yv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hm={exports:{}},nl={},mm={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cs=Symbol.for("react.element"),_v=Symbol.for("react.portal"),Sv=Symbol.for("react.fragment"),wv=Symbol.for("react.strict_mode"),Cv=Symbol.for("react.profiler"),Tv=Symbol.for("react.provider"),kv=Symbol.for("react.context"),Ev=Symbol.for("react.forward_ref"),Iv=Symbol.for("react.suspense"),bv=Symbol.for("react.memo"),Av=Symbol.for("react.lazy"),ad=Symbol.iterator;function Nv(t){return t===null||typeof t!="object"?null:(t=ad&&t[ad]||t["@@iterator"],typeof t=="function"?t:null)}var gm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xm=Object.assign,vm={};function Wi(t,e,n){this.props=t,this.context=e,this.refs=vm,this.updater=n||gm}Wi.prototype.isReactComponent={};Wi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ym(){}ym.prototype=Wi.prototype;function Pu(t,e,n){this.props=t,this.context=e,this.refs=vm,this.updater=n||gm}var Mu=Pu.prototype=new ym;Mu.constructor=Pu;xm(Mu,Wi.prototype);Mu.isPureReactComponent=!0;var ud=Array.isArray,_m=Object.prototype.hasOwnProperty,Ru={current:null},Sm={key:!0,ref:!0,__self:!0,__source:!0};function wm(t,e,n){var i,o={},s=null,r=null;if(e!=null)for(i in e.ref!==void 0&&(r=e.ref),e.key!==void 0&&(s=""+e.key),e)_m.call(e,i)&&!Sm.hasOwnProperty(i)&&(o[i]=e[i]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];o.children=a}if(t&&t.defaultProps)for(i in l=t.defaultProps,l)o[i]===void 0&&(o[i]=l[i]);return{$$typeof:cs,type:t,key:s,ref:r,props:o,_owner:Ru.current}}function Pv(t,e){return{$$typeof:cs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Du(t){return typeof t=="object"&&t!==null&&t.$$typeof===cs}function Mv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var cd=/\/+/g;function Pl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Mv(""+t.key):e.toString(36)}function Ks(t,e,n,i,o){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var r=!1;if(t===null)r=!0;else switch(s){case"string":case"number":r=!0;break;case"object":switch(t.$$typeof){case cs:case _v:r=!0}}if(r)return r=t,o=o(r),t=i===""?"."+Pl(r,0):i,ud(o)?(n="",t!=null&&(n=t.replace(cd,"$&/")+"/"),Ks(o,e,n,"",function(u){return u})):o!=null&&(Du(o)&&(o=Pv(o,n+(!o.key||r&&r.key===o.key?"":(""+o.key).replace(cd,"$&/")+"/")+t)),e.push(o)),1;if(r=0,i=i===""?".":i+":",ud(t))for(var l=0;l<t.length;l++){s=t[l];var a=i+Pl(s,l);r+=Ks(s,e,n,a,o)}else if(a=Nv(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=i+Pl(s,l++),r+=Ks(s,e,n,a,o);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return r}function ys(t,e,n){if(t==null)return t;var i=[],o=0;return Ks(t,i,"","",function(s){return e.call(n,s,o++)}),i}function Rv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ue={current:null},Qs={transition:null},Dv={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:Qs,ReactCurrentOwner:Ru};function Cm(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:ys,forEach:function(t,e,n){ys(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ys(t,function(){e++}),e},toArray:function(t){return ys(t,function(e){return e})||[]},only:function(t){if(!Du(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};G.Component=Wi;G.Fragment=Sv;G.Profiler=Cv;G.PureComponent=Pu;G.StrictMode=wv;G.Suspense=Iv;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dv;G.act=Cm;G.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=xm({},t.props),o=t.key,s=t.ref,r=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,r=Ru.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)_m.call(e,a)&&!Sm.hasOwnProperty(a)&&(i[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:cs,type:t.type,key:o,ref:s,props:i,_owner:r}};G.createContext=function(t){return t={$$typeof:kv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Tv,_context:t},t.Consumer=t};G.createElement=wm;G.createFactory=function(t){var e=wm.bind(null,t);return e.type=t,e};G.createRef=function(){return{current:null}};G.forwardRef=function(t){return{$$typeof:Ev,render:t}};G.isValidElement=Du;G.lazy=function(t){return{$$typeof:Av,_payload:{_status:-1,_result:t},_init:Rv}};G.memo=function(t,e){return{$$typeof:bv,type:t,compare:e===void 0?null:e}};G.startTransition=function(t){var e=Qs.transition;Qs.transition={};try{t()}finally{Qs.transition=e}};G.unstable_act=Cm;G.useCallback=function(t,e){return Ue.current.useCallback(t,e)};G.useContext=function(t){return Ue.current.useContext(t)};G.useDebugValue=function(){};G.useDeferredValue=function(t){return Ue.current.useDeferredValue(t)};G.useEffect=function(t,e){return Ue.current.useEffect(t,e)};G.useId=function(){return Ue.current.useId()};G.useImperativeHandle=function(t,e,n){return Ue.current.useImperativeHandle(t,e,n)};G.useInsertionEffect=function(t,e){return Ue.current.useInsertionEffect(t,e)};G.useLayoutEffect=function(t,e){return Ue.current.useLayoutEffect(t,e)};G.useMemo=function(t,e){return Ue.current.useMemo(t,e)};G.useReducer=function(t,e,n){return Ue.current.useReducer(t,e,n)};G.useRef=function(t){return Ue.current.useRef(t)};G.useState=function(t){return Ue.current.useState(t)};G.useSyncExternalStore=function(t,e,n){return Ue.current.useSyncExternalStore(t,e,n)};G.useTransition=function(){return Ue.current.useTransition()};G.version="18.3.1";mm.exports=G;var Je=mm.exports;const R=yv(Je);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv=Je,zv=Symbol.for("react.element"),Fv=Symbol.for("react.fragment"),Uv=Object.prototype.hasOwnProperty,Bv=Lv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vv={key:!0,ref:!0,__self:!0,__source:!0};function Tm(t,e,n){var i,o={},s=null,r=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(r=e.ref);for(i in e)Uv.call(e,i)&&!Vv.hasOwnProperty(i)&&(o[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)o[i]===void 0&&(o[i]=e[i]);return{$$typeof:zv,type:t,key:s,ref:r,props:o,_owner:Bv.current}}nl.Fragment=Fv;nl.jsx=Tm;nl.jsxs=Tm;hm.exports=nl;var p=hm.exports,ha={},km={exports:{}},it={},Em={exports:{}},Im={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,H){var O=L.length;L.push(H);e:for(;0<O;){var Z=O-1>>>1,ne=L[Z];if(0<o(ne,H))L[Z]=H,L[O]=ne,O=Z;else break e}}function n(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var H=L[0],O=L.pop();if(O!==H){L[0]=O;e:for(var Z=0,ne=L.length,St=ne>>>1;Z<St;){var Re=2*(Z+1)-1,Mt=L[Re],De=Re+1,vs=L[De];if(0>o(Mt,O))De<ne&&0>o(vs,Mt)?(L[Z]=vs,L[De]=O,Z=De):(L[Z]=Mt,L[Re]=O,Z=Re);else if(De<ne&&0>o(vs,O))L[Z]=vs,L[De]=O,Z=De;else break e}}return H}function o(L,H){var O=L.sortIndex-H.sortIndex;return O!==0?O:L.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var r=Date,l=r.now();t.unstable_now=function(){return r.now()-l}}var a=[],u=[],d=1,h=null,m=3,g=!1,x=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(L){for(var H=n(u);H!==null;){if(H.callback===null)i(u);else if(H.startTime<=L)i(u),H.sortIndex=H.expirationTime,e(a,H);else break;H=n(u)}}function C(L){if(v=!1,y(L),!x)if(n(a)!==null)x=!0,V(T);else{var H=n(u);H!==null&&ae(C,H.startTime-L)}}function T(L,H){x=!1,v&&(v=!1,S(b),b=-1),g=!0;var O=m;try{for(y(H),h=n(a);h!==null&&(!(h.expirationTime>H)||L&&!E());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,m=h.priorityLevel;var ne=Z(h.expirationTime<=H);H=t.unstable_now(),typeof ne=="function"?h.callback=ne:h===n(a)&&i(a),y(H)}else i(a);h=n(a)}if(h!==null)var St=!0;else{var Re=n(u);Re!==null&&ae(C,Re.startTime-H),St=!1}return St}finally{h=null,m=O,g=!1}}var k=!1,I=null,b=-1,N=5,A=-1;function E(){return!(t.unstable_now()-A<N)}function P(){if(I!==null){var L=t.unstable_now();A=L;var H=!0;try{H=I(!0,L)}finally{H?D():(k=!1,I=null)}}else k=!1}var D;if(typeof _=="function")D=function(){_(P)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,B=q.port2;q.port1.onmessage=P,D=function(){B.postMessage(null)}}else D=function(){w(P,0)};function V(L){I=L,k||(k=!0,D())}function ae(L,H){b=w(function(){L(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){x||g||(x=!0,V(T))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(L){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var O=m;m=H;try{return L()}finally{m=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,H){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var O=m;m=L;try{return H()}finally{m=O}},t.unstable_scheduleCallback=function(L,H,O){var Z=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?Z+O:Z):O=Z,L){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=O+ne,L={id:d++,callback:H,priorityLevel:L,startTime:O,expirationTime:ne,sortIndex:-1},O>Z?(L.sortIndex=O,e(u,L),n(a)===null&&L===n(u)&&(v?(S(b),b=-1):v=!0,ae(C,O-Z))):(L.sortIndex=ne,e(a,L),x||g||(x=!0,V(T))),L},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(L){var H=m;return function(){var O=m;m=H;try{return L.apply(this,arguments)}finally{m=O}}}})(Im);Em.exports=Im;var Hv=Em.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov=Je,nt=Hv;function M(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bm=new Set,qo={};function ti(t,e){Di(t,e),Di(t+"Capture",e)}function Di(t,e){for(qo[t]=e,t=0;t<e.length;t++)bm.add(e[t])}var $t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ma=Object.prototype.hasOwnProperty,qv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dd={},fd={};function Gv(t){return ma.call(fd,t)?!0:ma.call(dd,t)?!1:qv.test(t)?fd[t]=!0:(dd[t]=!0,!1)}function $v(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Wv(t,e,n,i){if(e===null||typeof e>"u"||$v(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Be(t,e,n,i,o,s,r){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=r}var Ee={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ee[t]=new Be(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ee[e]=new Be(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ee[t]=new Be(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ee[t]=new Be(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ee[t]=new Be(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ee[t]=new Be(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ee[t]=new Be(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ee[t]=new Be(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ee[t]=new Be(t,5,!1,t.toLowerCase(),null,!1,!1)});var Lu=/[\-:]([a-z])/g;function zu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Lu,zu);Ee[e]=new Be(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Lu,zu);Ee[e]=new Be(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Lu,zu);Ee[e]=new Be(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ee[t]=new Be(t,1,!1,t.toLowerCase(),null,!1,!1)});Ee.xlinkHref=new Be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ee[t]=new Be(t,1,!1,t.toLowerCase(),null,!0,!0)});function Fu(t,e,n,i){var o=Ee.hasOwnProperty(e)?Ee[e]:null;(o!==null?o.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Wv(e,n,o,i)&&(n=null),i||o===null?Gv(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,i=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Qt=Ov.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_s=Symbol.for("react.element"),ai=Symbol.for("react.portal"),ui=Symbol.for("react.fragment"),Uu=Symbol.for("react.strict_mode"),ga=Symbol.for("react.profiler"),Am=Symbol.for("react.provider"),Nm=Symbol.for("react.context"),Bu=Symbol.for("react.forward_ref"),xa=Symbol.for("react.suspense"),va=Symbol.for("react.suspense_list"),Vu=Symbol.for("react.memo"),nn=Symbol.for("react.lazy"),Pm=Symbol.for("react.offscreen"),pd=Symbol.iterator;function eo(t){return t===null||typeof t!="object"?null:(t=pd&&t[pd]||t["@@iterator"],typeof t=="function"?t:null)}var de=Object.assign,Ml;function vo(t){if(Ml===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ml=e&&e[1]||""}return`
`+Ml+t}var Rl=!1;function Dl(t,e){if(!t||Rl)return"";Rl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){i=u}t.call(e.prototype)}else{try{throw Error()}catch(u){i=u}t()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),s=i.stack.split(`
`),r=o.length-1,l=s.length-1;1<=r&&0<=l&&o[r]!==s[l];)l--;for(;1<=r&&0<=l;r--,l--)if(o[r]!==s[l]){if(r!==1||l!==1)do if(r--,l--,0>l||o[r]!==s[l]){var a=`
`+o[r].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=r&&0<=l);break}}}finally{Rl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?vo(t):""}function jv(t){switch(t.tag){case 5:return vo(t.type);case 16:return vo("Lazy");case 13:return vo("Suspense");case 19:return vo("SuspenseList");case 0:case 2:case 15:return t=Dl(t.type,!1),t;case 11:return t=Dl(t.type.render,!1),t;case 1:return t=Dl(t.type,!0),t;default:return""}}function ya(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ui:return"Fragment";case ai:return"Portal";case ga:return"Profiler";case Uu:return"StrictMode";case xa:return"Suspense";case va:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Nm:return(t.displayName||"Context")+".Consumer";case Am:return(t._context.displayName||"Context")+".Provider";case Bu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Vu:return e=t.displayName||null,e!==null?e:ya(t.type)||"Memo";case nn:e=t._payload,t=t._init;try{return ya(t(e))}catch{}}return null}function Jv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ya(e);case 8:return e===Uu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Cn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Mm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Yv(t){var e=Mm(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(r){i=""+r,s.call(this,r)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(r){i=""+r},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ss(t){t._valueTracker||(t._valueTracker=Yv(t))}function Rm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=Mm(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function hr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _a(t,e){var n=e.checked;return de({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function hd(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Cn(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Dm(t,e){e=e.checked,e!=null&&Fu(t,"checked",e,!1)}function Sa(t,e){Dm(t,e);var n=Cn(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wa(t,e.type,n):e.hasOwnProperty("defaultValue")&&wa(t,e.type,Cn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function md(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function wa(t,e,n){(e!=="number"||hr(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var yo=Array.isArray;function wi(t,e,n,i){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Cn(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,i&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function Ca(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(M(91));return de({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function gd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(M(92));if(yo(n)){if(1<n.length)throw Error(M(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Cn(n)}}function Lm(t,e){var n=Cn(e.value),i=Cn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function xd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function zm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ta(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?zm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ws,Fm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ws=ws||document.createElement("div"),ws.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ws.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Go(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Eo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kv=["Webkit","ms","Moz","O"];Object.keys(Eo).forEach(function(t){Kv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Eo[e]=Eo[t]})});function Um(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Eo.hasOwnProperty(t)&&Eo[t]?(""+e).trim():e+"px"}function Bm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,o=Um(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,o):t[n]=o}}var Qv=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ka(t,e){if(e){if(Qv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(M(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(M(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(M(61))}if(e.style!=null&&typeof e.style!="object")throw Error(M(62))}}function Ea(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ia=null;function Hu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ba=null,Ci=null,Ti=null;function vd(t){if(t=ps(t)){if(typeof ba!="function")throw Error(M(280));var e=t.stateNode;e&&(e=ll(e),ba(t.stateNode,t.type,e))}}function Vm(t){Ci?Ti?Ti.push(t):Ti=[t]:Ci=t}function Hm(){if(Ci){var t=Ci,e=Ti;if(Ti=Ci=null,vd(t),e)for(t=0;t<e.length;t++)vd(e[t])}}function Om(t,e){return t(e)}function qm(){}var Ll=!1;function Gm(t,e,n){if(Ll)return t(e,n);Ll=!0;try{return Om(t,e,n)}finally{Ll=!1,(Ci!==null||Ti!==null)&&(qm(),Hm())}}function $o(t,e){var n=t.stateNode;if(n===null)return null;var i=ll(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(M(231,e,typeof n));return n}var Aa=!1;if($t)try{var to={};Object.defineProperty(to,"passive",{get:function(){Aa=!0}}),window.addEventListener("test",to,to),window.removeEventListener("test",to,to)}catch{Aa=!1}function Xv(t,e,n,i,o,s,r,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Io=!1,mr=null,gr=!1,Na=null,Zv={onError:function(t){Io=!0,mr=t}};function ey(t,e,n,i,o,s,r,l,a){Io=!1,mr=null,Xv.apply(Zv,arguments)}function ty(t,e,n,i,o,s,r,l,a){if(ey.apply(this,arguments),Io){if(Io){var u=mr;Io=!1,mr=null}else throw Error(M(198));gr||(gr=!0,Na=u)}}function ni(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function $m(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function yd(t){if(ni(t)!==t)throw Error(M(188))}function ny(t){var e=t.alternate;if(!e){if(e=ni(t),e===null)throw Error(M(188));return e!==t?null:t}for(var n=t,i=e;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return yd(o),t;if(s===i)return yd(o),e;s=s.sibling}throw Error(M(188))}if(n.return!==i.return)n=o,i=s;else{for(var r=!1,l=o.child;l;){if(l===n){r=!0,n=o,i=s;break}if(l===i){r=!0,i=o,n=s;break}l=l.sibling}if(!r){for(l=s.child;l;){if(l===n){r=!0,n=s,i=o;break}if(l===i){r=!0,i=s,n=o;break}l=l.sibling}if(!r)throw Error(M(189))}}if(n.alternate!==i)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?t:e}function Wm(t){return t=ny(t),t!==null?jm(t):null}function jm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=jm(t);if(e!==null)return e;t=t.sibling}return null}var Jm=nt.unstable_scheduleCallback,_d=nt.unstable_cancelCallback,iy=nt.unstable_shouldYield,oy=nt.unstable_requestPaint,ge=nt.unstable_now,sy=nt.unstable_getCurrentPriorityLevel,Ou=nt.unstable_ImmediatePriority,Ym=nt.unstable_UserBlockingPriority,xr=nt.unstable_NormalPriority,ry=nt.unstable_LowPriority,Km=nt.unstable_IdlePriority,il=null,Nt=null;function ly(t){if(Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(il,t,void 0,(t.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:cy,ay=Math.log,uy=Math.LN2;function cy(t){return t>>>=0,t===0?32:31-(ay(t)/uy|0)|0}var Cs=64,Ts=4194304;function _o(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function vr(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,o=t.suspendedLanes,s=t.pingedLanes,r=n&268435455;if(r!==0){var l=r&~o;l!==0?i=_o(l):(s&=r,s!==0&&(i=_o(s)))}else r=n&~o,r!==0?i=_o(r):s!==0&&(i=_o(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&o)&&(o=i&-i,s=e&-e,o>=s||o===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-xt(e),o=1<<n,i|=t[n],e&=~o;return i}function dy(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fy(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes;0<s;){var r=31-xt(s),l=1<<r,a=o[r];a===-1?(!(l&n)||l&i)&&(o[r]=dy(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function Pa(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Qm(){var t=Cs;return Cs<<=1,!(Cs&4194240)&&(Cs=64),t}function zl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ds(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xt(e),t[e]=n}function py(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-xt(n),s=1<<o;e[o]=0,i[o]=-1,t[o]=-1,n&=~s}}function qu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-xt(n),o=1<<i;o&e|t[i]&e&&(t[i]|=e),n&=~o}}var Q=0;function Xm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Zm,Gu,eg,tg,ng,Ma=!1,ks=[],hn=null,mn=null,gn=null,Wo=new Map,jo=new Map,sn=[],hy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sd(t,e){switch(t){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":mn=null;break;case"mouseover":case"mouseout":gn=null;break;case"pointerover":case"pointerout":Wo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jo.delete(e.pointerId)}}function no(t,e,n,i,o,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[o]},e!==null&&(e=ps(e),e!==null&&Gu(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function my(t,e,n,i,o){switch(e){case"focusin":return hn=no(hn,t,e,n,i,o),!0;case"dragenter":return mn=no(mn,t,e,n,i,o),!0;case"mouseover":return gn=no(gn,t,e,n,i,o),!0;case"pointerover":var s=o.pointerId;return Wo.set(s,no(Wo.get(s)||null,t,e,n,i,o)),!0;case"gotpointercapture":return s=o.pointerId,jo.set(s,no(jo.get(s)||null,t,e,n,i,o)),!0}return!1}function ig(t){var e=Hn(t.target);if(e!==null){var n=ni(e);if(n!==null){if(e=n.tag,e===13){if(e=$m(n),e!==null){t.blockedOn=e,ng(t.priority,function(){eg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ra(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Ia=i,n.target.dispatchEvent(i),Ia=null}else return e=ps(n),e!==null&&Gu(e),t.blockedOn=n,!1;e.shift()}return!0}function wd(t,e,n){Xs(t)&&n.delete(e)}function gy(){Ma=!1,hn!==null&&Xs(hn)&&(hn=null),mn!==null&&Xs(mn)&&(mn=null),gn!==null&&Xs(gn)&&(gn=null),Wo.forEach(wd),jo.forEach(wd)}function io(t,e){t.blockedOn===e&&(t.blockedOn=null,Ma||(Ma=!0,nt.unstable_scheduleCallback(nt.unstable_NormalPriority,gy)))}function Jo(t){function e(o){return io(o,t)}if(0<ks.length){io(ks[0],t);for(var n=1;n<ks.length;n++){var i=ks[n];i.blockedOn===t&&(i.blockedOn=null)}}for(hn!==null&&io(hn,t),mn!==null&&io(mn,t),gn!==null&&io(gn,t),Wo.forEach(e),jo.forEach(e),n=0;n<sn.length;n++)i=sn[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<sn.length&&(n=sn[0],n.blockedOn===null);)ig(n),n.blockedOn===null&&sn.shift()}var ki=Qt.ReactCurrentBatchConfig,yr=!0;function xy(t,e,n,i){var o=Q,s=ki.transition;ki.transition=null;try{Q=1,$u(t,e,n,i)}finally{Q=o,ki.transition=s}}function vy(t,e,n,i){var o=Q,s=ki.transition;ki.transition=null;try{Q=4,$u(t,e,n,i)}finally{Q=o,ki.transition=s}}function $u(t,e,n,i){if(yr){var o=Ra(t,e,n,i);if(o===null)Wl(t,e,i,_r,n),Sd(t,i);else if(my(o,t,e,n,i))i.stopPropagation();else if(Sd(t,i),e&4&&-1<hy.indexOf(t)){for(;o!==null;){var s=ps(o);if(s!==null&&Zm(s),s=Ra(t,e,n,i),s===null&&Wl(t,e,i,_r,n),s===o)break;o=s}o!==null&&i.stopPropagation()}else Wl(t,e,i,null,n)}}var _r=null;function Ra(t,e,n,i){if(_r=null,t=Hu(i),t=Hn(t),t!==null)if(e=ni(t),e===null)t=null;else if(n=e.tag,n===13){if(t=$m(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _r=t,null}function og(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sy()){case Ou:return 1;case Ym:return 4;case xr:case ry:return 16;case Km:return 536870912;default:return 16}default:return 16}}var ln=null,Wu=null,Zs=null;function sg(){if(Zs)return Zs;var t,e=Wu,n=e.length,i,o="value"in ln?ln.value:ln.textContent,s=o.length;for(t=0;t<n&&e[t]===o[t];t++);var r=n-t;for(i=1;i<=r&&e[n-i]===o[s-i];i++);return Zs=o.slice(t,1<i?1-i:void 0)}function er(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Es(){return!0}function Cd(){return!1}function ot(t){function e(n,i,o,s,r){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=s,this.target=r,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Es:Cd,this.isPropagationStopped=Cd,this}return de(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Es)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Es)},persist:function(){},isPersistent:Es}),e}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ju=ot(ji),fs=de({},ji,{view:0,detail:0}),yy=ot(fs),Fl,Ul,oo,ol=de({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ju,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oo&&(oo&&t.type==="mousemove"?(Fl=t.screenX-oo.screenX,Ul=t.screenY-oo.screenY):Ul=Fl=0,oo=t),Fl)},movementY:function(t){return"movementY"in t?t.movementY:Ul}}),Td=ot(ol),_y=de({},ol,{dataTransfer:0}),Sy=ot(_y),wy=de({},fs,{relatedTarget:0}),Bl=ot(wy),Cy=de({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Ty=ot(Cy),ky=de({},ji,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ey=ot(ky),Iy=de({},ji,{data:0}),kd=ot(Iy),by={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ay={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ny={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Py(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ny[t])?!!e[t]:!1}function Ju(){return Py}var My=de({},fs,{key:function(t){if(t.key){var e=by[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=er(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ay[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ju,charCode:function(t){return t.type==="keypress"?er(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?er(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ry=ot(My),Dy=de({},ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ed=ot(Dy),Ly=de({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ju}),zy=ot(Ly),Fy=de({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uy=ot(Fy),By=de({},ol,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Vy=ot(By),Hy=[9,13,27,32],Yu=$t&&"CompositionEvent"in window,bo=null;$t&&"documentMode"in document&&(bo=document.documentMode);var Oy=$t&&"TextEvent"in window&&!bo,rg=$t&&(!Yu||bo&&8<bo&&11>=bo),Id=" ",bd=!1;function lg(t,e){switch(t){case"keyup":return Hy.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ag(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ci=!1;function qy(t,e){switch(t){case"compositionend":return ag(e);case"keypress":return e.which!==32?null:(bd=!0,Id);case"textInput":return t=e.data,t===Id&&bd?null:t;default:return null}}function Gy(t,e){if(ci)return t==="compositionend"||!Yu&&lg(t,e)?(t=sg(),Zs=Wu=ln=null,ci=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return rg&&e.locale!=="ko"?null:e.data;default:return null}}var $y={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ad(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$y[t.type]:e==="textarea"}function ug(t,e,n,i){Vm(i),e=Sr(e,"onChange"),0<e.length&&(n=new ju("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Ao=null,Yo=null;function Wy(t){_g(t,0)}function sl(t){var e=pi(t);if(Rm(e))return t}function jy(t,e){if(t==="change")return e}var cg=!1;if($t){var Vl;if($t){var Hl="oninput"in document;if(!Hl){var Nd=document.createElement("div");Nd.setAttribute("oninput","return;"),Hl=typeof Nd.oninput=="function"}Vl=Hl}else Vl=!1;cg=Vl&&(!document.documentMode||9<document.documentMode)}function Pd(){Ao&&(Ao.detachEvent("onpropertychange",dg),Yo=Ao=null)}function dg(t){if(t.propertyName==="value"&&sl(Yo)){var e=[];ug(e,Yo,t,Hu(t)),Gm(Wy,e)}}function Jy(t,e,n){t==="focusin"?(Pd(),Ao=e,Yo=n,Ao.attachEvent("onpropertychange",dg)):t==="focusout"&&Pd()}function Yy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return sl(Yo)}function Ky(t,e){if(t==="click")return sl(e)}function Qy(t,e){if(t==="input"||t==="change")return sl(e)}function Xy(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yt=typeof Object.is=="function"?Object.is:Xy;function Ko(t,e){if(yt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!ma.call(e,o)||!yt(t[o],e[o]))return!1}return!0}function Md(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rd(t,e){var n=Md(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Md(n)}}function fg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?fg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pg(){for(var t=window,e=hr();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=hr(t.document)}return e}function Ku(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Zy(t){var e=pg(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&fg(n.ownerDocument.documentElement,n)){if(i!==null&&Ku(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,s=Math.min(i.start,o);i=i.end===void 0?s:Math.min(i.end,o),!t.extend&&s>i&&(o=i,i=s,s=o),o=Rd(n,s);var r=Rd(n,i);o&&r&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==r.node||t.focusOffset!==r.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(r.node,r.offset)):(e.setEnd(r.node,r.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var e_=$t&&"documentMode"in document&&11>=document.documentMode,di=null,Da=null,No=null,La=!1;function Dd(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;La||di==null||di!==hr(i)||(i=di,"selectionStart"in i&&Ku(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),No&&Ko(No,i)||(No=i,i=Sr(Da,"onSelect"),0<i.length&&(e=new ju("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=di)))}function Is(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var fi={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionend:Is("Transition","TransitionEnd")},Ol={},hg={};$t&&(hg=document.createElement("div").style,"AnimationEvent"in window||(delete fi.animationend.animation,delete fi.animationiteration.animation,delete fi.animationstart.animation),"TransitionEvent"in window||delete fi.transitionend.transition);function rl(t){if(Ol[t])return Ol[t];if(!fi[t])return t;var e=fi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in hg)return Ol[t]=e[n];return t}var mg=rl("animationend"),gg=rl("animationiteration"),xg=rl("animationstart"),vg=rl("transitionend"),yg=new Map,Ld="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bn(t,e){yg.set(t,e),ti(e,[t])}for(var ql=0;ql<Ld.length;ql++){var Gl=Ld[ql],t_=Gl.toLowerCase(),n_=Gl[0].toUpperCase()+Gl.slice(1);bn(t_,"on"+n_)}bn(mg,"onAnimationEnd");bn(gg,"onAnimationIteration");bn(xg,"onAnimationStart");bn("dblclick","onDoubleClick");bn("focusin","onFocus");bn("focusout","onBlur");bn(vg,"onTransitionEnd");Di("onMouseEnter",["mouseout","mouseover"]);Di("onMouseLeave",["mouseout","mouseover"]);Di("onPointerEnter",["pointerout","pointerover"]);Di("onPointerLeave",["pointerout","pointerover"]);ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ti("onBeforeInput",["compositionend","keypress","textInput","paste"]);ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var So="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i_=new Set("cancel close invalid load scroll toggle".split(" ").concat(So));function zd(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,ty(i,e,void 0,t),t.currentTarget=null}function _g(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],o=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var r=i.length-1;0<=r;r--){var l=i[r],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&o.isPropagationStopped())break e;zd(o,l,u),s=a}else for(r=0;r<i.length;r++){if(l=i[r],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&o.isPropagationStopped())break e;zd(o,l,u),s=a}}}if(gr)throw t=Na,gr=!1,Na=null,t}function ie(t,e){var n=e[Va];n===void 0&&(n=e[Va]=new Set);var i=t+"__bubble";n.has(i)||(Sg(e,t,2,!1),n.add(i))}function $l(t,e,n){var i=0;e&&(i|=4),Sg(n,t,i,e)}var bs="_reactListening"+Math.random().toString(36).slice(2);function Qo(t){if(!t[bs]){t[bs]=!0,bm.forEach(function(n){n!=="selectionchange"&&(i_.has(n)||$l(n,!1,t),$l(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bs]||(e[bs]=!0,$l("selectionchange",!1,e))}}function Sg(t,e,n,i){switch(og(e)){case 1:var o=xy;break;case 4:o=vy;break;default:o=$u}n=o.bind(null,e,n,t),o=void 0,!Aa||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),i?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function Wl(t,e,n,i,o){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var r=i.tag;if(r===3||r===4){var l=i.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(r===4)for(r=i.return;r!==null;){var a=r.tag;if((a===3||a===4)&&(a=r.stateNode.containerInfo,a===o||a.nodeType===8&&a.parentNode===o))return;r=r.return}for(;l!==null;){if(r=Hn(l),r===null)return;if(a=r.tag,a===5||a===6){i=s=r;continue e}l=l.parentNode}}i=i.return}Gm(function(){var u=s,d=Hu(n),h=[];e:{var m=yg.get(t);if(m!==void 0){var g=ju,x=t;switch(t){case"keypress":if(er(n)===0)break e;case"keydown":case"keyup":g=Ry;break;case"focusin":x="focus",g=Bl;break;case"focusout":x="blur",g=Bl;break;case"beforeblur":case"afterblur":g=Bl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Td;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Sy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=zy;break;case mg:case gg:case xg:g=Ty;break;case vg:g=Uy;break;case"scroll":g=yy;break;case"wheel":g=Vy;break;case"copy":case"cut":case"paste":g=Ey;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Ed}var v=(e&4)!==0,w=!v&&t==="scroll",S=v?m!==null?m+"Capture":null:m;v=[];for(var _=u,y;_!==null;){y=_;var C=y.stateNode;if(y.tag===5&&C!==null&&(y=C,S!==null&&(C=$o(_,S),C!=null&&v.push(Xo(_,C,y)))),w)break;_=_.return}0<v.length&&(m=new g(m,x,null,n,d),h.push({event:m,listeners:v}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==Ia&&(x=n.relatedTarget||n.fromElement)&&(Hn(x)||x[Wt]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=u,x=x?Hn(x):null,x!==null&&(w=ni(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=u),g!==x)){if(v=Td,C="onMouseLeave",S="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(v=Ed,C="onPointerLeave",S="onPointerEnter",_="pointer"),w=g==null?m:pi(g),y=x==null?m:pi(x),m=new v(C,_+"leave",g,n,d),m.target=w,m.relatedTarget=y,C=null,Hn(d)===u&&(v=new v(S,_+"enter",x,n,d),v.target=y,v.relatedTarget=w,C=v),w=C,g&&x)t:{for(v=g,S=x,_=0,y=v;y;y=ri(y))_++;for(y=0,C=S;C;C=ri(C))y++;for(;0<_-y;)v=ri(v),_--;for(;0<y-_;)S=ri(S),y--;for(;_--;){if(v===S||S!==null&&v===S.alternate)break t;v=ri(v),S=ri(S)}v=null}else v=null;g!==null&&Fd(h,m,g,v,!1),x!==null&&w!==null&&Fd(h,w,x,v,!0)}}e:{if(m=u?pi(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var T=jy;else if(Ad(m))if(cg)T=Qy;else{T=Yy;var k=Jy}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(T=Ky);if(T&&(T=T(t,u))){ug(h,T,n,d);break e}k&&k(t,m,u),t==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&wa(m,"number",m.value)}switch(k=u?pi(u):window,t){case"focusin":(Ad(k)||k.contentEditable==="true")&&(di=k,Da=u,No=null);break;case"focusout":No=Da=di=null;break;case"mousedown":La=!0;break;case"contextmenu":case"mouseup":case"dragend":La=!1,Dd(h,n,d);break;case"selectionchange":if(e_)break;case"keydown":case"keyup":Dd(h,n,d)}var I;if(Yu)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else ci?lg(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(rg&&n.locale!=="ko"&&(ci||b!=="onCompositionStart"?b==="onCompositionEnd"&&ci&&(I=sg()):(ln=d,Wu="value"in ln?ln.value:ln.textContent,ci=!0)),k=Sr(u,b),0<k.length&&(b=new kd(b,t,null,n,d),h.push({event:b,listeners:k}),I?b.data=I:(I=ag(n),I!==null&&(b.data=I)))),(I=Oy?qy(t,n):Gy(t,n))&&(u=Sr(u,"onBeforeInput"),0<u.length&&(d=new kd("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=I))}_g(h,e)})}function Xo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sr(t,e){for(var n=e+"Capture",i=[];t!==null;){var o=t,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=$o(t,n),s!=null&&i.unshift(Xo(t,s,o)),s=$o(t,e),s!=null&&i.push(Xo(t,s,o))),t=t.return}return i}function ri(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Fd(t,e,n,i,o){for(var s=e._reactName,r=[];n!==null&&n!==i;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===i)break;l.tag===5&&u!==null&&(l=u,o?(a=$o(n,s),a!=null&&r.unshift(Xo(n,a,l))):o||(a=$o(n,s),a!=null&&r.push(Xo(n,a,l)))),n=n.return}r.length!==0&&t.push({event:e,listeners:r})}var o_=/\r\n?/g,s_=/\u0000|\uFFFD/g;function Ud(t){return(typeof t=="string"?t:""+t).replace(o_,`
`).replace(s_,"")}function As(t,e,n){if(e=Ud(e),Ud(t)!==e&&n)throw Error(M(425))}function wr(){}var za=null,Fa=null;function Ua(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ba=typeof setTimeout=="function"?setTimeout:void 0,r_=typeof clearTimeout=="function"?clearTimeout:void 0,Bd=typeof Promise=="function"?Promise:void 0,l_=typeof queueMicrotask=="function"?queueMicrotask:typeof Bd<"u"?function(t){return Bd.resolve(null).then(t).catch(a_)}:Ba;function a_(t){setTimeout(function(){throw t})}function jl(t,e){var n=e,i=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(i===0){t.removeChild(o),Jo(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=o}while(n);Jo(e)}function xn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Vd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ji=Math.random().toString(36).slice(2),It="__reactFiber$"+Ji,Zo="__reactProps$"+Ji,Wt="__reactContainer$"+Ji,Va="__reactEvents$"+Ji,u_="__reactListeners$"+Ji,c_="__reactHandles$"+Ji;function Hn(t){var e=t[It];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wt]||n[It]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Vd(t);t!==null;){if(n=t[It])return n;t=Vd(t)}return e}t=n,n=t.parentNode}return null}function ps(t){return t=t[It]||t[Wt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function pi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(M(33))}function ll(t){return t[Zo]||null}var Ha=[],hi=-1;function An(t){return{current:t}}function re(t){0>hi||(t.current=Ha[hi],Ha[hi]=null,hi--)}function te(t,e){hi++,Ha[hi]=t.current,t.current=e}var Tn={},Pe=An(Tn),Ge=An(!1),Jn=Tn;function Li(t,e){var n=t.type.contextTypes;if(!n)return Tn;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function $e(t){return t=t.childContextTypes,t!=null}function Cr(){re(Ge),re(Pe)}function Hd(t,e,n){if(Pe.current!==Tn)throw Error(M(168));te(Pe,e),te(Ge,n)}function wg(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var o in i)if(!(o in e))throw Error(M(108,Jv(t)||"Unknown",o));return de({},n,i)}function Tr(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Tn,Jn=Pe.current,te(Pe,t),te(Ge,Ge.current),!0}function Od(t,e,n){var i=t.stateNode;if(!i)throw Error(M(169));n?(t=wg(t,e,Jn),i.__reactInternalMemoizedMergedChildContext=t,re(Ge),re(Pe),te(Pe,t)):re(Ge),te(Ge,n)}var Ft=null,al=!1,Jl=!1;function Cg(t){Ft===null?Ft=[t]:Ft.push(t)}function d_(t){al=!0,Cg(t)}function Nn(){if(!Jl&&Ft!==null){Jl=!0;var t=0,e=Q;try{var n=Ft;for(Q=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Ft=null,al=!1}catch(o){throw Ft!==null&&(Ft=Ft.slice(t+1)),Jm(Ou,Nn),o}finally{Q=e,Jl=!1}}return null}var mi=[],gi=0,kr=null,Er=0,rt=[],lt=0,Yn=null,Bt=1,Vt="";function Fn(t,e){mi[gi++]=Er,mi[gi++]=kr,kr=t,Er=e}function Tg(t,e,n){rt[lt++]=Bt,rt[lt++]=Vt,rt[lt++]=Yn,Yn=t;var i=Bt;t=Vt;var o=32-xt(i)-1;i&=~(1<<o),n+=1;var s=32-xt(e)+o;if(30<s){var r=o-o%5;s=(i&(1<<r)-1).toString(32),i>>=r,o-=r,Bt=1<<32-xt(e)+o|n<<o|i,Vt=s+t}else Bt=1<<s|n<<o|i,Vt=t}function Qu(t){t.return!==null&&(Fn(t,1),Tg(t,1,0))}function Xu(t){for(;t===kr;)kr=mi[--gi],mi[gi]=null,Er=mi[--gi],mi[gi]=null;for(;t===Yn;)Yn=rt[--lt],rt[lt]=null,Vt=rt[--lt],rt[lt]=null,Bt=rt[--lt],rt[lt]=null}var et=null,Xe=null,le=!1,gt=null;function kg(t,e){var n=at(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function qd(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,et=t,Xe=xn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,et=t,Xe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Yn!==null?{id:Bt,overflow:Vt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=at(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,et=t,Xe=null,!0):!1;default:return!1}}function Oa(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qa(t){if(le){var e=Xe;if(e){var n=e;if(!qd(t,e)){if(Oa(t))throw Error(M(418));e=xn(n.nextSibling);var i=et;e&&qd(t,e)?kg(i,n):(t.flags=t.flags&-4097|2,le=!1,et=t)}}else{if(Oa(t))throw Error(M(418));t.flags=t.flags&-4097|2,le=!1,et=t}}}function Gd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;et=t}function Ns(t){if(t!==et)return!1;if(!le)return Gd(t),le=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ua(t.type,t.memoizedProps)),e&&(e=Xe)){if(Oa(t))throw Eg(),Error(M(418));for(;e;)kg(t,e),e=xn(e.nextSibling)}if(Gd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(M(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Xe=xn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Xe=null}}else Xe=et?xn(t.stateNode.nextSibling):null;return!0}function Eg(){for(var t=Xe;t;)t=xn(t.nextSibling)}function zi(){Xe=et=null,le=!1}function Zu(t){gt===null?gt=[t]:gt.push(t)}var f_=Qt.ReactCurrentBatchConfig;function so(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var i=n.stateNode}if(!i)throw Error(M(147,t));var o=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(r){var l=o.refs;r===null?delete l[s]:l[s]=r},e._stringRef=s,e)}if(typeof t!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,t))}return t}function Ps(t,e){throw t=Object.prototype.toString.call(e),Error(M(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $d(t){var e=t._init;return e(t._payload)}function Ig(t){function e(S,_){if(t){var y=S.deletions;y===null?(S.deletions=[_],S.flags|=16):y.push(_)}}function n(S,_){if(!t)return null;for(;_!==null;)e(S,_),_=_.sibling;return null}function i(S,_){for(S=new Map;_!==null;)_.key!==null?S.set(_.key,_):S.set(_.index,_),_=_.sibling;return S}function o(S,_){return S=Sn(S,_),S.index=0,S.sibling=null,S}function s(S,_,y){return S.index=y,t?(y=S.alternate,y!==null?(y=y.index,y<_?(S.flags|=2,_):y):(S.flags|=2,_)):(S.flags|=1048576,_)}function r(S){return t&&S.alternate===null&&(S.flags|=2),S}function l(S,_,y,C){return _===null||_.tag!==6?(_=ta(y,S.mode,C),_.return=S,_):(_=o(_,y),_.return=S,_)}function a(S,_,y,C){var T=y.type;return T===ui?d(S,_,y.props.children,C,y.key):_!==null&&(_.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===nn&&$d(T)===_.type)?(C=o(_,y.props),C.ref=so(S,_,y),C.return=S,C):(C=lr(y.type,y.key,y.props,null,S.mode,C),C.ref=so(S,_,y),C.return=S,C)}function u(S,_,y,C){return _===null||_.tag!==4||_.stateNode.containerInfo!==y.containerInfo||_.stateNode.implementation!==y.implementation?(_=na(y,S.mode,C),_.return=S,_):(_=o(_,y.children||[]),_.return=S,_)}function d(S,_,y,C,T){return _===null||_.tag!==7?(_=Wn(y,S.mode,C,T),_.return=S,_):(_=o(_,y),_.return=S,_)}function h(S,_,y){if(typeof _=="string"&&_!==""||typeof _=="number")return _=ta(""+_,S.mode,y),_.return=S,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case _s:return y=lr(_.type,_.key,_.props,null,S.mode,y),y.ref=so(S,null,_),y.return=S,y;case ai:return _=na(_,S.mode,y),_.return=S,_;case nn:var C=_._init;return h(S,C(_._payload),y)}if(yo(_)||eo(_))return _=Wn(_,S.mode,y,null),_.return=S,_;Ps(S,_)}return null}function m(S,_,y,C){var T=_!==null?_.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return T!==null?null:l(S,_,""+y,C);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case _s:return y.key===T?a(S,_,y,C):null;case ai:return y.key===T?u(S,_,y,C):null;case nn:return T=y._init,m(S,_,T(y._payload),C)}if(yo(y)||eo(y))return T!==null?null:d(S,_,y,C,null);Ps(S,y)}return null}function g(S,_,y,C,T){if(typeof C=="string"&&C!==""||typeof C=="number")return S=S.get(y)||null,l(_,S,""+C,T);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case _s:return S=S.get(C.key===null?y:C.key)||null,a(_,S,C,T);case ai:return S=S.get(C.key===null?y:C.key)||null,u(_,S,C,T);case nn:var k=C._init;return g(S,_,y,k(C._payload),T)}if(yo(C)||eo(C))return S=S.get(y)||null,d(_,S,C,T,null);Ps(_,C)}return null}function x(S,_,y,C){for(var T=null,k=null,I=_,b=_=0,N=null;I!==null&&b<y.length;b++){I.index>b?(N=I,I=null):N=I.sibling;var A=m(S,I,y[b],C);if(A===null){I===null&&(I=N);break}t&&I&&A.alternate===null&&e(S,I),_=s(A,_,b),k===null?T=A:k.sibling=A,k=A,I=N}if(b===y.length)return n(S,I),le&&Fn(S,b),T;if(I===null){for(;b<y.length;b++)I=h(S,y[b],C),I!==null&&(_=s(I,_,b),k===null?T=I:k.sibling=I,k=I);return le&&Fn(S,b),T}for(I=i(S,I);b<y.length;b++)N=g(I,S,b,y[b],C),N!==null&&(t&&N.alternate!==null&&I.delete(N.key===null?b:N.key),_=s(N,_,b),k===null?T=N:k.sibling=N,k=N);return t&&I.forEach(function(E){return e(S,E)}),le&&Fn(S,b),T}function v(S,_,y,C){var T=eo(y);if(typeof T!="function")throw Error(M(150));if(y=T.call(y),y==null)throw Error(M(151));for(var k=T=null,I=_,b=_=0,N=null,A=y.next();I!==null&&!A.done;b++,A=y.next()){I.index>b?(N=I,I=null):N=I.sibling;var E=m(S,I,A.value,C);if(E===null){I===null&&(I=N);break}t&&I&&E.alternate===null&&e(S,I),_=s(E,_,b),k===null?T=E:k.sibling=E,k=E,I=N}if(A.done)return n(S,I),le&&Fn(S,b),T;if(I===null){for(;!A.done;b++,A=y.next())A=h(S,A.value,C),A!==null&&(_=s(A,_,b),k===null?T=A:k.sibling=A,k=A);return le&&Fn(S,b),T}for(I=i(S,I);!A.done;b++,A=y.next())A=g(I,S,b,A.value,C),A!==null&&(t&&A.alternate!==null&&I.delete(A.key===null?b:A.key),_=s(A,_,b),k===null?T=A:k.sibling=A,k=A);return t&&I.forEach(function(P){return e(S,P)}),le&&Fn(S,b),T}function w(S,_,y,C){if(typeof y=="object"&&y!==null&&y.type===ui&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case _s:e:{for(var T=y.key,k=_;k!==null;){if(k.key===T){if(T=y.type,T===ui){if(k.tag===7){n(S,k.sibling),_=o(k,y.props.children),_.return=S,S=_;break e}}else if(k.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===nn&&$d(T)===k.type){n(S,k.sibling),_=o(k,y.props),_.ref=so(S,k,y),_.return=S,S=_;break e}n(S,k);break}else e(S,k);k=k.sibling}y.type===ui?(_=Wn(y.props.children,S.mode,C,y.key),_.return=S,S=_):(C=lr(y.type,y.key,y.props,null,S.mode,C),C.ref=so(S,_,y),C.return=S,S=C)}return r(S);case ai:e:{for(k=y.key;_!==null;){if(_.key===k)if(_.tag===4&&_.stateNode.containerInfo===y.containerInfo&&_.stateNode.implementation===y.implementation){n(S,_.sibling),_=o(_,y.children||[]),_.return=S,S=_;break e}else{n(S,_);break}else e(S,_);_=_.sibling}_=na(y,S.mode,C),_.return=S,S=_}return r(S);case nn:return k=y._init,w(S,_,k(y._payload),C)}if(yo(y))return x(S,_,y,C);if(eo(y))return v(S,_,y,C);Ps(S,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,_!==null&&_.tag===6?(n(S,_.sibling),_=o(_,y),_.return=S,S=_):(n(S,_),_=ta(y,S.mode,C),_.return=S,S=_),r(S)):n(S,_)}return w}var Fi=Ig(!0),bg=Ig(!1),Ir=An(null),br=null,xi=null,ec=null;function tc(){ec=xi=br=null}function nc(t){var e=Ir.current;re(Ir),t._currentValue=e}function Ga(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Ei(t,e){br=t,ec=xi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(qe=!0),t.firstContext=null)}function dt(t){var e=t._currentValue;if(ec!==t)if(t={context:t,memoizedValue:e,next:null},xi===null){if(br===null)throw Error(M(308));xi=t,br.dependencies={lanes:0,firstContext:t}}else xi=xi.next=t;return e}var On=null;function ic(t){On===null?On=[t]:On.push(t)}function Ag(t,e,n,i){var o=e.interleaved;return o===null?(n.next=n,ic(e)):(n.next=o.next,o.next=n),e.interleaved=n,jt(t,i)}function jt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var on=!1;function oc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ng(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function qt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vn(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,j&2){var o=i.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),i.pending=e,jt(t,n)}return o=i.interleaved,o===null?(e.next=e,ic(i)):(e.next=o.next,o.next=e),i.interleaved=e,jt(t,n)}function tr(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,qu(t,n)}}function Wd(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var r={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=r:s=s.next=r,n=n.next}while(n!==null);s===null?o=s=e:s=s.next=e}else o=s=e;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ar(t,e,n,i){var o=t.updateQueue;on=!1;var s=o.firstBaseUpdate,r=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var a=l,u=a.next;a.next=null,r===null?s=u:r.next=u,r=a;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==r&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=a))}if(s!==null){var h=o.baseState;r=0,d=u=a=null,l=s;do{var m=l.lane,g=l.eventTime;if((i&m)===m){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,v=l;switch(m=e,g=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){h=x.call(g,h,m);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,m=typeof x=="function"?x.call(g,h,m):x,m==null)break e;h=de({},h,m);break e;case 2:on=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=o.effects,m===null?o.effects=[l]:m.push(l))}else g={eventTime:g,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,a=h):d=d.next=g,r|=m;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;m=l,l=m.next,m.next=null,o.lastBaseUpdate=m,o.shared.pending=null}}while(!0);if(d===null&&(a=h),o.baseState=a,o.firstBaseUpdate=u,o.lastBaseUpdate=d,e=o.shared.interleaved,e!==null){o=e;do r|=o.lane,o=o.next;while(o!==e)}else s===null&&(o.shared.lanes=0);Qn|=r,t.lanes=r,t.memoizedState=h}}function jd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],o=i.callback;if(o!==null){if(i.callback=null,i=n,typeof o!="function")throw Error(M(191,o));o.call(i)}}}var hs={},Pt=An(hs),es=An(hs),ts=An(hs);function qn(t){if(t===hs)throw Error(M(174));return t}function sc(t,e){switch(te(ts,e),te(es,t),te(Pt,hs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ta(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ta(e,t)}re(Pt),te(Pt,e)}function Ui(){re(Pt),re(es),re(ts)}function Pg(t){qn(ts.current);var e=qn(Pt.current),n=Ta(e,t.type);e!==n&&(te(es,t),te(Pt,n))}function rc(t){es.current===t&&(re(Pt),re(es))}var ue=An(0);function Nr(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yl=[];function lc(){for(var t=0;t<Yl.length;t++)Yl[t]._workInProgressVersionPrimary=null;Yl.length=0}var nr=Qt.ReactCurrentDispatcher,Kl=Qt.ReactCurrentBatchConfig,Kn=0,ce=null,ve=null,_e=null,Pr=!1,Po=!1,ns=0,p_=0;function Ie(){throw Error(M(321))}function ac(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yt(t[n],e[n]))return!1;return!0}function uc(t,e,n,i,o,s){if(Kn=s,ce=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nr.current=t===null||t.memoizedState===null?x_:v_,t=n(i,o),Po){s=0;do{if(Po=!1,ns=0,25<=s)throw Error(M(301));s+=1,_e=ve=null,e.updateQueue=null,nr.current=y_,t=n(i,o)}while(Po)}if(nr.current=Mr,e=ve!==null&&ve.next!==null,Kn=0,_e=ve=ce=null,Pr=!1,e)throw Error(M(300));return t}function cc(){var t=ns!==0;return ns=0,t}function kt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?ce.memoizedState=_e=t:_e=_e.next=t,_e}function ft(){if(ve===null){var t=ce.alternate;t=t!==null?t.memoizedState:null}else t=ve.next;var e=_e===null?ce.memoizedState:_e.next;if(e!==null)_e=e,ve=t;else{if(t===null)throw Error(M(310));ve=t,t={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},_e===null?ce.memoizedState=_e=t:_e=_e.next=t}return _e}function is(t,e){return typeof e=="function"?e(t):e}function Ql(t){var e=ft(),n=e.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=t;var i=ve,o=i.baseQueue,s=n.pending;if(s!==null){if(o!==null){var r=o.next;o.next=s.next,s.next=r}i.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,i=i.baseState;var l=r=null,a=null,u=s;do{var d=u.lane;if((Kn&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=h,r=i):a=a.next=h,ce.lanes|=d,Qn|=d}u=u.next}while(u!==null&&u!==s);a===null?r=i:a.next=l,yt(i,e.memoizedState)||(qe=!0),e.memoizedState=i,e.baseState=r,e.baseQueue=a,n.lastRenderedState=i}if(t=n.interleaved,t!==null){o=t;do s=o.lane,ce.lanes|=s,Qn|=s,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Xl(t){var e=ft(),n=e.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=t;var i=n.dispatch,o=n.pending,s=e.memoizedState;if(o!==null){n.pending=null;var r=o=o.next;do s=t(s,r.action),r=r.next;while(r!==o);yt(s,e.memoizedState)||(qe=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function Mg(){}function Rg(t,e){var n=ce,i=ft(),o=e(),s=!yt(i.memoizedState,o);if(s&&(i.memoizedState=o,qe=!0),i=i.queue,dc(zg.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||_e!==null&&_e.memoizedState.tag&1){if(n.flags|=2048,os(9,Lg.bind(null,n,i,o,e),void 0,null),Se===null)throw Error(M(349));Kn&30||Dg(n,e,o)}return o}function Dg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ce.updateQueue,e===null?(e={lastEffect:null,stores:null},ce.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Lg(t,e,n,i){e.value=n,e.getSnapshot=i,Fg(e)&&Ug(t)}function zg(t,e,n){return n(function(){Fg(e)&&Ug(t)})}function Fg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yt(t,n)}catch{return!0}}function Ug(t){var e=jt(t,1);e!==null&&vt(e,t,1,-1)}function Jd(t){var e=kt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:t},e.queue=t,t=t.dispatch=g_.bind(null,ce,t),[e.memoizedState,t]}function os(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=ce.updateQueue,e===null?(e={lastEffect:null,stores:null},ce.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function Bg(){return ft().memoizedState}function ir(t,e,n,i){var o=kt();ce.flags|=t,o.memoizedState=os(1|e,n,void 0,i===void 0?null:i)}function ul(t,e,n,i){var o=ft();i=i===void 0?null:i;var s=void 0;if(ve!==null){var r=ve.memoizedState;if(s=r.destroy,i!==null&&ac(i,r.deps)){o.memoizedState=os(e,n,s,i);return}}ce.flags|=t,o.memoizedState=os(1|e,n,s,i)}function Yd(t,e){return ir(8390656,8,t,e)}function dc(t,e){return ul(2048,8,t,e)}function Vg(t,e){return ul(4,2,t,e)}function Hg(t,e){return ul(4,4,t,e)}function Og(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function qg(t,e,n){return n=n!=null?n.concat([t]):null,ul(4,4,Og.bind(null,e,t),n)}function fc(){}function Gg(t,e){var n=ft();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&ac(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function $g(t,e){var n=ft();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&ac(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Wg(t,e,n){return Kn&21?(yt(n,e)||(n=Qm(),ce.lanes|=n,Qn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,qe=!0),t.memoizedState=n)}function h_(t,e){var n=Q;Q=n!==0&&4>n?n:4,t(!0);var i=Kl.transition;Kl.transition={};try{t(!1),e()}finally{Q=n,Kl.transition=i}}function jg(){return ft().memoizedState}function m_(t,e,n){var i=_n(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Jg(t))Yg(e,n);else if(n=Ag(t,e,n,i),n!==null){var o=ze();vt(n,t,i,o),Kg(n,e,i)}}function g_(t,e,n){var i=_n(t),o={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jg(t))Yg(e,o);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var r=e.lastRenderedState,l=s(r,n);if(o.hasEagerState=!0,o.eagerState=l,yt(l,r)){var a=e.interleaved;a===null?(o.next=o,ic(e)):(o.next=a.next,a.next=o),e.interleaved=o;return}}catch{}finally{}n=Ag(t,e,o,i),n!==null&&(o=ze(),vt(n,t,i,o),Kg(n,e,i))}}function Jg(t){var e=t.alternate;return t===ce||e!==null&&e===ce}function Yg(t,e){Po=Pr=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Kg(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,qu(t,n)}}var Mr={readContext:dt,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},x_={readContext:dt,useCallback:function(t,e){return kt().memoizedState=[t,e===void 0?null:e],t},useContext:dt,useEffect:Yd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ir(4194308,4,Og.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ir(4194308,4,t,e)},useInsertionEffect:function(t,e){return ir(4,2,t,e)},useMemo:function(t,e){var n=kt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=kt();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=m_.bind(null,ce,t),[i.memoizedState,t]},useRef:function(t){var e=kt();return t={current:t},e.memoizedState=t},useState:Jd,useDebugValue:fc,useDeferredValue:function(t){return kt().memoizedState=t},useTransition:function(){var t=Jd(!1),e=t[0];return t=h_.bind(null,t[1]),kt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=ce,o=kt();if(le){if(n===void 0)throw Error(M(407));n=n()}else{if(n=e(),Se===null)throw Error(M(349));Kn&30||Dg(i,e,n)}o.memoizedState=n;var s={value:n,getSnapshot:e};return o.queue=s,Yd(zg.bind(null,i,s,t),[t]),i.flags|=2048,os(9,Lg.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=kt(),e=Se.identifierPrefix;if(le){var n=Vt,i=Bt;n=(i&~(1<<32-xt(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=ns++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=p_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},v_={readContext:dt,useCallback:Gg,useContext:dt,useEffect:dc,useImperativeHandle:qg,useInsertionEffect:Vg,useLayoutEffect:Hg,useMemo:$g,useReducer:Ql,useRef:Bg,useState:function(){return Ql(is)},useDebugValue:fc,useDeferredValue:function(t){var e=ft();return Wg(e,ve.memoizedState,t)},useTransition:function(){var t=Ql(is)[0],e=ft().memoizedState;return[t,e]},useMutableSource:Mg,useSyncExternalStore:Rg,useId:jg,unstable_isNewReconciler:!1},y_={readContext:dt,useCallback:Gg,useContext:dt,useEffect:dc,useImperativeHandle:qg,useInsertionEffect:Vg,useLayoutEffect:Hg,useMemo:$g,useReducer:Xl,useRef:Bg,useState:function(){return Xl(is)},useDebugValue:fc,useDeferredValue:function(t){var e=ft();return ve===null?e.memoizedState=t:Wg(e,ve.memoizedState,t)},useTransition:function(){var t=Xl(is)[0],e=ft().memoizedState;return[t,e]},useMutableSource:Mg,useSyncExternalStore:Rg,useId:jg,unstable_isNewReconciler:!1};function ht(t,e){if(t&&t.defaultProps){e=de({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function $a(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:de({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var cl={isMounted:function(t){return(t=t._reactInternals)?ni(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=ze(),o=_n(t),s=qt(i,o);s.payload=e,n!=null&&(s.callback=n),e=vn(t,s,o),e!==null&&(vt(e,t,o,i),tr(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=ze(),o=_n(t),s=qt(i,o);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=vn(t,s,o),e!==null&&(vt(e,t,o,i),tr(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ze(),i=_n(t),o=qt(n,i);o.tag=2,e!=null&&(o.callback=e),e=vn(t,o,i),e!==null&&(vt(e,t,i,n),tr(e,t,i))}};function Kd(t,e,n,i,o,s,r){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,r):e.prototype&&e.prototype.isPureReactComponent?!Ko(n,i)||!Ko(o,s):!0}function Qg(t,e,n){var i=!1,o=Tn,s=e.contextType;return typeof s=="object"&&s!==null?s=dt(s):(o=$e(e)?Jn:Pe.current,i=e.contextTypes,s=(i=i!=null)?Li(t,o):Tn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=cl,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=s),e}function Qd(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&cl.enqueueReplaceState(e,e.state,null)}function Wa(t,e,n,i){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs={},oc(t);var s=e.contextType;typeof s=="object"&&s!==null?o.context=dt(s):(s=$e(e)?Jn:Pe.current,o.context=Li(t,s)),o.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&($a(t,e,s,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&cl.enqueueReplaceState(o,o.state,null),Ar(t,n,o,i),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function Bi(t,e){try{var n="",i=e;do n+=jv(i),i=i.return;while(i);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:o,digest:null}}function Zl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ja(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var __=typeof WeakMap=="function"?WeakMap:Map;function Xg(t,e,n){n=qt(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Dr||(Dr=!0,iu=i),ja(t,e)},n}function Zg(t,e,n){n=qt(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var o=e.value;n.payload=function(){return i(o)},n.callback=function(){ja(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ja(t,e),typeof i!="function"&&(yn===null?yn=new Set([this]):yn.add(this));var r=e.stack;this.componentDidCatch(e.value,{componentStack:r!==null?r:""})}),n}function Xd(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new __;var o=new Set;i.set(e,o)}else o=i.get(e),o===void 0&&(o=new Set,i.set(e,o));o.has(n)||(o.add(n),t=D_.bind(null,t,e,n),e.then(t,t))}function Zd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ef(t,e,n,i,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=qt(-1,1),e.tag=2,vn(n,e,1))),n.lanes|=1),t)}var S_=Qt.ReactCurrentOwner,qe=!1;function Le(t,e,n,i){e.child=t===null?bg(e,null,n,i):Fi(e,t.child,n,i)}function tf(t,e,n,i,o){n=n.render;var s=e.ref;return Ei(e,o),i=uc(t,e,n,i,s,o),n=cc(),t!==null&&!qe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,Jt(t,e,o)):(le&&n&&Qu(e),e.flags|=1,Le(t,e,i,o),e.child)}function nf(t,e,n,i,o){if(t===null){var s=n.type;return typeof s=="function"&&!_c(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,e0(t,e,s,i,o)):(t=lr(n.type,null,i,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&o)){var r=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ko,n(r,i)&&t.ref===e.ref)return Jt(t,e,o)}return e.flags|=1,t=Sn(s,i),t.ref=e.ref,t.return=e,e.child=t}function e0(t,e,n,i,o){if(t!==null){var s=t.memoizedProps;if(Ko(s,i)&&t.ref===e.ref)if(qe=!1,e.pendingProps=i=s,(t.lanes&o)!==0)t.flags&131072&&(qe=!0);else return e.lanes=t.lanes,Jt(t,e,o)}return Ja(t,e,n,i,o)}function t0(t,e,n){var i=e.pendingProps,o=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(yi,Ye),Ye|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,te(yi,Ye),Ye|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,te(yi,Ye),Ye|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,te(yi,Ye),Ye|=i;return Le(t,e,o,n),e.child}function n0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ja(t,e,n,i,o){var s=$e(n)?Jn:Pe.current;return s=Li(e,s),Ei(e,o),n=uc(t,e,n,i,s,o),i=cc(),t!==null&&!qe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,Jt(t,e,o)):(le&&i&&Qu(e),e.flags|=1,Le(t,e,n,o),e.child)}function of(t,e,n,i,o){if($e(n)){var s=!0;Tr(e)}else s=!1;if(Ei(e,o),e.stateNode===null)or(t,e),Qg(e,n,i),Wa(e,n,i,o),i=!0;else if(t===null){var r=e.stateNode,l=e.memoizedProps;r.props=l;var a=r.context,u=n.contextType;typeof u=="object"&&u!==null?u=dt(u):(u=$e(n)?Jn:Pe.current,u=Li(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof r.getSnapshotBeforeUpdate=="function";h||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(l!==i||a!==u)&&Qd(e,r,i,u),on=!1;var m=e.memoizedState;r.state=m,Ar(e,i,r,o),a=e.memoizedState,l!==i||m!==a||Ge.current||on?(typeof d=="function"&&($a(e,n,d,i),a=e.memoizedState),(l=on||Kd(e,n,l,i,m,a,u))?(h||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(e.flags|=4194308)):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=a),r.props=i,r.state=a,r.context=u,i=l):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{r=e.stateNode,Ng(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:ht(e.type,l),r.props=u,h=e.pendingProps,m=r.context,a=n.contextType,typeof a=="object"&&a!==null?a=dt(a):(a=$e(n)?Jn:Pe.current,a=Li(e,a));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(l!==h||m!==a)&&Qd(e,r,i,a),on=!1,m=e.memoizedState,r.state=m,Ar(e,i,r,o);var x=e.memoizedState;l!==h||m!==x||Ge.current||on?(typeof g=="function"&&($a(e,n,g,i),x=e.memoizedState),(u=on||Kd(e,n,u,i,m,x,a)||!1)?(d||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(i,x,a),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(i,x,a)),typeof r.componentDidUpdate=="function"&&(e.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof r.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=x),r.props=i,r.state=x,r.context=a,i=u):(typeof r.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),i=!1)}return Ya(t,e,n,i,s,o)}function Ya(t,e,n,i,o,s){n0(t,e);var r=(e.flags&128)!==0;if(!i&&!r)return o&&Od(e,n,!1),Jt(t,e,s);i=e.stateNode,S_.current=e;var l=r&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&r?(e.child=Fi(e,t.child,null,s),e.child=Fi(e,null,l,s)):Le(t,e,l,s),e.memoizedState=i.state,o&&Od(e,n,!0),e.child}function i0(t){var e=t.stateNode;e.pendingContext?Hd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Hd(t,e.context,!1),sc(t,e.containerInfo)}function sf(t,e,n,i,o){return zi(),Zu(o),e.flags|=256,Le(t,e,n,i),e.child}var Ka={dehydrated:null,treeContext:null,retryLane:0};function Qa(t){return{baseLanes:t,cachePool:null,transitions:null}}function o0(t,e,n){var i=e.pendingProps,o=ue.current,s=!1,r=(e.flags&128)!==0,l;if((l=r)||(l=t!==null&&t.memoizedState===null?!1:(o&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),te(ue,o&1),t===null)return qa(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(r=i.children,t=i.fallback,s?(i=e.mode,s=e.child,r={mode:"hidden",children:r},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=r):s=pl(r,i,0,null),t=Wn(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Qa(n),e.memoizedState=Ka,t):pc(e,r));if(o=t.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return w_(t,e,r,i,l,o,n);if(s){s=i.fallback,r=e.mode,o=t.child,l=o.sibling;var a={mode:"hidden",children:i.children};return!(r&1)&&e.child!==o?(i=e.child,i.childLanes=0,i.pendingProps=a,e.deletions=null):(i=Sn(o,a),i.subtreeFlags=o.subtreeFlags&14680064),l!==null?s=Sn(l,s):(s=Wn(s,r,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,r=t.child.memoizedState,r=r===null?Qa(n):{baseLanes:r.baseLanes|n,cachePool:null,transitions:r.transitions},s.memoizedState=r,s.childLanes=t.childLanes&~n,e.memoizedState=Ka,i}return s=t.child,t=s.sibling,i=Sn(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function pc(t,e){return e=pl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ms(t,e,n,i){return i!==null&&Zu(i),Fi(e,t.child,null,n),t=pc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function w_(t,e,n,i,o,s,r){if(n)return e.flags&256?(e.flags&=-257,i=Zl(Error(M(422))),Ms(t,e,r,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,o=e.mode,i=pl({mode:"visible",children:i.children},o,0,null),s=Wn(s,o,r,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Fi(e,t.child,null,r),e.child.memoizedState=Qa(r),e.memoizedState=Ka,s);if(!(e.mode&1))return Ms(t,e,r,null);if(o.data==="$!"){if(i=o.nextSibling&&o.nextSibling.dataset,i)var l=i.dgst;return i=l,s=Error(M(419)),i=Zl(s,i,void 0),Ms(t,e,r,i)}if(l=(r&t.childLanes)!==0,qe||l){if(i=Se,i!==null){switch(r&-r){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(i.suspendedLanes|r)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,jt(t,o),vt(i,t,o,-1))}return yc(),i=Zl(Error(M(421))),Ms(t,e,r,i)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=L_.bind(null,t),o._reactRetry=e,null):(t=s.treeContext,Xe=xn(o.nextSibling),et=e,le=!0,gt=null,t!==null&&(rt[lt++]=Bt,rt[lt++]=Vt,rt[lt++]=Yn,Bt=t.id,Vt=t.overflow,Yn=e),e=pc(e,i.children),e.flags|=4096,e)}function rf(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Ga(t.return,e,n)}function ea(t,e,n,i,o){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=o)}function s0(t,e,n){var i=e.pendingProps,o=i.revealOrder,s=i.tail;if(Le(t,e,i.children,n),i=ue.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rf(t,n,e);else if(t.tag===19)rf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(te(ue,i),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&Nr(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),ea(e,!1,o,n,s);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&Nr(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}ea(e,!0,n,null,s);break;case"together":ea(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function or(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Qn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(M(153));if(e.child!==null){for(t=e.child,n=Sn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Sn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function C_(t,e,n){switch(e.tag){case 3:i0(e),zi();break;case 5:Pg(e);break;case 1:$e(e.type)&&Tr(e);break;case 4:sc(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,o=e.memoizedProps.value;te(Ir,i._currentValue),i._currentValue=o;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(te(ue,ue.current&1),e.flags|=128,null):n&e.child.childLanes?o0(t,e,n):(te(ue,ue.current&1),t=Jt(t,e,n),t!==null?t.sibling:null);te(ue,ue.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return s0(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),te(ue,ue.current),i)break;return null;case 22:case 23:return e.lanes=0,t0(t,e,n)}return Jt(t,e,n)}var r0,Xa,l0,a0;r0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xa=function(){};l0=function(t,e,n,i){var o=t.memoizedProps;if(o!==i){t=e.stateNode,qn(Pt.current);var s=null;switch(n){case"input":o=_a(t,o),i=_a(t,i),s=[];break;case"select":o=de({},o,{value:void 0}),i=de({},i,{value:void 0}),s=[];break;case"textarea":o=Ca(t,o),i=Ca(t,i),s=[];break;default:typeof o.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=wr)}ka(n,i);var r;n=null;for(u in o)if(!i.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(r in l)l.hasOwnProperty(r)&&(n||(n={}),n[r]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var a=i[u];if(l=o!=null?o[u]:void 0,i.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(r in l)!l.hasOwnProperty(r)||a&&a.hasOwnProperty(r)||(n||(n={}),n[r]="");for(r in a)a.hasOwnProperty(r)&&l[r]!==a[r]&&(n||(n={}),n[r]=a[r])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qo.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ie("scroll",t),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};a0=function(t,e,n,i){n!==i&&(e.flags|=4)};function ro(t,e){if(!le)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function be(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&14680064,i|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function T_(t,e,n){var i=e.pendingProps;switch(Xu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(e),null;case 1:return $e(e.type)&&Cr(),be(e),null;case 3:return i=e.stateNode,Ui(),re(Ge),re(Pe),lc(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Ns(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gt!==null&&(ru(gt),gt=null))),Xa(t,e),be(e),null;case 5:rc(e);var o=qn(ts.current);if(n=e.type,t!==null&&e.stateNode!=null)l0(t,e,n,i,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(M(166));return be(e),null}if(t=qn(Pt.current),Ns(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[It]=e,i[Zo]=s,t=(e.mode&1)!==0,n){case"dialog":ie("cancel",i),ie("close",i);break;case"iframe":case"object":case"embed":ie("load",i);break;case"video":case"audio":for(o=0;o<So.length;o++)ie(So[o],i);break;case"source":ie("error",i);break;case"img":case"image":case"link":ie("error",i),ie("load",i);break;case"details":ie("toggle",i);break;case"input":hd(i,s),ie("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},ie("invalid",i);break;case"textarea":gd(i,s),ie("invalid",i)}ka(n,s),o=null;for(var r in s)if(s.hasOwnProperty(r)){var l=s[r];r==="children"?typeof l=="string"?i.textContent!==l&&(s.suppressHydrationWarning!==!0&&As(i.textContent,l,t),o=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&As(i.textContent,l,t),o=["children",""+l]):qo.hasOwnProperty(r)&&l!=null&&r==="onScroll"&&ie("scroll",i)}switch(n){case"input":Ss(i),md(i,s,!0);break;case"textarea":Ss(i),xd(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=wr)}i=o,e.updateQueue=i,i!==null&&(e.flags|=4)}else{r=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=zm(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=r.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=r.createElement(n,{is:i.is}):(t=r.createElement(n),n==="select"&&(r=t,i.multiple?r.multiple=!0:i.size&&(r.size=i.size))):t=r.createElementNS(t,n),t[It]=e,t[Zo]=i,r0(t,e,!1,!1),e.stateNode=t;e:{switch(r=Ea(n,i),n){case"dialog":ie("cancel",t),ie("close",t),o=i;break;case"iframe":case"object":case"embed":ie("load",t),o=i;break;case"video":case"audio":for(o=0;o<So.length;o++)ie(So[o],t);o=i;break;case"source":ie("error",t),o=i;break;case"img":case"image":case"link":ie("error",t),ie("load",t),o=i;break;case"details":ie("toggle",t),o=i;break;case"input":hd(t,i),o=_a(t,i),ie("invalid",t);break;case"option":o=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},o=de({},i,{value:void 0}),ie("invalid",t);break;case"textarea":gd(t,i),o=Ca(t,i),ie("invalid",t);break;default:o=i}ka(n,o),l=o;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Bm(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Fm(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Go(t,a):typeof a=="number"&&Go(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(qo.hasOwnProperty(s)?a!=null&&s==="onScroll"&&ie("scroll",t):a!=null&&Fu(t,s,a,r))}switch(n){case"input":Ss(t),md(t,i,!1);break;case"textarea":Ss(t),xd(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Cn(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?wi(t,!!i.multiple,s,!1):i.defaultValue!=null&&wi(t,!!i.multiple,i.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=wr)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return be(e),null;case 6:if(t&&e.stateNode!=null)a0(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(M(166));if(n=qn(ts.current),qn(Pt.current),Ns(e)){if(i=e.stateNode,n=e.memoizedProps,i[It]=e,(s=i.nodeValue!==n)&&(t=et,t!==null))switch(t.tag){case 3:As(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&As(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[It]=e,e.stateNode=i}return be(e),null;case 13:if(re(ue),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(le&&Xe!==null&&e.mode&1&&!(e.flags&128))Eg(),zi(),e.flags|=98560,s=!1;else if(s=Ns(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(M(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(M(317));s[It]=e}else zi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;be(e),s=!1}else gt!==null&&(ru(gt),gt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||ue.current&1?ye===0&&(ye=3):yc())),e.updateQueue!==null&&(e.flags|=4),be(e),null);case 4:return Ui(),Xa(t,e),t===null&&Qo(e.stateNode.containerInfo),be(e),null;case 10:return nc(e.type._context),be(e),null;case 17:return $e(e.type)&&Cr(),be(e),null;case 19:if(re(ue),s=e.memoizedState,s===null)return be(e),null;if(i=(e.flags&128)!==0,r=s.rendering,r===null)if(i)ro(s,!1);else{if(ye!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(r=Nr(t),r!==null){for(e.flags|=128,ro(s,!1),i=r.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,r=s.alternate,r===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=r.childLanes,s.lanes=r.lanes,s.child=r.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=r.memoizedProps,s.memoizedState=r.memoizedState,s.updateQueue=r.updateQueue,s.type=r.type,t=r.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return te(ue,ue.current&1|2),e.child}t=t.sibling}s.tail!==null&&ge()>Vi&&(e.flags|=128,i=!0,ro(s,!1),e.lanes=4194304)}else{if(!i)if(t=Nr(r),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ro(s,!0),s.tail===null&&s.tailMode==="hidden"&&!r.alternate&&!le)return be(e),null}else 2*ge()-s.renderingStartTime>Vi&&n!==1073741824&&(e.flags|=128,i=!0,ro(s,!1),e.lanes=4194304);s.isBackwards?(r.sibling=e.child,e.child=r):(n=s.last,n!==null?n.sibling=r:e.child=r,s.last=r)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ge(),e.sibling=null,n=ue.current,te(ue,i?n&1|2:n&1),e):(be(e),null);case 22:case 23:return vc(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Ye&1073741824&&(be(e),e.subtreeFlags&6&&(e.flags|=8192)):be(e),null;case 24:return null;case 25:return null}throw Error(M(156,e.tag))}function k_(t,e){switch(Xu(e),e.tag){case 1:return $e(e.type)&&Cr(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ui(),re(Ge),re(Pe),lc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return rc(e),null;case 13:if(re(ue),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(M(340));zi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return re(ue),null;case 4:return Ui(),null;case 10:return nc(e.type._context),null;case 22:case 23:return vc(),null;case 24:return null;default:return null}}var Rs=!1,Ae=!1,E_=typeof WeakSet=="function"?WeakSet:Set,F=null;function vi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){fe(t,e,i)}else n.current=null}function Za(t,e,n){try{n()}catch(i){fe(t,e,i)}}var lf=!1;function I_(t,e){if(za=yr,t=pg(),Ku(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var r=0,l=-1,a=-1,u=0,d=0,h=t,m=null;t:for(;;){for(var g;h!==n||o!==0&&h.nodeType!==3||(l=r+o),h!==s||i!==0&&h.nodeType!==3||(a=r+i),h.nodeType===3&&(r+=h.nodeValue.length),(g=h.firstChild)!==null;)m=h,h=g;for(;;){if(h===t)break t;if(m===n&&++u===o&&(l=r),m===s&&++d===i&&(a=r),(g=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=g}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fa={focusedElem:t,selectionRange:n},yr=!1,F=e;F!==null;)if(e=F,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,F=t;else for(;F!==null;){e=F;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,w=x.memoizedState,S=e.stateNode,_=S.getSnapshotBeforeUpdate(e.elementType===e.type?v:ht(e.type,v),w);S.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(C){fe(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,F=t;break}F=e.return}return x=lf,lf=!1,x}function Mo(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&t)===t){var s=o.destroy;o.destroy=void 0,s!==void 0&&Za(e,n,s)}o=o.next}while(o!==i)}}function dl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function eu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function u0(t){var e=t.alternate;e!==null&&(t.alternate=null,u0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[It],delete e[Zo],delete e[Va],delete e[u_],delete e[c_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function c0(t){return t.tag===5||t.tag===3||t.tag===4}function af(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||c0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tu(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=wr));else if(i!==4&&(t=t.child,t!==null))for(tu(t,e,n),t=t.sibling;t!==null;)tu(t,e,n),t=t.sibling}function nu(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(nu(t,e,n),t=t.sibling;t!==null;)nu(t,e,n),t=t.sibling}var Ce=null,mt=!1;function en(t,e,n){for(n=n.child;n!==null;)d0(t,e,n),n=n.sibling}function d0(t,e,n){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(il,n)}catch{}switch(n.tag){case 5:Ae||vi(n,e);case 6:var i=Ce,o=mt;Ce=null,en(t,e,n),Ce=i,mt=o,Ce!==null&&(mt?(t=Ce,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ce.removeChild(n.stateNode));break;case 18:Ce!==null&&(mt?(t=Ce,n=n.stateNode,t.nodeType===8?jl(t.parentNode,n):t.nodeType===1&&jl(t,n),Jo(t)):jl(Ce,n.stateNode));break;case 4:i=Ce,o=mt,Ce=n.stateNode.containerInfo,mt=!0,en(t,e,n),Ce=i,mt=o;break;case 0:case 11:case 14:case 15:if(!Ae&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){o=i=i.next;do{var s=o,r=s.destroy;s=s.tag,r!==void 0&&(s&2||s&4)&&Za(n,e,r),o=o.next}while(o!==i)}en(t,e,n);break;case 1:if(!Ae&&(vi(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(l){fe(n,e,l)}en(t,e,n);break;case 21:en(t,e,n);break;case 22:n.mode&1?(Ae=(i=Ae)||n.memoizedState!==null,en(t,e,n),Ae=i):en(t,e,n);break;default:en(t,e,n)}}function uf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new E_),e.forEach(function(i){var o=z_.bind(null,t,i);n.has(i)||(n.add(i),i.then(o,o))})}}function pt(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];try{var s=t,r=e,l=r;e:for(;l!==null;){switch(l.tag){case 5:Ce=l.stateNode,mt=!1;break e;case 3:Ce=l.stateNode.containerInfo,mt=!0;break e;case 4:Ce=l.stateNode.containerInfo,mt=!0;break e}l=l.return}if(Ce===null)throw Error(M(160));d0(s,r,o),Ce=null,mt=!1;var a=o.alternate;a!==null&&(a.return=null),o.return=null}catch(u){fe(o,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)f0(e,t),e=e.sibling}function f0(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pt(e,t),wt(t),i&4){try{Mo(3,t,t.return),dl(3,t)}catch(v){fe(t,t.return,v)}try{Mo(5,t,t.return)}catch(v){fe(t,t.return,v)}}break;case 1:pt(e,t),wt(t),i&512&&n!==null&&vi(n,n.return);break;case 5:if(pt(e,t),wt(t),i&512&&n!==null&&vi(n,n.return),t.flags&32){var o=t.stateNode;try{Go(o,"")}catch(v){fe(t,t.return,v)}}if(i&4&&(o=t.stateNode,o!=null)){var s=t.memoizedProps,r=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Dm(o,s),Ea(l,r);var u=Ea(l,s);for(r=0;r<a.length;r+=2){var d=a[r],h=a[r+1];d==="style"?Bm(o,h):d==="dangerouslySetInnerHTML"?Fm(o,h):d==="children"?Go(o,h):Fu(o,d,h,u)}switch(l){case"input":Sa(o,s);break;case"textarea":Lm(o,s);break;case"select":var m=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?wi(o,!!s.multiple,g,!1):m!==!!s.multiple&&(s.defaultValue!=null?wi(o,!!s.multiple,s.defaultValue,!0):wi(o,!!s.multiple,s.multiple?[]:"",!1))}o[Zo]=s}catch(v){fe(t,t.return,v)}}break;case 6:if(pt(e,t),wt(t),i&4){if(t.stateNode===null)throw Error(M(162));o=t.stateNode,s=t.memoizedProps;try{o.nodeValue=s}catch(v){fe(t,t.return,v)}}break;case 3:if(pt(e,t),wt(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Jo(e.containerInfo)}catch(v){fe(t,t.return,v)}break;case 4:pt(e,t),wt(t);break;case 13:pt(e,t),wt(t),o=t.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(gc=ge())),i&4&&uf(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ae=(u=Ae)||d,pt(e,t),Ae=u):pt(e,t),wt(t),i&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(F=t,d=t.child;d!==null;){for(h=F=d;F!==null;){switch(m=F,g=m.child,m.tag){case 0:case 11:case 14:case 15:Mo(4,m,m.return);break;case 1:vi(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){i=m,n=m.return;try{e=i,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(v){fe(i,n,v)}}break;case 5:vi(m,m.return);break;case 22:if(m.memoizedState!==null){df(h);continue}}g!==null?(g.return=m,F=g):df(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{o=h.stateNode,u?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=h.stateNode,a=h.memoizedProps.style,r=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Um("display",r))}catch(v){fe(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){fe(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:pt(e,t),wt(t),i&4&&uf(t);break;case 21:break;default:pt(e,t),wt(t)}}function wt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(c0(n)){var i=n;break e}n=n.return}throw Error(M(160))}switch(i.tag){case 5:var o=i.stateNode;i.flags&32&&(Go(o,""),i.flags&=-33);var s=af(t);nu(t,s,o);break;case 3:case 4:var r=i.stateNode.containerInfo,l=af(t);tu(t,l,r);break;default:throw Error(M(161))}}catch(a){fe(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function b_(t,e,n){F=t,p0(t)}function p0(t,e,n){for(var i=(t.mode&1)!==0;F!==null;){var o=F,s=o.child;if(o.tag===22&&i){var r=o.memoizedState!==null||Rs;if(!r){var l=o.alternate,a=l!==null&&l.memoizedState!==null||Ae;l=Rs;var u=Ae;if(Rs=r,(Ae=a)&&!u)for(F=o;F!==null;)r=F,a=r.child,r.tag===22&&r.memoizedState!==null?ff(o):a!==null?(a.return=r,F=a):ff(o);for(;s!==null;)F=s,p0(s),s=s.sibling;F=o,Rs=l,Ae=u}cf(t)}else o.subtreeFlags&8772&&s!==null?(s.return=o,F=s):cf(t)}}function cf(t){for(;F!==null;){var e=F;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ae||dl(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Ae)if(n===null)i.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:ht(e.type,n.memoizedProps);i.componentDidUpdate(o,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&jd(e,s,i);break;case 3:var r=e.updateQueue;if(r!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}jd(e,r,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Jo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}Ae||e.flags&512&&eu(e)}catch(m){fe(e,e.return,m)}}if(e===t){F=null;break}if(n=e.sibling,n!==null){n.return=e.return,F=n;break}F=e.return}}function df(t){for(;F!==null;){var e=F;if(e===t){F=null;break}var n=e.sibling;if(n!==null){n.return=e.return,F=n;break}F=e.return}}function ff(t){for(;F!==null;){var e=F;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{dl(4,e)}catch(a){fe(e,n,a)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var o=e.return;try{i.componentDidMount()}catch(a){fe(e,o,a)}}var s=e.return;try{eu(e)}catch(a){fe(e,s,a)}break;case 5:var r=e.return;try{eu(e)}catch(a){fe(e,r,a)}}}catch(a){fe(e,e.return,a)}if(e===t){F=null;break}var l=e.sibling;if(l!==null){l.return=e.return,F=l;break}F=e.return}}var A_=Math.ceil,Rr=Qt.ReactCurrentDispatcher,hc=Qt.ReactCurrentOwner,ut=Qt.ReactCurrentBatchConfig,j=0,Se=null,xe=null,ke=0,Ye=0,yi=An(0),ye=0,ss=null,Qn=0,fl=0,mc=0,Ro=null,He=null,gc=0,Vi=1/0,zt=null,Dr=!1,iu=null,yn=null,Ds=!1,an=null,Lr=0,Do=0,ou=null,sr=-1,rr=0;function ze(){return j&6?ge():sr!==-1?sr:sr=ge()}function _n(t){return t.mode&1?j&2&&ke!==0?ke&-ke:f_.transition!==null?(rr===0&&(rr=Qm()),rr):(t=Q,t!==0||(t=window.event,t=t===void 0?16:og(t.type)),t):1}function vt(t,e,n,i){if(50<Do)throw Do=0,ou=null,Error(M(185));ds(t,n,i),(!(j&2)||t!==Se)&&(t===Se&&(!(j&2)&&(fl|=n),ye===4&&rn(t,ke)),We(t,i),n===1&&j===0&&!(e.mode&1)&&(Vi=ge()+500,al&&Nn()))}function We(t,e){var n=t.callbackNode;fy(t,e);var i=vr(t,t===Se?ke:0);if(i===0)n!==null&&_d(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&_d(n),e===1)t.tag===0?d_(pf.bind(null,t)):Cg(pf.bind(null,t)),l_(function(){!(j&6)&&Nn()}),n=null;else{switch(Xm(i)){case 1:n=Ou;break;case 4:n=Ym;break;case 16:n=xr;break;case 536870912:n=Km;break;default:n=xr}n=S0(n,h0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function h0(t,e){if(sr=-1,rr=0,j&6)throw Error(M(327));var n=t.callbackNode;if(Ii()&&t.callbackNode!==n)return null;var i=vr(t,t===Se?ke:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=zr(t,i);else{e=i;var o=j;j|=2;var s=g0();(Se!==t||ke!==e)&&(zt=null,Vi=ge()+500,$n(t,e));do try{M_();break}catch(l){m0(t,l)}while(!0);tc(),Rr.current=s,j=o,xe!==null?e=0:(Se=null,ke=0,e=ye)}if(e!==0){if(e===2&&(o=Pa(t),o!==0&&(i=o,e=su(t,o))),e===1)throw n=ss,$n(t,0),rn(t,i),We(t,ge()),n;if(e===6)rn(t,i);else{if(o=t.current.alternate,!(i&30)&&!N_(o)&&(e=zr(t,i),e===2&&(s=Pa(t),s!==0&&(i=s,e=su(t,s))),e===1))throw n=ss,$n(t,0),rn(t,i),We(t,ge()),n;switch(t.finishedWork=o,t.finishedLanes=i,e){case 0:case 1:throw Error(M(345));case 2:Un(t,He,zt);break;case 3:if(rn(t,i),(i&130023424)===i&&(e=gc+500-ge(),10<e)){if(vr(t,0)!==0)break;if(o=t.suspendedLanes,(o&i)!==i){ze(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=Ba(Un.bind(null,t,He,zt),e);break}Un(t,He,zt);break;case 4:if(rn(t,i),(i&4194240)===i)break;for(e=t.eventTimes,o=-1;0<i;){var r=31-xt(i);s=1<<r,r=e[r],r>o&&(o=r),i&=~s}if(i=o,i=ge()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*A_(i/1960))-i,10<i){t.timeoutHandle=Ba(Un.bind(null,t,He,zt),i);break}Un(t,He,zt);break;case 5:Un(t,He,zt);break;default:throw Error(M(329))}}}return We(t,ge()),t.callbackNode===n?h0.bind(null,t):null}function su(t,e){var n=Ro;return t.current.memoizedState.isDehydrated&&($n(t,e).flags|=256),t=zr(t,e),t!==2&&(e=He,He=n,e!==null&&ru(e)),t}function ru(t){He===null?He=t:He.push.apply(He,t)}function N_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var o=n[i],s=o.getSnapshot;o=o.value;try{if(!yt(s(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function rn(t,e){for(e&=~mc,e&=~fl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xt(e),i=1<<n;t[n]=-1,e&=~i}}function pf(t){if(j&6)throw Error(M(327));Ii();var e=vr(t,0);if(!(e&1))return We(t,ge()),null;var n=zr(t,e);if(t.tag!==0&&n===2){var i=Pa(t);i!==0&&(e=i,n=su(t,i))}if(n===1)throw n=ss,$n(t,0),rn(t,e),We(t,ge()),n;if(n===6)throw Error(M(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Un(t,He,zt),We(t,ge()),null}function xc(t,e){var n=j;j|=1;try{return t(e)}finally{j=n,j===0&&(Vi=ge()+500,al&&Nn())}}function Xn(t){an!==null&&an.tag===0&&!(j&6)&&Ii();var e=j;j|=1;var n=ut.transition,i=Q;try{if(ut.transition=null,Q=1,t)return t()}finally{Q=i,ut.transition=n,j=e,!(j&6)&&Nn()}}function vc(){Ye=yi.current,re(yi)}function $n(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,r_(n)),xe!==null)for(n=xe.return;n!==null;){var i=n;switch(Xu(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Cr();break;case 3:Ui(),re(Ge),re(Pe),lc();break;case 5:rc(i);break;case 4:Ui();break;case 13:re(ue);break;case 19:re(ue);break;case 10:nc(i.type._context);break;case 22:case 23:vc()}n=n.return}if(Se=t,xe=t=Sn(t.current,null),ke=Ye=e,ye=0,ss=null,mc=fl=Qn=0,He=Ro=null,On!==null){for(e=0;e<On.length;e++)if(n=On[e],i=n.interleaved,i!==null){n.interleaved=null;var o=i.next,s=n.pending;if(s!==null){var r=s.next;s.next=o,i.next=r}n.pending=i}On=null}return t}function m0(t,e){do{var n=xe;try{if(tc(),nr.current=Mr,Pr){for(var i=ce.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Pr=!1}if(Kn=0,_e=ve=ce=null,Po=!1,ns=0,hc.current=null,n===null||n.return===null){ye=1,ss=e,xe=null;break}e:{var s=t,r=n.return,l=n,a=e;if(e=ke,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Zd(r);if(g!==null){g.flags&=-257,ef(g,r,l,s,e),g.mode&1&&Xd(s,u,e),e=g,a=u;var x=e.updateQueue;if(x===null){var v=new Set;v.add(a),e.updateQueue=v}else x.add(a);break e}else{if(!(e&1)){Xd(s,u,e),yc();break e}a=Error(M(426))}}else if(le&&l.mode&1){var w=Zd(r);if(w!==null){!(w.flags&65536)&&(w.flags|=256),ef(w,r,l,s,e),Zu(Bi(a,l));break e}}s=a=Bi(a,l),ye!==4&&(ye=2),Ro===null?Ro=[s]:Ro.push(s),s=r;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=Xg(s,a,e);Wd(s,S);break e;case 1:l=a;var _=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(yn===null||!yn.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=Zg(s,l,e);Wd(s,C);break e}}s=s.return}while(s!==null)}v0(n)}catch(T){e=T,xe===n&&n!==null&&(xe=n=n.return);continue}break}while(!0)}function g0(){var t=Rr.current;return Rr.current=Mr,t===null?Mr:t}function yc(){(ye===0||ye===3||ye===2)&&(ye=4),Se===null||!(Qn&268435455)&&!(fl&268435455)||rn(Se,ke)}function zr(t,e){var n=j;j|=2;var i=g0();(Se!==t||ke!==e)&&(zt=null,$n(t,e));do try{P_();break}catch(o){m0(t,o)}while(!0);if(tc(),j=n,Rr.current=i,xe!==null)throw Error(M(261));return Se=null,ke=0,ye}function P_(){for(;xe!==null;)x0(xe)}function M_(){for(;xe!==null&&!iy();)x0(xe)}function x0(t){var e=_0(t.alternate,t,Ye);t.memoizedProps=t.pendingProps,e===null?v0(t):xe=e,hc.current=null}function v0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=k_(n,e),n!==null){n.flags&=32767,xe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ye=6,xe=null;return}}else if(n=T_(n,e,Ye),n!==null){xe=n;return}if(e=e.sibling,e!==null){xe=e;return}xe=e=t}while(e!==null);ye===0&&(ye=5)}function Un(t,e,n){var i=Q,o=ut.transition;try{ut.transition=null,Q=1,R_(t,e,n,i)}finally{ut.transition=o,Q=i}return null}function R_(t,e,n,i){do Ii();while(an!==null);if(j&6)throw Error(M(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(M(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(py(t,s),t===Se&&(xe=Se=null,ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ds||(Ds=!0,S0(xr,function(){return Ii(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ut.transition,ut.transition=null;var r=Q;Q=1;var l=j;j|=4,hc.current=null,I_(t,n),f0(n,t),Zy(Fa),yr=!!za,Fa=za=null,t.current=n,b_(n),oy(),j=l,Q=r,ut.transition=s}else t.current=n;if(Ds&&(Ds=!1,an=t,Lr=o),s=t.pendingLanes,s===0&&(yn=null),ly(n.stateNode),We(t,ge()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],i(o.value,{componentStack:o.stack,digest:o.digest});if(Dr)throw Dr=!1,t=iu,iu=null,t;return Lr&1&&t.tag!==0&&Ii(),s=t.pendingLanes,s&1?t===ou?Do++:(Do=0,ou=t):Do=0,Nn(),null}function Ii(){if(an!==null){var t=Xm(Lr),e=ut.transition,n=Q;try{if(ut.transition=null,Q=16>t?16:t,an===null)var i=!1;else{if(t=an,an=null,Lr=0,j&6)throw Error(M(331));var o=j;for(j|=4,F=t.current;F!==null;){var s=F,r=s.child;if(F.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(F=u;F!==null;){var d=F;switch(d.tag){case 0:case 11:case 15:Mo(8,d,s)}var h=d.child;if(h!==null)h.return=d,F=h;else for(;F!==null;){d=F;var m=d.sibling,g=d.return;if(u0(d),d===u){F=null;break}if(m!==null){m.return=g,F=m;break}F=g}}}var x=s.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}F=s}}if(s.subtreeFlags&2064&&r!==null)r.return=s,F=r;else e:for(;F!==null;){if(s=F,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Mo(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,F=S;break e}F=s.return}}var _=t.current;for(F=_;F!==null;){r=F;var y=r.child;if(r.subtreeFlags&2064&&y!==null)y.return=r,F=y;else e:for(r=_;F!==null;){if(l=F,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:dl(9,l)}}catch(T){fe(l,l.return,T)}if(l===r){F=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,F=C;break e}F=l.return}}if(j=o,Nn(),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(il,t)}catch{}i=!0}return i}finally{Q=n,ut.transition=e}}return!1}function hf(t,e,n){e=Bi(n,e),e=Xg(t,e,1),t=vn(t,e,1),e=ze(),t!==null&&(ds(t,1,e),We(t,e))}function fe(t,e,n){if(t.tag===3)hf(t,t,n);else for(;e!==null;){if(e.tag===3){hf(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(yn===null||!yn.has(i))){t=Bi(n,t),t=Zg(e,t,1),e=vn(e,t,1),t=ze(),e!==null&&(ds(e,1,t),We(e,t));break}}e=e.return}}function D_(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=ze(),t.pingedLanes|=t.suspendedLanes&n,Se===t&&(ke&n)===n&&(ye===4||ye===3&&(ke&130023424)===ke&&500>ge()-gc?$n(t,0):mc|=n),We(t,e)}function y0(t,e){e===0&&(t.mode&1?(e=Ts,Ts<<=1,!(Ts&130023424)&&(Ts=4194304)):e=1);var n=ze();t=jt(t,e),t!==null&&(ds(t,e,n),We(t,n))}function L_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),y0(t,n)}function z_(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(M(314))}i!==null&&i.delete(e),y0(t,n)}var _0;_0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ge.current)qe=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return qe=!1,C_(t,e,n);qe=!!(t.flags&131072)}else qe=!1,le&&e.flags&1048576&&Tg(e,Er,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;or(t,e),t=e.pendingProps;var o=Li(e,Pe.current);Ei(e,n),o=uc(null,e,i,t,o,n);var s=cc();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$e(i)?(s=!0,Tr(e)):s=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,oc(e),o.updater=cl,e.stateNode=o,o._reactInternals=e,Wa(e,i,t,n),e=Ya(null,e,i,!0,s,n)):(e.tag=0,le&&s&&Qu(e),Le(null,e,o,n),e=e.child),e;case 16:i=e.elementType;e:{switch(or(t,e),t=e.pendingProps,o=i._init,i=o(i._payload),e.type=i,o=e.tag=U_(i),t=ht(i,t),o){case 0:e=Ja(null,e,i,t,n);break e;case 1:e=of(null,e,i,t,n);break e;case 11:e=tf(null,e,i,t,n);break e;case 14:e=nf(null,e,i,ht(i.type,t),n);break e}throw Error(M(306,i,""))}return e;case 0:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:ht(i,o),Ja(t,e,i,o,n);case 1:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:ht(i,o),of(t,e,i,o,n);case 3:e:{if(i0(e),t===null)throw Error(M(387));i=e.pendingProps,s=e.memoizedState,o=s.element,Ng(t,e),Ar(e,i,null,n);var r=e.memoizedState;if(i=r.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:r.cache,pendingSuspenseBoundaries:r.pendingSuspenseBoundaries,transitions:r.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){o=Bi(Error(M(423)),e),e=sf(t,e,i,n,o);break e}else if(i!==o){o=Bi(Error(M(424)),e),e=sf(t,e,i,n,o);break e}else for(Xe=xn(e.stateNode.containerInfo.firstChild),et=e,le=!0,gt=null,n=bg(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zi(),i===o){e=Jt(t,e,n);break e}Le(t,e,i,n)}e=e.child}return e;case 5:return Pg(e),t===null&&qa(e),i=e.type,o=e.pendingProps,s=t!==null?t.memoizedProps:null,r=o.children,Ua(i,o)?r=null:s!==null&&Ua(i,s)&&(e.flags|=32),n0(t,e),Le(t,e,r,n),e.child;case 6:return t===null&&qa(e),null;case 13:return o0(t,e,n);case 4:return sc(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Fi(e,null,i,n):Le(t,e,i,n),e.child;case 11:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:ht(i,o),tf(t,e,i,o,n);case 7:return Le(t,e,e.pendingProps,n),e.child;case 8:return Le(t,e,e.pendingProps.children,n),e.child;case 12:return Le(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,o=e.pendingProps,s=e.memoizedProps,r=o.value,te(Ir,i._currentValue),i._currentValue=r,s!==null)if(yt(s.value,r)){if(s.children===o.children&&!Ge.current){e=Jt(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){r=s.child;for(var a=l.firstContext;a!==null;){if(a.context===i){if(s.tag===1){a=qt(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Ga(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)r=s.type===e.type?null:s.child;else if(s.tag===18){if(r=s.return,r===null)throw Error(M(341));r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),Ga(r,n,e),r=s.sibling}else r=s.child;if(r!==null)r.return=s;else for(r=s;r!==null;){if(r===e){r=null;break}if(s=r.sibling,s!==null){s.return=r.return,r=s;break}r=r.return}s=r}Le(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,i=e.pendingProps.children,Ei(e,n),o=dt(o),i=i(o),e.flags|=1,Le(t,e,i,n),e.child;case 14:return i=e.type,o=ht(i,e.pendingProps),o=ht(i.type,o),nf(t,e,i,o,n);case 15:return e0(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:ht(i,o),or(t,e),e.tag=1,$e(i)?(t=!0,Tr(e)):t=!1,Ei(e,n),Qg(e,i,o),Wa(e,i,o,n),Ya(null,e,i,!0,t,n);case 19:return s0(t,e,n);case 22:return t0(t,e,n)}throw Error(M(156,e.tag))};function S0(t,e){return Jm(t,e)}function F_(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function at(t,e,n,i){return new F_(t,e,n,i)}function _c(t){return t=t.prototype,!(!t||!t.isReactComponent)}function U_(t){if(typeof t=="function")return _c(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Bu)return 11;if(t===Vu)return 14}return 2}function Sn(t,e){var n=t.alternate;return n===null?(n=at(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function lr(t,e,n,i,o,s){var r=2;if(i=t,typeof t=="function")_c(t)&&(r=1);else if(typeof t=="string")r=5;else e:switch(t){case ui:return Wn(n.children,o,s,e);case Uu:r=8,o|=8;break;case ga:return t=at(12,n,e,o|2),t.elementType=ga,t.lanes=s,t;case xa:return t=at(13,n,e,o),t.elementType=xa,t.lanes=s,t;case va:return t=at(19,n,e,o),t.elementType=va,t.lanes=s,t;case Pm:return pl(n,o,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Am:r=10;break e;case Nm:r=9;break e;case Bu:r=11;break e;case Vu:r=14;break e;case nn:r=16,i=null;break e}throw Error(M(130,t==null?t:typeof t,""))}return e=at(r,n,e,o),e.elementType=t,e.type=i,e.lanes=s,e}function Wn(t,e,n,i){return t=at(7,t,i,e),t.lanes=n,t}function pl(t,e,n,i){return t=at(22,t,i,e),t.elementType=Pm,t.lanes=n,t.stateNode={isHidden:!1},t}function ta(t,e,n){return t=at(6,t,null,e),t.lanes=n,t}function na(t,e,n){return e=at(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function B_(t,e,n,i,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zl(0),this.expirationTimes=zl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zl(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Sc(t,e,n,i,o,s,r,l,a){return t=new B_(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=at(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},oc(s),t}function V_(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ai,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function w0(t){if(!t)return Tn;t=t._reactInternals;e:{if(ni(t)!==t||t.tag!==1)throw Error(M(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($e(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(M(171))}if(t.tag===1){var n=t.type;if($e(n))return wg(t,n,e)}return e}function C0(t,e,n,i,o,s,r,l,a){return t=Sc(n,i,!0,t,o,s,r,l,a),t.context=w0(null),n=t.current,i=ze(),o=_n(n),s=qt(i,o),s.callback=e??null,vn(n,s,o),t.current.lanes=o,ds(t,o,i),We(t,i),t}function hl(t,e,n,i){var o=e.current,s=ze(),r=_n(o);return n=w0(n),e.context===null?e.context=n:e.pendingContext=n,e=qt(s,r),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=vn(o,e,r),t!==null&&(vt(t,o,r,s),tr(t,o,r)),r}function Fr(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function mf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function wc(t,e){mf(t,e),(t=t.alternate)&&mf(t,e)}function H_(){return null}var T0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Cc(t){this._internalRoot=t}ml.prototype.render=Cc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(M(409));hl(t,e,null,null)};ml.prototype.unmount=Cc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xn(function(){hl(null,t,null,null)}),e[Wt]=null}};function ml(t){this._internalRoot=t}ml.prototype.unstable_scheduleHydration=function(t){if(t){var e=tg();t={blockedOn:null,target:t,priority:e};for(var n=0;n<sn.length&&e!==0&&e<sn[n].priority;n++);sn.splice(n,0,t),n===0&&ig(t)}};function Tc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function gf(){}function O_(t,e,n,i,o){if(o){if(typeof i=="function"){var s=i;i=function(){var u=Fr(r);s.call(u)}}var r=C0(e,i,t,0,null,!1,!1,"",gf);return t._reactRootContainer=r,t[Wt]=r.current,Qo(t.nodeType===8?t.parentNode:t),Xn(),r}for(;o=t.lastChild;)t.removeChild(o);if(typeof i=="function"){var l=i;i=function(){var u=Fr(a);l.call(u)}}var a=Sc(t,0,!1,null,null,!1,!1,"",gf);return t._reactRootContainer=a,t[Wt]=a.current,Qo(t.nodeType===8?t.parentNode:t),Xn(function(){hl(e,a,n,i)}),a}function xl(t,e,n,i,o){var s=n._reactRootContainer;if(s){var r=s;if(typeof o=="function"){var l=o;o=function(){var a=Fr(r);l.call(a)}}hl(e,r,t,o)}else r=O_(n,e,t,o,i);return Fr(r)}Zm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=_o(e.pendingLanes);n!==0&&(qu(e,n|1),We(e,ge()),!(j&6)&&(Vi=ge()+500,Nn()))}break;case 13:Xn(function(){var i=jt(t,1);if(i!==null){var o=ze();vt(i,t,1,o)}}),wc(t,1)}};Gu=function(t){if(t.tag===13){var e=jt(t,134217728);if(e!==null){var n=ze();vt(e,t,134217728,n)}wc(t,134217728)}};eg=function(t){if(t.tag===13){var e=_n(t),n=jt(t,e);if(n!==null){var i=ze();vt(n,t,e,i)}wc(t,e)}};tg=function(){return Q};ng=function(t,e){var n=Q;try{return Q=t,e()}finally{Q=n}};ba=function(t,e,n){switch(e){case"input":if(Sa(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var o=ll(i);if(!o)throw Error(M(90));Rm(i),Sa(i,o)}}}break;case"textarea":Lm(t,n);break;case"select":e=n.value,e!=null&&wi(t,!!n.multiple,e,!1)}};Om=xc;qm=Xn;var q_={usingClientEntryPoint:!1,Events:[ps,pi,ll,Vm,Hm,xc]},lo={findFiberByHostInstance:Hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},G_={bundleType:lo.bundleType,version:lo.version,rendererPackageName:lo.rendererPackageName,rendererConfig:lo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Wm(t),t===null?null:t.stateNode},findFiberByHostInstance:lo.findFiberByHostInstance||H_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ls=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ls.isDisabled&&Ls.supportsFiber)try{il=Ls.inject(G_),Nt=Ls}catch{}}it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q_;it.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tc(e))throw Error(M(200));return V_(t,e,null,n)};it.createRoot=function(t,e){if(!Tc(t))throw Error(M(299));var n=!1,i="",o=T0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=Sc(t,1,!1,null,null,n,!1,i,o),t[Wt]=e.current,Qo(t.nodeType===8?t.parentNode:t),new Cc(e)};it.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(M(188)):(t=Object.keys(t).join(","),Error(M(268,t)));return t=Wm(e),t=t===null?null:t.stateNode,t};it.flushSync=function(t){return Xn(t)};it.hydrate=function(t,e,n){if(!gl(e))throw Error(M(200));return xl(null,t,e,!0,n)};it.hydrateRoot=function(t,e,n){if(!Tc(t))throw Error(M(405));var i=n!=null&&n.hydratedSources||null,o=!1,s="",r=T0;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(r=n.onRecoverableError)),e=C0(e,null,t,1,n??null,o,!1,s,r),t[Wt]=e.current,Qo(t),i)for(t=0;t<i.length;t++)n=i[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new ml(e)};it.render=function(t,e,n){if(!gl(e))throw Error(M(200));return xl(null,t,e,!1,n)};it.unmountComponentAtNode=function(t){if(!gl(t))throw Error(M(40));return t._reactRootContainer?(Xn(function(){xl(null,null,t,!1,function(){t._reactRootContainer=null,t[Wt]=null})}),!0):!1};it.unstable_batchedUpdates=xc;it.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!gl(n))throw Error(M(200));if(t==null||t._reactInternals===void 0)throw Error(M(38));return xl(t,e,n,!1,i)};it.version="18.3.1-next-f1338f8080-20240426";function k0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(k0)}catch(t){console.error(t)}}k0(),km.exports=it;var $_=km.exports,xf=$_;ha.createRoot=xf.createRoot,ha.hydrateRoot=xf.hydrateRoot;function he(t,e){try{const n=localStorage.getItem(t);return n==="undefined"?e:n?JSON.parse(n):e}catch(n){return console.error(`Error parsing JSON from localStorage key "${t}":`,n),localStorage.removeItem(t),e}}const W_=t=>p.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M12 22h6a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2h6z"}),p.jsx("path",{d:"M12 2v4"}),p.jsx("path",{d:"M20 12v-2a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2"})]}),j_=t=>p.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M12 5C12 5 12 5 12 5c-2.2 0-4 1.8-4 4v0c0 1.1.9 2 2 2h4c1.1 0 2-.9 2-2v0c0-2.2-1.8-4-4-4z"}),p.jsx("path",{d:"M12 11v11"}),p.jsx("path",{d:"M10 11H8c-1.1 0-2 .9-2 2v0c0 2.2 1.8 4 4 4h0"}),p.jsx("path",{d:"M14 11h2c1.1 0 2 .9 2 2v0c0 2.2-1.8 4-4 4h0"}),p.jsx("circle",{cx:"12",cy:"5",r:"2"})]}),J_=t=>p.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M12 22c-3.3 0-6-2.7-6-6v-2a6 6 0 1 1 12 0v2c0 3.3-2.7 6-6 6z"}),p.jsx("path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"}),p.jsx("path",{d:"M12 4V2"}),p.jsx("path",{d:"M12 20v2"}),p.jsx("path",{d:"m4.9 4.9 1.4 1.4"}),p.jsx("path",{d:"m17.7 17.7 1.4 1.4"}),p.jsx("path",{d:"M2 12h2"}),p.jsx("path",{d:"M20 12h2"}),p.jsx("path",{d:"m4.9 19.1 1.4-1.4"}),p.jsx("path",{d:"m17.7 6.3 1.4-1.4"})]}),Y_=t=>p.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M12 22c-3.3 0-6-2.7-6-6v-2a6 6 0 1 1 12 0v2c0 3.3-2.7 6-6 6z"}),p.jsx("path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"}),p.jsx("path",{d:"M12 4V2"}),p.jsx("path",{d:"M12 20v2"}),p.jsx("path",{d:"m4.9 4.9 1.4 1.4"}),p.jsx("path",{d:"m17.7 17.7 1.4 1.4"}),p.jsx("path",{d:"M2 12h2"}),p.jsx("path",{d:"M20 12h2"}),p.jsx("path",{d:"m4.9 19.1 1.4-1.4"}),p.jsx("path",{d:"m17.7 6.3 1.4-1.4"})]}),K_=t=>p.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M12 22c-3.3 0-6-2.7-6-6v-2a6 6 0 1 1 12 0v2c0 3.3-2.7 6-6 6z"}),p.jsx("path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"}),p.jsx("path",{d:"M12 4V2"}),p.jsx("path",{d:"M12 20v2"}),p.jsx("path",{d:"m4.9 4.9 1.4 1.4"}),p.jsx("path",{d:"m17.7 17.7 1.4 1.4"}),p.jsx("path",{d:"M2 12h2"}),p.jsx("path",{d:"M20 12h2"}),p.jsx("path",{d:"m4.9 19.1 1.4-1.4"}),p.jsx("path",{d:"m17.7 6.3 1.4-1.4"})]}),Gt={sleep:{id:"sleep",title:"Analisi del Sonno",Icon:W_,questions:[{text:"Quante ore dormi in media per notte?",options:[{text:"Meno di 5 ore",value:1},{text:"5-6 ore",value:2},{text:"7-8 ore",value:4},{text:"Pi di 8 ore",value:3}]},{text:"Ti svegli durante la notte?",options:[{text:"Spesso",value:1},{text:"A volte",value:2},{text:"Raramente",value:3},{text:"Mai",value:4}]},{text:"Come ti senti al risveglio?",options:[{text:"Stanco e non riposato",value:1},{text:"Leggermente stanco",value:2},{text:"Abbastanza riposato",value:3},{text:"Pieno di energie",value:4}]},{text:"Quanto tempo impieghi per addormentarti?",options:[{text:"Pi di 60 minuti",value:1},{text:"30-60 minuti",value:2},{text:"15-30 minuti",value:3},{text:"Meno di 15 minuti",value:4}]},{text:"Usi dispositivi elettronici (telefono, TV) prima di dormire?",options:[{text:"Sempre, fino a un attimo prima",value:1},{text:"Spesso",value:2},{text:"A volte",value:3},{text:"Raramente o mai",value:4}]},{text:"La tua camera da letto  buia e silenziosa?",options:[{text:"No,  luminosa e/o rumorosa",value:1},{text:"Abbastanza",value:2},{text:"S, per la maggior parte",value:3},{text:"S, completamente",value:4}]},{text:"Ti capita di russare o avere apnee notturne?",options:[{text:"S, mi  stato detto spesso",value:1},{text:"A volte",value:2},{text:"Non che io sappia",value:3},{text:"No, mai",value:4}]},{text:"Hai orari di sonno regolari (anche nel weekend)?",options:[{text:"No, molto irregolari",value:1},{text:"Abbastanza irregolari",value:2},{text:"Abbastanza regolari",value:3},{text:"S, molto regolari",value:4}]},{text:"Bevi caff o alcolici nelle ore serali?",options:[{text:"S, regolarmente",value:1},{text:"Spesso",value:2},{text:"A volte",value:3},{text:"Raramente o mai",value:4}]},{text:"Fai attivit fisica intensa poco prima di coricarti?",options:[{text:"S, regolarmente",value:1},{text:"Spesso",value:2},{text:"A volte",value:3},{text:"Raramente o mai",value:4}]},{text:"Ti senti assonnato durante il giorno?",options:[{text:"Molto, fatico a rimanere sveglio",value:1},{text:"Abbastanza",value:2},{text:"Un po'",value:3},{text:"Per niente",value:4}]},{text:"Fai sonnellini durante il giorno?",options:[{text:"S, lunghi e spesso",value:1},{text:"S, ma brevi (meno di 30 min)",value:3},{text:"Raramente",value:4},{text:"Quasi mai",value:2}]},{text:"La temperatura della tua camera  confortevole?",options:[{text:"No, troppo calda o troppo fredda",value:1},{text:"A volte s, a volte no",value:2},{text:"Generalmente s",value:3},{text:"S,  ideale",value:4}]},{text:"Il tuo materasso e cuscino sono comodi?",options:[{text:"No, per niente",value:1},{text:"Potrebbero essere migliori",value:2},{text:"S, abbastanza",value:3},{text:"S, molto comodi",value:4}]},{text:"Hai pensieri stressanti o ansiosi quando vai a letto?",options:[{text:"S, quasi ogni sera",value:1},{text:"Spesso",value:2},{text:"A volte",value:3},{text:"Raramente",value:4}]},{text:"Ceni molto tardi o in modo pesante?",options:[{text:"S, quasi sempre",value:1},{text:"Spesso",value:2},{text:"A volte",value:3},{text:"Raramente o mai",value:4}]},{text:"Ti alzi per andare in bagno durante la notte?",options:[{text:"Pi di due volte",value:1},{text:"Una o due volte",value:2},{text:"Raramente",value:3},{text:"Mai",value:4}]},{text:"Come giudicheresti la qualit generale del tuo sonno?",options:[{text:"Molto scarsa",value:1},{text:"Scarsa",value:2},{text:"Buona",value:3},{text:"Eccellente",value:4}]},{text:"Soffri di crampi o sindrome delle gambe senza riposo?",options:[{text:"S, frequentemente",value:1},{text:"A volte",value:2},{text:"Raramente",value:3},{text:"Mai",value:4}]},{text:"Assumi farmaci o integratori per dormire?",options:[{text:"S, regolarmente",value:1},{text:"Occasionalmente",value:2},{text:"Molto raramente",value:3},{text:"Mai",value:4}]}],results:[{scoreMin:20,scoreMax:40,title:"Qualit del sonno molto scarsa",summary:"Il tuo sonno sembra essere significativamente disturbato.  fondamentale indagare le cause e adottare strategie mirate per migliorare il riposo notturno."},{scoreMin:41,scoreMax:60,title:"Qualit del sonno migliorabile",summary:"Ci sono diversi aspetti del tuo sonno che possono essere migliorati. Piccoli cambiamenti nelle tue abitudini potrebbero fare una grande differenza."},{scoreMin:61,scoreMax:80,title:"Buona qualit del sonno",summary:"Hai delle buone abitudini di sonno, ma c' ancora margine per ottimizzare il tuo riposo e massimizzare i benefici per la tua salute."}]},fitness:{id:"fitness",title:"Analisi Fitness",Icon:j_,questions:[{text:"Quante volte a settimana fai attivit fisica aerobica (corsa, nuoto, bici)?",options:[{text:"Mai",value:1},{text:"1-2 volte",value:2},{text:"3-4 volte",value:3},{text:"5 o pi volte",value:4}]},{text:"Quanto dura in media una tua sessione di allenamento?",options:[{text:"Meno di 20 minuti",value:1},{text:"20-40 minuti",value:2},{text:"40-60 minuti",value:3},{text:"Pi di 60 minuti",value:4}]},{text:"Includi esercizi di forza (pesi, corpo libero) nella tua routine?",options:[{text:"Mai",value:1},{text:"Raramente",value:2},{text:"1-2 volte a settimana",value:3},{text:"3 o pi volte a settimana",value:4}]},{text:"Come percepisci l'intensit del tuo allenamento tipico?",options:[{text:"Molto leggera",value:1},{text:"Leggera",value:2},{text:"Moderata",value:3},{text:"Intensa",value:4}]},{text:"Fai stretching o esercizi di flessibilit?",options:[{text:"Mai",value:1},{text:"Raramente",value:2},{text:"Dopo ogni allenamento",value:4},{text:"Alcune volte a settimana",value:3}]},{text:"Quanti passi fai in media al giorno?",options:[{text:"Meno di 3.000",value:1},{text:"3.000 - 6.000",value:2},{text:"6.000 - 10.000",value:3},{text:"Pi di 10.000",value:4}]},{text:"Passi la maggior parte della tua giornata seduto?",options:[{text:"S, quasi tutto il giorno",value:1},{text:"S, pi di met giornata",value:2},{text:"No, sono spesso in movimento",value:3},{text:"No, ho un lavoro molto attivo",value:4}]},{text:"Riesci a salire 3 piani di scale senza affanno eccessivo?",options:[{text:"No, con molta fatica",value:1},{text:"S, ma con un po' di affanno",value:2},{text:"S, abbastanza facilmente",value:3},{text:"S, senza problemi",value:4}]},{text:"Ti dedichi al riscaldamento prima dell'allenamento e al defaticamento dopo?",options:[{text:"Mai",value:1},{text:"Raramente",value:2},{text:"A volte",value:3},{text:"Sempre",value:4}]},{text:"Come ti senti dopo un'attivit fisica?",options:[{text:"Esausto e dolorante per giorni",value:1},{text:"Molto stanco",value:2},{text:"Piacevolmente stanco",value:3},{text:"Energizzato",value:4}]},{text:"Hai un obiettivo di fitness specifico (es. perdere peso, aumentare la massa muscolare)?",options:[{text:"No, nessuno",value:1},{text:"S, ma non lo seguo con costanza",value:2},{text:"S, e lo seguo abbastanza bene",value:3},{text:"S, e sono molto disciplinato",value:4}]},{text:"La tua routine di allenamento  varia?",options:[{text:"No, faccio sempre le stesse cose",value:1},{text:"Non molto, vario raramente",value:2},{text:"S, cerco di variare",value:3},{text:"S,  molto diversificata",value:4}]},{text:"Ti alleni da solo o in compagnia?",options:[{text:"Sempre da solo",value:2},{text:"Preferibilmente in compagnia",value:3},{text:"Dipende, entrambi",value:4},{text:"Non mi alleno",value:1}]},{text:"Quanto  importante l'attivit fisica nella tua vita?",options:[{text:"Per niente",value:1},{text:"Poco",value:2},{text:"Abbastanza",value:3},{text:"Molto",value:4}]},{text:"Hai mai avuto infortuni legati all'attivit fisica?",options:[{text:"S, e mi impedisce di allenarmi",value:1},{text:"S, pi di uno in passato",value:2},{text:"S, ma di lieve entit",value:3},{text:"No, mai",value:4}]},{text:"Come recuperi dopo l'allenamento (sonno, alimentazione)?",options:[{text:"Non ci presto attenzione",value:1},{text:"Potrei fare di pi",value:2},{text:"Ci sto attento",value:3},{text:"Il recupero  una mia priorit",value:4}]},{text:"Ascolti i segnali del tuo corpo (es. ti fermi se senti dolore)?",options:[{text:"No, tendo a ignorarli",value:1},{text:"Non sempre",value:2},{text:"Generalmente s",value:3},{text:"S, sempre",value:4}]},{text:"Ti idrati a sufficienza durante il giorno e l'allenamento?",options:[{text:"No, bevo molto poco",value:1},{text:"Potrei bere di pi",value:2},{text:"S, bevo regolarmente",value:3},{text:"S, sono molto attento all'idratazione",value:4}]},{text:"La tua motivazione ad allenarti  costante?",options:[{text:"No,  molto altalenante",value:1},{text:"A volte c', a volte no",value:2},{text:" abbastanza costante",value:3},{text:"S, sono molto motivato",value:4}]},{text:"Come giudichi il tuo attuale livello di forma fisica?",options:[{text:"Molto scarso",value:1},{text:"Scarsa",value:2},{text:"Buono",value:3},{text:"Eccellente",value:4}]}],results:[{scoreMin:20,scoreMax:40,title:"Livello di fitness da migliorare",summary:"La tua routine di attivit fisica sembra essere limitata. Incrementare gradualmente l'esercizio fisico porterebbe notevoli benefici alla tua salute generale."},{scoreMin:41,scoreMax:60,title:"Livello di fitness discreto",summary:"Hai una base di attivit fisica, ma c' un ampio margine di miglioramento. Aumentare la frequenza, la durata o l'intensit potrebbe essere il prossimo passo."},{scoreMin:61,scoreMax:80,title:"Buon livello di fitness",summary:"Sei una persona attiva e hai un buon livello di forma fisica. Continua cos e valuta di inserire nuove sfide per mantenere alta la motivazione."}]},stress:{id:"stress",title:"Analisi Ansia e Stress",Icon:J_,questions:[{text:"Con che frequenza ti senti nervoso o ansioso?",options:[{text:"Quasi ogni giorno",value:1},{text:"Pi della met dei giorni",value:2},{text:"Alcuni giorni",value:3},{text:"Raramente o mai",value:4}]},{text:"Riesci a controllare le tue preoccupazioni?",options:[{text:"No,  molto difficile",value:1},{text:"A volte, con sforzo",value:2},{text:"Generalmente s",value:3},{text:"S, facilmente",value:4}]},{text:"Ti capita di sentirti improvvisamente spaventato o in preda al panico?",options:[{text:"Spesso",value:1},{text:"A volte",value:2},{text:"Raramente",value:3},{text:"Mai",value:4}]},{text:"Hai difficolt a rilassarti?",options:[{text:"S, quasi sempre",value:1},{text:"Spesso",value:2},{text:"A volte",value:3},{text:"Raramente",value:4}]},{text:"Ti senti irritabile o ti arrabbi facilmente?",options:[{text:"Molto spesso",value:1},{text:"Spesso",value:2},{text:"A volte",value:3},{text:"Raramente",value:4}]},{text:"Hai difficolt di concentrazione?",options:[{text:"S, quasi sempre",value:1},{text:"Spesso",value:2},{text:"A volte",value:3},{text:"Raramente",value:4}]},{text:"Soffri di mal di testa, mal di stomaco o tensioni muscolari inspiegabili?",options:[{text:"S, frequentemente",value:1},{text:"A volte",value:2},{text:"Raramente",value:3},{text:"Mai",value:4}]},{text:"Dedichi del tempo ad attivit che ti rilassano (hobby, meditazione, ecc.)?",options:[{text:"Mai",value:1},{text:"Raramente",value:2},{text:"A volte",value:3},{text:"Regolarmente",value:4}]},{text:"Ti senti sopraffatto dalle tue responsabilit?",options:[{text:"Quasi sempre",value:1},{text:"Spesso",value:2},{text:"A volte",value:3},{text:"Raramente",value:4}]},{text:"Hai qualcuno con cui parlare apertamente dei tuoi problemi?",options:[{text:"No, nessuno",value:1},{text:"Poche persone",value:2},{text:"S, alcuni amici/familiari",value:3},{text:"S, una solida rete di supporto",value:4}]},{text:"Come gestisci le situazioni impreviste o i cambiamenti?",options:[{text:"Vado in panico",value:1},{text:"Con molta difficolt",value:2},{text:"Mi adatto, anche se con fatica",value:3},{text:"Con flessibilit",value:4}]},{text:"Ti senti ottimista riguardo al futuro?",options:[{text:"No, per niente",value:1},{text:"Poco",value:2},{text:"Abbastanza",value:3},{text:"S, molto",value:4}]},{text:"Hai problemi a prendere decisioni?",options:[{text:"S, anche per le piccole cose",value:1},{text:"Spesso",value:2},{text:"A volte",value:3},{text:"Raramente",value:4}]},{text:"Ti senti stanco o senza energie anche senza sforzo fisico?",options:[{text:"Quasi sempre",value:1},{text:"Spesso",value:2},{text:"A volte",value:3},{text:"Raramente",value:4}]},{text:"Il tuo appetito  cambiato a causa dello stress (mangi di pi o di meno)?",options:[{text:"S,  cambiato notevolmente",value:1},{text:"Un po'",value:2},{text:"Non che io abbia notato",value:3},{text:"No,  rimasto uguale",value:4}]},{text:"Riesci a dire 'no' quando ti vengono chieste troppe cose?",options:[{text:"No, mai",value:1},{text:"Raramente, mi sento in colpa",value:2},{text:"A volte, ma con difficolt",value:3},{text:"S, riesco a stabilire i miei limiti",value:4}]},{text:"Pensi in modo catastrofico, immaginando sempre il peggio?",options:[{text:"S,  il mio modo di pensare abituale",value:1},{text:"Spesso",value:2},{text:"A volte",value:3},{text:"Raramente",value:4}]},{text:"Come giudichi la tua capacit di gestire lo stress?",options:[{text:"Molto bassa",value:1},{text:"Bassa",value:2},{text:"Discreta",value:3},{text:"Buona",value:4}]},{text:"Ti senti disconnesso dagli altri o isolato?",options:[{text:"S, molto spesso",value:1},{text:"Spesso",value:2},{text:"A volte",value:3},{text:"Raramente",value:4}]},{text:"Hai perso interesse o piacere nelle attivit che prima ti piacevano?",options:[{text:"S, in quasi tutto",value:1},{text:"In molte cose",value:2},{text:"In alcune cose",value:3},{text:"No, per niente",value:4}]}],results:[{scoreMin:20,scoreMax:40,title:"Livello di stress e ansia elevato",summary:"I risultati indicano un livello significativo di stress e ansia. Potrebbe essere molto utile esplorare tecniche di gestione dello stress e, se necessario, consultare un professionista."},{scoreMin:41,scoreMax:60,title:"Livello di stress e ansia moderato",summary:"Sperimenti periodi di stress e ansia che influenzano il tuo benessere. Imparare nuove strategie di coping potrebbe aiutarti a gestire meglio queste situazioni."},{scoreMin:61,scoreMax:80,title:"Buona gestione dello stress",summary:"Sembra che tu abbia delle buone strategie per gestire lo stress e l'ansia. Continua a prenderti cura del tuo benessere mentale e a coltivare le tue risorse."}]},diet:{id:"diet",title:"Analisi Dietetica",Icon:Y_,questions:[{text:"Quante porzioni di frutta e verdura consumi al giorno?",options:[{text:"0-1",value:1},{text:"2-3",value:2},{text:"4-5",value:3},{text:"Pi di 5",value:4}]},{text:"Che tipo di carboidrati scegli prevalentemente?",options:[{text:"Raffinati (pane bianco, pasta, riso bianco)",value:1},{text:"Un mix di raffinati e integrali",value:2},{text:"Prevalentemente integrali",value:3},{text:"Integrali e legumi",value:4}]},{text:"Quante volte a settimana mangi pesce, specialmente quello azzurro?",options:[{text:"Mai",value:1},{text:"Meno di una volta",value:2},{text:"1-2 volte",value:4},{text:"Pi di 2 volte",value:3}]},{text:"Qual  la tua principale fonte di proteine?",options:[{text:"Carne rossa e processata",value:1},{text:"Carne bianca e formaggi",value:2},{text:"Un mix che include legumi e pesce",value:3},{text:"Prevalentemente fonti vegetali (legumi, tofu)",value:4}]},{text:"Consumi bevande zuccherate (bibite, succhi di frutta confezionati)?",options:[{text:"Ogni giorno",value:1},{text:"Diverse volte a settimana",value:2},{text:"Raramente",value:3},{text:"Mai",value:4}]},{text:"Quanti caff bevi al giorno?",options:[{text:"Pi di 4",value:1},{text:"3-4",value:2},{text:"1-2",value:3},{text:"Nessuno o decaffeinato",value:4}]},{text:"Fai regolarmente colazione?",options:[{text:"No, mai",value:1},{text:"A volte",value:2},{text:"S, ma con prodotti confezionati/zuccherati",value:3},{text:"S, una colazione equilibrata",value:4}]},{text:"Consumi cibi fritti o molto processati (fast food, snack confezionati)?",options:[{text:"Spesso, pi volte a settimana",value:1},{text:"Circa una volta a settimana",value:2},{text:"Un paio di volte al mese",value:3},{text:"Molto raramente o mai",value:4}]},{text:"Quanta acqua bevi al giorno?",options:[{text:"Meno di 1 litro",value:1},{text:"Circa 1 litro",value:2},{text:"1.5 - 2 litri",value:3},{text:"Pi di 2 litri",value:4}]},{text:"Soffri di gonfiore, pesantezza o altri disturbi digestivi dopo i pasti?",options:[{text:"S, molto spesso",value:1},{text:"Spesso",value:2},{text:"A volte",value:3},{text:"Raramente",value:4}]},{text:"Quante volte a settimana consumi legumi (fagioli, lenticchie, ceci)?",options:[{text:"Mai",value:1},{text:"Meno di una volta",value:2},{text:"1-2 volte",value:3},{text:"3 o pi volte",value:4}]},{text:"Che tipo di grassi usi per cucinare?",options:[{text:"Burro, margarina, strutto",value:1},{text:"Oli di semi vari (girasole, mais)",value:2},{text:"Principalmente olio extra vergine d'oliva",value:4},{text:"Un mix, con prevalenza di olio EVO",value:3}]},{text:"Leggi le etichette nutrizionali dei prodotti che acquisti?",options:[{text:"No, mai",value:1},{text:"Raramente",value:2},{text:"A volte, per alcuni prodotti",value:3},{text:"S, quasi sempre",value:4}]},{text:"I tuoi pasti sono regolari o tendi a saltarli?",options:[{text:"Spesso salto i pasti",value:1},{text:"A volte ne salto uno",value:2},{text:"Cerco di essere regolare",value:3},{text:"Ho orari molto regolari",value:4}]},{text:"Mangi di fretta, magari in piedi o davanti a uno schermo?",options:[{text:"S, quasi sempre",value:1},{text:"Spesso",value:2},{text:"A volte",value:3},{text:"Raramente, mi prendo il mio tempo",value:4}]},{text:"Consumi dolci, torte o biscotti?",options:[{text:"Ogni giorno",value:1},{text:"Diverse volte a settimana",value:2},{text:"Solo nel weekend o in occasioni speciali",value:3},{text:"Molto raramente",value:4}]},{text:"Includi frutta secca e semi nella tua dieta?",options:[{text:"No, mai",value:1},{text:"Raramente",value:2},{text:"Qualche volta a settimana",value:3},{text:"S, una piccola porzione quasi ogni giorno",value:4}]},{text:"Quante volte a settimana mangi carne rossa?",options:[{text:"Pi di 3 volte",value:1},{text:"2-3 volte",value:2},{text:"Una volta",value:3},{text:"Raramente o mai",value:4}]},{text:"Assumi integratori alimentari?",options:[{text:"S, diversi e senza consulto medico",value:1},{text:"S, su consiglio del medico/farmacista",value:4},{text:"A volte, quando mi sento stanco",value:2},{text:"No, mai",value:3}]},{text:"Come descriveresti la tua dieta nel complesso?",options:[{text:"Poco sana e sbilanciata",value:1},{text:"Potrebbe essere molto migliore",value:2},{text:"Abbastanza sana ed equilibrata",value:3},{text:"Molto sana e varia",value:4}]}],results:[{scoreMin:20,scoreMax:40,title:"Abitudini alimentari da rivedere",summary:"La tua dieta attuale presenta diverse aree di miglioramento. Potrebbe essere utile concentrarsi sull'introduzione di cibi pi freschi e nutrienti e sulla riduzione di quelli processati."},{scoreMin:41,scoreMax:60,title:"Abitudini alimentari discrete",summary:"Hai una buona base, ma ci sono alcuni aspetti della tua alimentazione che, se modificati, potrebbero portare a un maggiore benessere generale."},{scoreMin:61,scoreMax:80,title:"Buone abitudini alimentari",summary:"Segui una dieta generalmente sana ed equilibrata. Continua a fare scelte consapevoli per mantenere il tuo stato di salute ottimale."}]},microbiome:{id:"microbiome",title:"Analisi del Microbioma",Icon:K_,questions:[{text:"Quanta fibra assumi giornalmente (da frutta, verdura, legumi, cereali integrali)?",options:[{text:"Molto poca",value:1},{text:"Una quantit moderata",value:2},{text:"Una buona quantit",value:3},{text:"Molta, ad ogni pasto",value:4}]},{text:"Consumi cibi fermentati (yogurt con fermenti vivi, kefir, crauti, kombucha)?",options:[{text:"Mai",value:1},{text:"Raramente",value:2},{text:"Qualche volta a settimana",value:3},{text:"Quasi ogni giorno",value:4}]},{text:"La tua dieta  varia o tendi a mangiare sempre le stesse cose?",options:[{text:"Mangio sempre le stesse cose",value:1},{text:"Poco varia",value:2},{text:"Abbastanza varia",value:3},{text:"Molto varia, provo spesso nuovi alimenti",value:4}]},{text:"Hai fatto uso di antibiotici negli ultimi 6 mesi?",options:[{text:"S, per un lungo periodo o pi cicli",value:1},{text:"S, un ciclo breve",value:2},{text:"No",value:4},{text:"Non ricordo",value:3}]},{text:"La tua regolarit intestinale :",options:[{text:"Molto irregolare (stitichezza o diarrea frequenti)",value:1},{text:"A volte irregolare",value:2},{text:"Generalmente regolare",value:3},{text:"Molto regolare",value:4}]},{text:"Soffri di intolleranze o sensibilit alimentari (glutine, lattosio, ecc.)?",options:[{text:"S, a diversi alimenti",value:1},{text:"S, a uno o due alimenti",value:2},{text:"Sospetto di averne, ma non ho diagnosi",value:3},{text:"No, che io sappia",value:4}]},{text:"Consumi dolcificanti artificiali (aspartame, sucralosio)?",options:[{text:"S, quotidianamente",value:1},{text:"Spesso",value:2},{text:"Raramente",value:3},{text:"Mai",value:4}]},{text:"Includi nella tua dieta polifenoli (presenti in t verde, caff, cioccolato fondente, frutti di bosco)?",options:[{text:"Raramente o mai",value:1},{text:"A volte",value:2},{text:"Spesso",value:3},{text:"S, regolarmente",value:4}]},{text:"Il tuo livello di stress quotidiano :",options:[{text:"Molto alto",value:1},{text:"Alto",value:2},{text:"Moderato",value:3},{text:"Basso",value:4}]},{text:"Passi del tempo all'aria aperta o a contatto con la natura?",options:[{text:"Molto raramente",value:1},{text:"A volte, nel weekend",value:2},{text:"Abbastanza spesso",value:3},{text:"S, quotidianamente",value:4}]},{text:"Consumi aglio, cipolle, porri o asparagi (fonti di prebiotici)?",options:[{text:"Mai o quasi mai",value:1},{text:"Raramente",value:2},{text:"Qualche volta a settimana",value:3},{text:"Spesso",value:4}]},{text:"Hai animali domestici in casa?",options:[{text:"S",value:4},{text:"No",value:2},{text:"Ne ho avuti in passato",value:3},{text:"Non risponde",value:1}]},{text:"La tua nascita  avvenuta con parto naturale o cesareo?",options:[{text:"Cesareo",value:2},{text:"Naturale",value:4},{text:"Non lo so",value:3},{text:"Non risponde",value:1}]},{text:"Sei stato allattato al seno da bambino?",options:[{text:"No",value:2},{text:"S, per alcuni mesi",value:3},{text:"S, per pi di 6 mesi",value:4},{text:"Non lo so",value:1}]},{text:"Soffri di malattie infiammatorie croniche intestinali (es. Crohn, colite ulcerosa) o sindrome dell'intestino irritabile (IBS)?",options:[{text:"S, ho una diagnosi",value:1},{text:"Ho sintomi ma nessuna diagnosi",value:2},{text:"No",value:4},{text:"Non risponde",value:3}]},{text:"Fumi?",options:[{text:"S, regolarmente",value:1},{text:"Occasionalmente",value:2},{text:"Ho smesso da poco",value:3},{text:"No, non fumo",value:4}]},{text:"Bevi alcolici?",options:[{text:"Ogni giorno",value:1},{text:"Diverse volte a settimana",value:2},{text:"Solo occasionalmente (es. nel weekend)",value:3},{text:"Molto raramente o mai",value:4}]},{text:"Dormi un numero sufficiente di ore per notte?",options:[{text:"No, dormo poco e male",value:1},{text:"A volte non abbastanza",value:2},{text:"Generalmente s",value:3},{text:"S, dormo bene e a sufficienza",value:4}]},{text:"Fai attivit fisica regolarmente?",options:[{text:"No, sono sedentario",value:1},{text:"Raramente",value:2},{text:"Qualche volta a settimana",value:3},{text:"S, regolarmente",value:4}]},{text:"Soffri di allergie o malattie autoimmuni?",options:[{text:"S, pi di una",value:1},{text:"S, una",value:2},{text:"No",value:4},{text:"Non che io sappia",value:3}]}],results:[{scoreMin:20,scoreMax:40,title:"Microbioma potenzialmente in disbiosi",summary:"Diversi fattori nel tuo stile di vita potrebbero non supportare un microbioma sano. Potrebbe essere utile concentrarsi su una dieta pi varia e ricca di fibre e prebiotici."},{scoreMin:41,scoreMax:60,title:"Equilibrio del microbioma migliorabile",summary:"Ci sono buone basi, ma alcuni aspetti possono essere ottimizzati per favorire ulteriormente la salute del tuo intestino e, di conseguenza, di tutto l'organismo."},{scoreMin:61,scoreMax:80,title:"Buon supporto al microbioma",summary:"Il tuo stile di vita sembra essere generalmente favorevole a un microbioma sano ed equilibrato. Continua a prenderti cura del tuo intestino con scelte alimentari consapevoli."}]}},bi={start:{id:"start",name:" Programma Start: Routine del Benessere",subtitle:" La Settimana del Successo",description:"Completa le attivit giornaliere e settimanali per costruire abitudini sane e accumulare punti.",Icon:"",numWeeks:10,daily:[{id:"start_d_new_0",title:"Meditare regolarmente",Icon:"",description:"1520 minuti prima di dormire.",points:5,remindable:!0,reminderConfig:{type:"daily",time:"22:00"}},{id:"start_d_new_1",title:"Orari regolari (mattina)",Icon:"",description:"Sveglia costante.",points:5},{id:"start_d_new_2",title:"Orari regolari (sera)",Icon:"",description:"Orario fisso per dormire.",points:5},{id:"start_d_new_3",title:"Stretching o movimento",Icon:"",description:"Durante la giornata.",points:5},{id:"start_d_new_4",title:"Evitare caffeina",Icon:"",description:"Nel pomeriggio e sera.",points:5},{id:"start_d_new_5",title:"Evitare alcol",Icon:"",description:"Nel pomeriggio e sera.",points:5},{id:"start_d_new_6",title:"Rilassamento muscolare",Icon:"",description:"Prima di dormire.",points:5},{id:"start_d_new_7",title:"Spegnere dispositivi",Icon:"",description:"Almeno 1h prima di dormire.",points:5},{id:"start_d_new_8",title:"Leggere un libro",Icon:"",description:"Attivit serale.",points:5},{id:"start_d_new_9",title:"Bagno caldo",Icon:"",description:"Relax serale.",points:5},{id:"start_d_new_10",title:"Tracciare abitudini",Icon:"",description:"Diario del sonno.",points:5},{id:"start_d_new_11",title:"Terapia binaurale",Icon:"",description:"Onde Alpha/Delta.",points:5},{id:"start_d_new_12",title:"Fitoterapia",Icon:"",description:"Se indicata.",points:5},{id:"start_d_new_13",title:"Idratazione",Icon:"",description:"8 bicchieri dacqua.",points:5,remindable:!0,reminderConfig:{type:"interval",hours:2,startHour:9,endHour:19}},{id:"start_d_new_14",title:"Oli essenziali",Icon:"",description:"Relax serale.",points:5},{id:"start_d_new_15",title:"Autocompassione",Icon:"",description:"Gentilezza verso s.",points:5},{id:"start_d_new_16",title:"Passeggiata allaperto",Icon:"",description:"1020 minuti.",points:5},{id:"start_d_new_17",title:"Gratitudine",Icon:"",description:"Esercizi positivi.",points:5},{id:"start_d_new_18",title:"Musica rilassante",Icon:"",description:"Ascolto consapevole.",points:5},{id:"start_d_new_19",title:"Creativit",Icon:"",description:"Disegno, scrittura, ecc.",points:5},{id:"start_d_new_20",title:"Limitare social media",Icon:"",description:"<30 min al giorno.",points:5},{id:"start_d_new_21",title:"Pianificare pasti",Icon:"",description:"Organizzazione settimanale.",points:5},{id:"start_d_new_22",title:"Verdure a foglia verde",Icon:"",description:"Almeno una porzione.",points:5},{id:"start_d_new_23",title:"Detox digitale",Icon:"",description:"1 giorno senza schermi.",points:10},{id:"start_d_new_24",title:"Meditazione serale (ripetuta)",Icon:"",description:"Seconda sessione.",points:5}],weekly:[{id:"start_w_s3_1",title:"Weekend con alimentazione salutare",description:"Frutta, verdura, omega-3, proteine magre per almeno 2 giorni.",points:30,Icon:""},{id:"start_w_s3_2",title:"Terapia Cranio-Sacrale",description:"1 sessione settimanale per rilassare il sistema nervoso.",points:25,Icon:""},{id:"start_w_s3_3",title:"Cibi ricchi di omega-3",description:"Almeno 3 volte a settimana (es. salmone, noci, semi di lino).",points:15,Icon:""},{id:"start_w_s3_4",title:"Settimana senza Alcol",description:"Evita completamente il consumo di alcolici per 7 giorni.",points:20,Icon:""},{id:"start_w_s3_5",title:"Meal Prep",description:"Prepara i pasti in lotti per la settimana.",points:10,Icon:""},{id:"start_w_s3_6",title:"Yoga o Pilates",description:"Partecipa ad almeno 1 sessione settimanale.",points:20,Icon:""},{id:"start_w_s3_7",title:"Sauna infrarossi",description:"1 sessione per rilassare corpo e mente.",points:30,Icon:""},{id:"start_w_s3_8",title:"Zona 2  Attivit fisica",description:"2 sessioni di movimento aerobico a bassa intensit.",points:80,Icon:""},{id:"start_w_s3_9",title:"Tisana Detox",description:"Bevi almeno 3 tisane depurative durante la settimana.",points:20,Icon:""},{id:"start_w_s3_10",title:"Terapia binaurale/mindfulness",description:"2 sessioni di ascolto consapevole o meditazione guidata.",points:40,Icon:""},{id:"start_w_s3_11",title:"Massaggio rilassante",description:"1 sessione settimanale per sciogliere tensioni muscolari.",points:50,Icon:""},{id:"start_w_s3_12",title:"Biofeedback",description:"1 sessione con coerenza cardiaca.",points:30,Icon:""},{id:"start_w_s3_13",title:"Stimolazione Nervo Vago",description:"Tecnica di rilassamento vagale (es. vocalizzi, respirazione lenta).",points:30,Icon:""},{id:"start_w_s3_14",title:"Programma combinato",description:"Sauna + massaggio + terapia binaurale + fitoterapia in ununica sessione.",points:150,Icon:""}]},food_level_1:{id:"food_level_1",name:"Missione Alimentare: Livello 1",subtitle:"La Festa dei Sapori",description:"Migliora le tue abitudini con queste missioni giornaliere e settimanali.",Icon:"",dailyTarget:35,numWeeks:10,daily:[{id:"food1_d_1",title:"Riduzione dello Zucchero (1 giorno)",Icon:"",description:"Evita dolci e bevande zuccherate per tutta la giornata.",points:10},{id:"food1_d_2",title:"Introduzione dei Legumi",Icon:"",description:"Integra legumi in almeno un pasto del giorno.",points:10},{id:"food1_d_3",title:"Colazione Equilibrata",Icon:"",description:"Yogurt greco, frutta fresca, granola integrale. Bevanda: t verde.",points:5},{id:"food1_d_4",title:"Smoothie Detox",Icon:"",description:"Spinaci, banana, ananas, semi di chia. Bevanda: acqua di cocco.",points:5},{id:"food1_d_5",title:"Spuntino Sano",Icon:"",description:"Carote e sedano con guacamole. Bevanda: tisana al finocchio.",points:5},{id:"food1_d_6",title:"Cena Light",Icon:"",description:"Pesce al vapore, patate dolci, asparagi. Bevanda: t alla menta.",points:10},{id:"food1_d_7",title:"Insalata Proteica",Icon:"",description:"Pollo grigliato, avocado, pomodorini, semi di zucca. Bevanda: infuso ai frutti di bosco.",points:10}],weekly:[{id:"food1_w_1",title:" Riduzione dello Zucchero",description:"Evitare bevande zuccherate e dolci in almeno due pasti.",points:20,Icon:""},{id:"food1_w_2",title:" Introduzione dei Legumi",description:"Integrare lenticchie, fagioli o ceci in almeno tre pasti.",points:30,Icon:""},{id:"food1_w_3",title:" Cottura al Forno",description:"Sostituire cibi fritti con cottura al forno.",points:20,Icon:""},{id:"food1_w_4",title:" Snack Sani",description:"Frutta secca, noci e semi al posto di snack industriali.",points:20,Icon:""},{id:"food1_w_5",title:" Pasti Bilanciati",description:"Proteine magre, carboidrati complessi e verdure colorate.",points:30,Icon:""},{id:"food1_w_6",title:" Colazione Equilibrata",description:"Yogurt greco, frutta fresca, granola integrale. Bevanda: t verde.",points:20,Icon:""},{id:"food1_w_7",title:" Pranzo Vegetariano",description:"Insalata di quinoa, verdure grigliate, hummus. Bevanda: acqua al limone.",points:30,Icon:""},{id:"food1_w_8",title:" Smoothie Detox",description:"Spinaci, banana, ananas, semi di chia. Bevanda: acqua di cocco.",points:10,Icon:""},{id:"food1_w_9",title:" Spuntino Sano",description:"Carote e sedano con guacamole. Bevanda: tisana al finocchio.",points:10,Icon:""},{id:"food1_w_10",title:" Cena Light",description:"Pesce al vapore, patate dolci, asparagi. Bevanda: t alla menta.",points:30,Icon:""},{id:"food1_w_11",title:" Insalata Proteica",description:"Pollo grigliato, avocado, pomodorini, semi di zucca. Bevanda: infuso ai frutti di bosco.",points:30,Icon:""},{id:"food1_w_12",title:" Giornata di Frutta",description:"Solo frutta fresca (mele, pere, fragole, uva). Bevanda: smoothie di frutta mista.",points:30,Icon:""}]},food_level_2:{id:"food_level_2",name:"Missione Alimentare: Livello 2",subtitle:"Energia in Cucina",description:"Potenzia le tue abitudini con queste missioni giornaliere.",Icon:"",dailyTarget:35,unlocksAt:250,dependsOn:"food_level_1",numWeeks:10,daily:[{id:"food2_d_1",title:"Riduzione dello Zucchero (2 giorni)",Icon:"",description:"Evita dolci e bevande zuccherate per almeno 2 giorni.",points:10},{id:"food2_d_2",title:"Introduzione dei Legumi (2 pasti)",Icon:"",description:"Integra legumi in almeno due pasti.",points:10},{id:"food2_d_3",title:"Colazione Equilibrata (2 volte)",Icon:"",description:"Yogurt, frutta, granola. Bevanda: t verde.",points:5},{id:"food2_d_4",title:"Smoothie Detox (2 volte)",Icon:"",description:"Spinaci, banana, ananas, semi di chia.",points:5},{id:"food2_d_5",title:"Spuntino Sano",Icon:"",description:"Carote e sedano con guacamole.",points:5},{id:"food2_d_6",title:"Cena Light",Icon:"",description:"Pesce al vapore, patate dolci, asparagi.",points:10},{id:"food2_d_7",title:"Cottura al Forno",Icon:"",description:"Sostituisci frittura con cottura al forno.",points:10},{id:"food2_d_8",title:"Snack Sani",Icon:"",description:"Frutta secca, noci, semi.",points:10}],weekly:[]},food_level_3:{id:"food_level_3",name:"Missione Alimentare: Livello 3",subtitle:"Sfida del Gourmet",description:"Diventa un maestro della nutrizione con missioni avanzate.",Icon:"",dailyTarget:35,unlocksAt:300,dependsOn:"food_level_2",numWeeks:10,daily:[{id:"food3_d_1",title:"Riduzione dello Zucchero (5 giorni)",Icon:"",description:"Evita dolci e bevande zuccherate per almeno 5 giorni a settimana.",points:10},{id:"food3_d_2",title:"Introduzione dei Legumi (2 pasti)",Icon:"",description:"Integra legumi in almeno due pasti.",points:10},{id:"food3_d_3",title:"Colazione Equilibrata (4 volte)",Icon:"",description:"Yogurt, frutta, granola. Bevanda: t verde.",points:5},{id:"food3_d_4",title:"Smoothie Detox (4 volte)",Icon:"",description:"Spinaci, banana, ananas, semi di chia.",points:5},{id:"food3_d_5",title:"Spuntino Sano",Icon:"",description:"Carote e sedano con guacamole.",points:5},{id:"food3_d_6",title:"Cena Light",Icon:"",description:"Pesce al vapore, patate dolci, asparagi.",points:10},{id:"food3_d_7",title:"Cottura al Forno",Icon:"",description:"Sostituisci frittura con cottura al forno.",points:10},{id:"food3_d_8",title:"Snack Sani (4 volte)",Icon:"",description:"Frutta secca, noci, semi almeno 4 volte a settimana.",points:10},{id:"food3_d_9",title:"Pasti Bilanciati (4 volte)",Icon:"",description:"Proteine magre, carboidrati complessi, verdure colorate.",points:10},{id:"food3_d_10",title:"Colazione Equilibrata (2 volte)",Icon:"",description:"Seconda sessione settimanale di colazione equilibrata.",points:5},{id:"food3_d_11",title:"Pranzo Vegetariano (4 volte)",Icon:"",description:"Quinoa, verdure grigliate, hummus. Bevanda: acqua aromatizzata.",points:10}],weekly:[]},sleep_level_1:{id:"sleep_level_1",name:"Missione Sonno Giornaliera: Livello 1",subtitle:"Alba Tranquilla",description:"Include tutte le Attivit Giornaliere di base come mantenere orari regolari di sonno e praticare la respirazione profonda prima di dormire.",Icon:"",numWeeks:10,dailyTarget:35,dailyMaxTarget:60,weekly:[],daily:[{id:"sl1_d_1",title:"Orari Regolari di Sonno",Icon:"",description:"Andare a letto e svegliarsi alla stessa ora ogni giorno.",points:10},{id:"sl1_d_2",title:"Respirazione Profonda",Icon:"",description:"Pratica di 1015 minuti prima di dormire.",points:10},{id:"sl1_d_3",title:"No Dispositivi Elettronici",Icon:"",description:"Evita schermi almeno 1 ora prima di dormire.",points:10},{id:"sl1_d_4",title:"Fitoterapici (fase 1)",Icon:"",description:"Assunzione di rimedi naturali se indicati.",points:15},{id:"sl1_d_5",title:"Rilassamento Muscolare",Icon:"",description:"Esercizi di rilassamento per 1015 minuti.",points:10},{id:"sl1_d_6",title:"No Caffeina",Icon:"",description:"Evita caff e t nel pomeriggio e sera.",points:10}]},sleep_level_2:{id:"sleep_level_2",name:"Missione Sonno Giornaliera: Livello 2",subtitle:"Sogno Calmo",description:"Attivit focalizzate sul rilassamento profondo per migliorare la qualit del riposo notturno.",Icon:"",numWeeks:10,dailyTarget:40,dailyMaxTarget:60,unlocksAt:300,dependsOn:"sleep_level_1",weekly:[],daily:[{id:"sl2_d_1",title:"Rilassamento Muscolare Progressivo",Icon:"",description:"20 minuti di rilascio graduale della tensione muscolare.",points:15},{id:"sl2_d_2",title:"Musica Rilassante",Icon:"",description:"Ascolta musica tranquilla per 2030 minuti prima di dormire.",points:10},{id:"sl2_d_3",title:"Fitoterapici (fase 2)",Icon:"",description:"Assunzione di rimedi naturali se indicati per la fase 2 del sonno.",points:15},{id:"sl2_d_4",title:"Visualizzazione Tranquilla",Icon:"",description:"Immagina un luogo sereno per 1015 minuti.",points:15},{id:"sl2_d_5",title:"Bagno Caldo Serale",Icon:"",description:"30 minuti di bagno rilassante prima di dormire.",points:10}]},sleep_level_3:{id:"sleep_level_3",name:"Missione Sonno Giornaliera: Livello 3",subtitle:"Notte Magica",description:"Include tutte le Attivit giornaliere avanzate quali meditazione profonda e tecniche di rilassamento per un riposo ottimale.",Icon:"",numWeeks:10,dailyTarget:45,dailyMaxTarget:60,unlocksAt:300,dependsOn:"sleep_level_2",weekly:[],daily:[{id:"sl3_d_1",title:"Meditazione Guidata per il Sonno",Icon:"",description:"20 minuti di meditazione profonda per favorire il rilassamento.",points:20},{id:"sl3_d_2",title:"Mindfulness Serale",Icon:"",description:"20 minuti di consapevolezza prima di dormire.",points:15},{id:"sl3_d_3",title:"Fitoterapici (fasi 34)",Icon:"",description:"Rimedi naturali per il sonno profondo, se indicati.",points:15},{id:"sl3_d_4",title:"Oli Essenziali di Lavanda",Icon:"",description:"20 minuti di aromaterapia rilassante.",points:15},{id:"sl3_d_5",title:"Stretching Leggero",Icon:"",description:"20 minuti di esercizi dolci prima di coricarsi.",points:15},{id:"sl3_d_6",title:"Visualizzazione Positiva",Icon:"",description:"10 minuti di immagini mentali serene e rassicuranti.",points:15}]},sleep_level_4:{id:"sleep_level_4",name:"Missione Sonno Giornaliera: Livello 4",subtitle:"Sonno Profondo",description:"Include tutte le Attivit giornaliere con tecniche avanzate di gestione del sonno come l'utilizzo di fitoterapici e routine di rilassamento complesse per garantire un sonno ristoratore.",Icon:"",numWeeks:10,dailyTarget:55,dailyMaxTarget:70,unlocksAt:400,dependsOn:"sleep_level_3",weekly:[],daily:[{id:"sl4_d_1",title:"Diario del Sonno",Icon:"",description:"Monitoraggio quotidiano delle abitudini di sonno.",points:15},{id:"sl4_d_2",title:"Fitoterapici (fase REM)",Icon:"",description:"Rimedi naturali per migliorare la fase REM, se indicati.",points:15},{id:"sl4_d_3",title:"Yoga Rilassante",Icon:"",description:"30 minuti di yoga dolce prima di dormire.",points:20},{id:"sl4_d_4",title:"Rilassamento Profondo",Icon:"",description:"20 minuti di tecniche avanzate di rilassamento.",points:20},{id:"sl4_d_5",title:"Gestione del Tempo",Icon:"",description:"Tecniche per ridurre lo stress quotidiano e migliorare la routine serale.",points:15},{id:"sl4_d_6",title:"Attivit Rilassanti Serali",Icon:"",description:"Lettura, scrittura o attivit creative prima di dormire.",points:15}]},anxiety_stress_level_1:{id:"anxiety_stress_level_1",name:"Programma Ansia-Stress: Livello 1",subtitle:"Il Giardino della Serenit",description:"Include tutte le Attivit Settimanali per ridurre Ansia e Stress.",Icon:"",weeklyMinTarget:200,numWeeks:14,daily:[],weekly:[{id:"anxiety1_w_1",title:"Respirazione Profonda",Icon:"",description:"1015 minuti di respirazione lenta e consapevole.",points:10},{id:"anxiety1_w_2",title:"Visualizzazione Rilassante",Icon:"",description:"Immagina un luogo sereno per 1015 minuti.",points:10},{id:"anxiety1_w_3",title:"Camminata Consapevole",Icon:"",description:"30 minuti focalizzati su respiro e ambiente.",points:20},{id:"anxiety1_w_4",title:"Mindfulness",Icon:"",description:"20 minuti di consapevolezza e presenza mentale.",points:20},{id:"anxiety1_w_5",title:"Bagno con Sali di Epsom",Icon:"",description:"20 minuti per rilassare muscoli e tensione.",points:30},{id:"anxiety1_w_6",title:"Diario delle Emozioni",Icon:"",description:"Scrivi pensieri ed emozioni per 15 minuti al giorno.",points:20},{id:"anxiety1_w_7",title:"Terapia dellAbbraccio",Icon:"",description:"Abbraccia una persona cara per almeno 10 minuti.",points:20},{id:"anxiety1_w_8",title:"Aromaterapia",Icon:"",description:"Usa oli essenziali come lavanda o camomilla.",points:20},{id:"anxiety1_w_9",title:"Progresso Graduale",Icon:"",description:"Pianifica e realizza piccoli obiettivi settimanali.",points:20},{id:"anxiety1_w_10",title:"Coping Positivo",Icon:"",description:"Identifica e pratica tecniche di gestione emotiva.",points:20},{id:"anxiety1_w_11",title:"Gratitudine",Icon:"",description:"Scrivi 3 cose per cui sei grato ogni giorno.",points:20},{id:"anxiety1_w_12",title:"Musica Rilassante",Icon:"",description:"Ascolta musica per 2030 minuti focalizzandoti sul rilassamento.",points:10},{id:"anxiety1_w_13",title:"Massaggio ai Piedi",Icon:"",description:"Usa una pallina da tennis o da massaggio.",points:10},{id:"anxiety1_w_14",title:"Grounding",Icon:"",description:"Focalizzati su 5 cose che puoi vedere, toccare, sentire, annusare e gustare.",points:20},{id:"anxiety1_w_15",title:"Espressione Creativa",Icon:"",description:"Disegna, dipingi, scrivi poesie o racconti.",points:20},{id:"anxiety1_w_16",title:"Giornata di Disconnessione",Icon:"",description:"Trascorri una giornata senza dispositivi elettronici.",points:30},{id:"anxiety1_w_17",title:"Yoga Rilassante",Icon:"",description:"Stretching dolce e respirazione consapevole.",points:30},{id:"anxiety1_w_18",title:"Meditazione Guidata per Ansia",Icon:"",description:"Ascolta una meditazione guidata specifica per lansia.",points:20},{id:"anxiety1_w_19",title:"Biofeedback (Ansia)",Icon:"",description:"Sessione di coerenza cardiaca e monitoraggio.",points:60},{id:"anxiety1_w_20",title:"Tai Chi o Qigong",Icon:"",description:"Movimenti lenti e controllati per rilassare corpo e mente.",points:30},{id:"anxiety1_w_21",title:"Stimolazione Nervo Vago",Icon:"",description:"Tecniche vagali per ridurre lo stress.",points:40}]},anxiety_stress_level_2:{id:"anxiety_stress_level_2",name:"Programma Ansia-Stress: Livello 2",subtitle:"Oasi della Tranquillit",description:"Include Attivit Giornaliere pi impegnative per migliorare la gestione di ansia e stress.",Icon:"",dailyTarget:40,unlocksAt:350,dependsOn:"anxiety_stress_level_1",numWeeks:10,daily:[{id:"anxiety2_d_1",title:"Sessione di Mindfulness (20 minuti)",Icon:"",description:"Pratiche di consapevolezza e presenza mentale.",points:20},{id:"anxiety2_d_2",title:"Bagno con Sali di Epsom (20 minuti)",Icon:"",description:"Rilassa i muscoli e allevia la tensione.",points:10},{id:"anxiety2_d_3",title:"Terapia dellAbbraccio (10 minuti)",Icon:"",description:"Abbraccia una persona cara per almeno 10 minuti.",points:5},{id:"anxiety2_d_4",title:"Aromaterapia (20 minuti)",Icon:"",description:"Usa oli essenziali come lavanda o camomilla.",points:10},{id:"anxiety2_d_5",title:"Grounding (cinque sensi)",Icon:"",description:"Focalizzati su ci che puoi vedere, toccare, sentire, annusare e gustare.",points:20}],weekly:[]},anxiety_stress_level_3:{id:"anxiety_stress_level_3",name:"Programma Ansia-Stress: Livello 3",subtitle:"Super Zen",description:"Include Attivit Giornaliere pi avanzate per una gestione ottimale di ansia e stress.",Icon:"",dailyTarget:60,unlocksAt:300,dependsOn:"anxiety_stress_level_2",numWeeks:10,daily:[{id:"anxiety3_d_1",title:"Tecniche di Coping Positivo",Icon:"",description:"Identifica e pratica strategie di gestione emotiva e resilienza.",points:20},{id:"anxiety3_d_2",title:"Espressione Creativa",Icon:"",description:"Disegna, dipingi, scrivi poesie o racconti per liberare le emozioni.",points:20},{id:"anxiety3_d_3",title:"Giornata di Disconnessione",Icon:"",description:"Trascorri una giornata senza dispositivi elettronici.",points:20},{id:"anxiety3_d_4",title:"Meditazione Guidata per Ansia",Icon:"",description:"Ascolta una meditazione guidata specifica per lansia (20 minuti).",points:20},{id:"anxiety3_d_5",title:"Biofeedback per Ansia",Icon:"",description:"Sessione di coerenza cardiaca e monitoraggio per ridurre lo stress.",points:20}],weekly:[]},activity_gold:{id:"activity_gold",name:"Sempre Giovani  Livello Gold",subtitle:"Missione Attivit Fisica Settimanale",description:"Attivit per over 65 con focus su mobilit, forza e resistenza. Sicurezza ed efficacia per il benessere quotidiano.",Icon:"",numWeeks:14,weeklyMinTarget:65,weeklyMaxTarget:150,daily:[],weekly:[{id:"ag_w_1",title:"Passeggiata Attiva",Icon:"",description:"30 minuti a ritmo moderato.",points:30},{id:"ag_w_2",title:"Yoga Dolce",Icon:"",description:"45 minuti di esercizi dolci e respirazione.",points:30},{id:"ag_w_3",title:"Cyclette",Icon:"",description:"2030 minuti a ritmo moderato.",points:40},{id:"ag_w_4",title:"Resistenza Leggera",Icon:"",description:"20 minuti di esercizi con pesi leggeri o elastici.",points:40},{id:"ag_w_5",title:"Camminata in Natura",Icon:"",description:"45 minuti allaperto, in ambiente naturale.",points:45},{id:"ag_w_6",title:"Ginnastica in Acqua",Icon:"",description:"30 minuti di esercizi in piscina.",points:40},{id:"ag_w_7",title:"Stretching e Mobilit",Icon:"",description:"2030 minuti di esercizi di flessibilit e mobilit articolare.",points:25},{id:"ag_w_8",title:"Zona 2  Ciclismo o Camminata",Icon:"",description:"45 minuti a ritmo moderato, 2 volte a settimana.",points:60},{id:"ag_w_9",title:"Nuoto Moderato",Icon:"",description:"20 minuti di nuoto a ritmo costante.",points:45}]},activity_sprint_1:{id:"activity_sprint_1",name:"Inizio Sprint  Livello 1",subtitle:"Missione Attivit Fisica Settimanale",description:"Attivit per iniziare il tuo percorso sportivo, con focus su camminata, resistenza e mobilit. Ideale per i pi giovani o gi allenati.",Icon:"",numWeeks:14,weeklyMinTarget:65,weeklyMaxTarget:100,daily:[],weekly:[{id:"as1_w_1",title:"Camminata Veloce",Icon:"",description:"30 minuti a passo sostenuto.",points:50},{id:"as1_w_2",title:"Circuito di Resistenza",Icon:"",description:"Pesi leggeri, 3 set da 12 ripetizioni.",points:60},{id:"as1_w_3",title:"Yoga Dinamico",Icon:"",description:"60 minuti di yoga attivo e fluido.",points:50},{id:"as1_w_4",title:"Nuoto",Icon:"",description:"30 minuti a ritmo moderato.",points:50},{id:"as1_w_5",title:"Stretching e Mobilit",Icon:"",description:"20 minuti di esercizi per flessibilit e articolazioni.",points:30},{id:"as1_w_6",title:"Cyclette",Icon:"",description:"30 minuti a ritmo costante.",points:40}]},activity_sprint_2:{id:"activity_sprint_2",name:"Energia in Movimento  Livello 2",subtitle:"Missione Attivit Fisica Settimanale",description:"Attivit pi avanzate per aumentare forza e resistenza. Ideale per chi  gi allenato. Livello intermedio.",Icon:"",numWeeks:14,weeklyMinTarget:100,weeklyMaxTarget:160,unlocksAt:210,dependsOn:"activity_sprint_1",daily:[],weekly:[{id:"as2_w_1",title:"Corsa Leggera",Icon:"",description:"30 minuti di corsa a ritmo costante.",points:40},{id:"as2_w_2",title:"Circuito Forza",Icon:"",description:"Pesi medi, 4 set da 10 ripetizioni.",points:50},{id:"as2_w_3",title:"HIIT",Icon:"",description:"20 minuti di allenamento ad alta intensit a intervalli.",points:80},{id:"as2_w_4",title:"Pilates",Icon:"",description:"60 minuti di esercizi per postura, core e flessibilit.",points:40},{id:"as2_w_5",title:"Nuoto Intenso",Icon:"",description:"45 minuti di nuoto a ritmo sostenuto.",points:60}]},activity_sprint_3:{id:"activity_sprint_3",name:"Eccellenza Atletica  Livello 3",subtitle:"Missione Attivit Fisica Settimanale",description:"Attivit avanzate ad alta intensit per performance massime. Livello avanzato.",Icon:"",numWeeks:14,weeklyMinTarget:100,weeklyMaxTarget:180,unlocksAt:200,dependsOn:"activity_sprint_2",daily:[],weekly:[{id:"as3_w_1",title:"Corsa Intensa",Icon:"",description:"45 minuti di corsa a ritmo sostenuto.",points:30},{id:"as3_w_2",title:"Allenamento Pesi Pesanti",Icon:"",description:"5 set da 8 ripetizioni con carico elevato.",points:40},{id:"as3_w_3",title:"HIIT",Icon:"",description:"30 minuti di allenamento ad alta intensit a intervalli.",points:40},{id:"as3_w_4",title:"Yoga di Potenza",Icon:"",description:"75 minuti di yoga intensivo per forza e resistenza.",points:30},{id:"as3_w_5",title:"Nuoto a Stile Libero",Icon:"",description:"60 minuti di nuoto continuo a ritmo sostenuto.",points:40}]},stress:{id:"stress",name:"Stress Management",description:"Missioni mirate a ridurre lo stress, trovare equilibrio e coltivare la calma nella vita quotidiana.",subtitle:"La Settimana del Successo",Icon:"",isSmart:!0,numWeeks:10,dailyTarget:50,weeklyMinTarget:350,daily:[{id:"stress_d_1",title:"Respirazione Profonda",Icon:"",description:"5 minuti di respirazione diaframmatica per calmare il sistema nervoso.",points:15},{id:"stress_d_2",title:"Pausa Consapevole",Icon:"",description:"Ogni 90 minuti, fai una pausa di 2 minuti lontano dagli schermi.",points:10},{id:"stress_d_3",title:"Diario della Gratitudine",Icon:"",description:"Scrivi 3 cose per cui sei grato oggi.",points:10},{id:"stress_d_4",title:"Movimento Dolce",Icon:"",description:"15 minuti di stretching leggero o camminata lenta.",points:10},{id:"stress_d_5",title:"Tisana Rilassante",Icon:"",description:"Bevi una tisana (camomilla, melissa) prima di dormire.",points:5}],weekly:[{id:"stress_w_1",title:"Meditazione o Yoga",Icon:"",description:"Dedica 30 minuti a una sessione di yoga o meditazione guidata.",points:100},{id:"stress_w_2",title:"Tempo nella Natura",Icon:"",description:"Trascorri almeno 1 ora in un parco, bosco o al mare.",points:150},{id:"stress_w_3",title:"Hobby De-Stress",Icon:"",description:"Dedica 1 ora a un hobby che ti rilassa e ti piace (senza schermi).",points:100}]},performance:{id:"performance",name:"Programma Performance",description:"Massimizza la tua energia fisica e mentale, migliora la concentrazione e raggiungi i tuoi obiettivi con pi efficacia.",subtitle:"La Settimana del Successo",Icon:"",isSmart:!0,numWeeks:10,dailyTarget:55,weeklyMinTarget:350,daily:[{id:"perf_d_1",title:"Colazione Energetica",Icon:"",description:"Fai una colazione ricca di proteine e grassi sani.",points:10},{id:"perf_d_2",title:"Idratazione Strategica",Icon:"",description:"Bevi un bicchiere d'acqua ogni ora. Obiettivo: 2 litri.",points:10},{id:"perf_d_3",title:"Allenamento Focus",Icon:"",description:"30 minuti di attivit fisica mirata (corsa, pesi, HIIT).",points:20},{id:"perf_d_4",title:"Micro-Pausa Attiva",Icon:"",description:"Fai 5 minuti di stretching o camminata ogni 90 minuti di lavoro seduto.",points:5},{id:"perf_d_5",title:"Pianificazione del Domani",Icon:"",description:"Dedica 5 minuti la sera a pianificare le 3 priorit del giorno dopo.",points:10}],weekly:[{id:"perf_w_1",title:"Allenamento Intenso",Icon:"",description:"Completa 2 sessioni di allenamento ad alta intensit (HIIT).",points:150},{id:"perf_w_2",title:"Apprendimento Attivo",Icon:"",description:"Dedica 1 ora all'apprendimento di una nuova abilit o argomento.",points:100},{id:"perf_w_3",title:"Revisione Settimanale",Icon:"",description:"Rivedi i progressi della settimana e fissa gli obiettivi per la prossima.",points:100}]},longevity:{id:"longevity",name:"Programma Longevit",description:"Adotta abitudini basate sulla scienza per promuovere un invecchiamento sano, mantenere la vitalit e prevenire le malattie.",subtitle:"La Settimana del Successo",Icon:"",isSmart:!0,numWeeks:10,dailyTarget:45,weeklyMinTarget:400,daily:[{id:"longev_d_1",title:"Dieta Antiossidante",Icon:"",description:"Consuma almeno 2 porzioni di frutti di bosco, verdure a foglia scura o t verde.",points:10},{id:"longev_d_2",title:"10.000 Passi",Icon:"",description:"Raggiungi l'obiettivo di 10.000 passi durante la giornata.",points:15},{id:"longev_d_3",title:"Grassi Sani",Icon:"",description:"Includi una fonte di grassi sani (avocado, noci, olio EVO) nei tuoi pasti.",points:10},{id:"longev_d_4",title:"Allenamento Mentale",Icon:"",description:"Dedica 15 minuti ad attivit che sfidano la mente (puzzle, lettura complessa, nuova lingua).",points:10}],weekly:[{id:"longev_w_1",title:"Forza Muscolare",Icon:"",description:"Completa 2 sessioni di allenamento con i pesi per mantenere la massa muscolare.",points:150},{id:"longev_w_2",title:"Connessione Sociale",Icon:"",description:"Passa del tempo di qualit e significativo con amici o familiari.",points:100},{id:"longev_w_3",title:"Legumi Power",Icon:"",description:"Consuma legumi (fagioli, lenticchie, ceci) almeno 3 volte a settimana.",points:100},{id:"longev_w_4",title:"Finestra Alimentare",Icon:"",description:"Prova a concentrare i pasti in una finestra di 8-10 ore.",points:50}]}},Q_=t=>p.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),p.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),E0=t=>p.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),p.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),I0=t=>p.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),p.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),b0=t=>p.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M3 3v18h18"}),p.jsx("path",{d:"M7 12v5h12V8l-5 5-4-4Z"})]}),Yi=t=>p.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("path",{d:"m12 3-1.45 4.1-4.1-1.45L8 12l-5.55 1.45 4.1 1.45L12 21l1.45-4.1 4.1 1.45L16 12l5.55-1.45-4.1-1.45Z"})}),kc=t=>p.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M12 21c4-4 6-10 6-14a6 6 0 0 0-12 0c0 4 2 10 6 14Z"}),p.jsx("path",{d:"M12 15v6"}),p.jsx("path",{d:"M8 12c-2-2.5-2.5-6-1-8 1.5-2 4-2.5 6-1"}),p.jsx("path",{d:"M16 12c2-2.5 2.5-6 1-8-1.5-2-4-2.5-6-1"})]}),X_=t=>p.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M4.5 3h15"}),p.jsx("path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-16V3"}),p.jsx("path",{d:"M6 14h12"})]}),A0=t=>p.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5"}),p.jsx("path",{d:"M16 2v4"}),p.jsx("path",{d:"M8 2v4"}),p.jsx("path",{d:"M3 10h18"}),p.jsx("path",{d:"M18 22a4 4 0 1 0 0-8 4 4 0 0 0 0 8Z"}),p.jsx("path",{d:"M18 16.5V18l.5.5"})]}),N0=t=>p.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M12 12h.01"}),p.jsx("path",{d:"M16 6V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2"}),p.jsx("path",{d:"M12 18h.01"}),p.jsx("path",{d:"M18 10h-2a2 2 0 0 1-2-2V4H8v4a2 2 0 0 1-2 2H2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V10Z"}),p.jsx("path",{d:"M8 12h.01"})]}),Ec=t=>p.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"}),p.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),p.jsx("path",{d:"M12 11h4"}),p.jsx("path",{d:"M12 16h4"}),p.jsx("path",{d:"M8 11h.01"}),p.jsx("path",{d:"M8 16h.01"})]}),Z_=t=>p.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}),p.jsx("polyline",{points:"10 17 15 12 10 7"}),p.jsx("line",{x1:"15",x2:"3",y1:"12",y2:"12"})]}),P0=t=>p.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),p.jsx("polyline",{points:"14 2 14 8 20 8"}),p.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),p.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),p.jsx("line",{x1:"10",y1:"9",x2:"8",y2:"9"})]}),M0=t=>p.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),p.jsx("circle",{cx:"9",cy:"7",r:"4"}),p.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),p.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),eS=({user:t,currentPage:e,onNavigate:n,onLogout:i,isOpen:o,setIsOpen:s})=>{const r=[{id:"home",label:"Home",Icon:Q_},{id:"profile",label:"Profilo",Icon:E0},{id:"assessments",label:"Test Autovalutazione",Icon:I0},{id:"dashboard",label:"Wellness Dashboard",Icon:b0},{id:"wellnessRoutine",label:"Routine Benessere",Icon:Yi},{id:"breathing",label:"Coerenza Cardiaca",Icon:kc},{id:"community",label:"Community & Coach",Icon:M0}],l=[{id:"bloodAnalysis",label:"Analisi Referti",Icon:X_},{id:"analysisQuote",label:"Analisi & Preventivi",Icon:Ec},{id:"spaBookings",label:"Percorsi SPA",Icon:A0}],a=[{id:"prescriptions",label:"Invio Ricette",Icon:P0},{id:"pharmacyServices",label:"Servizi Farmacia",Icon:N0}],u=({item:h})=>p.jsx("li",{children:p.jsxs("a",{href:"#",onClick:m=>{m.preventDefault(),n(h.id),window.innerWidth<768&&s(!1)},className:`flex items-center gap-3 p-3 my-1 rounded-md text-lg transition-colors ${e===h.id?"bg-sky-500 text-white shadow-md":"text-sky-100 hover:bg-sky-600"}`,children:[p.jsx(h.Icon,{className:"sidebar-icon"}),p.jsx("span",{children:h.label})]})}),d=p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"p-4 border-b border-sky-700",children:[p.jsx("h1",{className:"text-xl font-bold text-white",children:"Clinical Wellness Spa"}),t&&p.jsxs("p",{className:"text-sky-200 text-sm",children:["Benvenuto, ",t.name]})]}),p.jsxs("nav",{className:"flex-grow p-2 overflow-y-auto",children:[p.jsx("ul",{children:r.map(h=>p.jsx(u,{item:h},h.id))}),p.jsxs("div",{className:"mt-4 pt-4 border-t border-sky-700",children:[p.jsx("h2",{className:"px-3 py-1 text-sm font-semibold text-sky-300 uppercase tracking-wider",children:"Clinical Wellness SPA"}),p.jsx("ul",{children:l.map(h=>p.jsx(u,{item:h},h.id))})]}),p.jsx("div",{className:"my-2 border-t border-sky-700"}),p.jsxs("div",{className:"mt-2 pt-2",children:[p.jsx("h2",{className:"px-3 py-1 text-sm font-semibold text-sky-300 uppercase tracking-wider",children:"Servizi Farmacia Centrale"}),p.jsx("ul",{children:a.map(h=>p.jsx(u,{item:h},h.id))})]})]}),p.jsx("div",{className:"p-4 border-t border-sky-700 mt-auto",children:p.jsxs("a",{href:"#",onClick:h=>{h.preventDefault(),i(),window.innerWidth<768&&s(!1)},className:"flex items-center gap-3 p-3 rounded-md text-lg text-sky-100 hover:bg-sky-600 transition-colors",children:[p.jsx(Z_,{className:"sidebar-icon"}),p.jsx("span",{children:"Logout"})]})})]});return p.jsxs(p.Fragment,{children:[o&&p.jsx("div",{className:"fixed inset-0 bg-black opacity-50 z-30 md:hidden",onClick:()=>s(!1)}),p.jsx("aside",{className:`fixed top-0 left-0 h-full w-64 bg-sky-800 text-white flex flex-col shadow-lg z-40 transform transition-transform duration-300 ease-in-out ${o?"translate-x-0":"-translate-x-full"} md:translate-x-0`,children:d})]})},kn=t=>p.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),p.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),ii=t=>p.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),p.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),Ic=t=>p.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M18 6 6 18"}),p.jsx("path",{d:"m6 6 12 12"})]}),tS=({notification:t,onClose:e})=>{const[n,i]=R.useState(!1);R.useEffect(()=>{const r=setTimeout(()=>{i(!0)},3e3);return()=>clearTimeout(r)},[]),R.useEffect(()=>{if(n){const r=setTimeout(e,300);return()=>clearTimeout(r)}},[n,e]);const o={success:{bg:"bg-green-500",icon:p.jsx(kn,{className:"w-6 h-6 text-white"})},error:{bg:"bg-red-500",icon:p.jsx(ii,{className:"w-6 h-6 text-white"})}},s=o[t.type]||o.success;return p.jsxs("div",{className:`fixed top-5 right-5 z-50 flex items-center p-4 rounded-lg shadow-lg text-white ${s.bg} ${n?"animate-toast-out":"animate-toast-in"}`,children:[p.jsx("div",{className:"mr-3",children:s.icon}),p.jsx("div",{className:"font-semibold",children:t.message}),p.jsx("button",{onClick:()=>i(!0),className:"ml-4 -mr-2 p-1 rounded-full hover:bg-white/20 transition-colors",children:p.jsx(Ic,{className:"w-5 h-5"})})]})},nS=t=>p.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("line",{x1:"4",x2:"20",y1:"12",y2:"12"}),p.jsx("line",{x1:"4",x2:"20",y1:"6",y2:"6"}),p.jsx("line",{x1:"4",x2:"20",y1:"18",y2:"18"})]}),iS=({user:t,onSave:e})=>{const[n,i]=R.useState(""),[o,s]=R.useState(""),[r,l]=R.useState(""),[a,u]=R.useState(""),d=h=>{h.preventDefault(),n&&o&&r&&a&&e({...t,gender:n,age:parseInt(o),height:parseInt(r),weight:parseInt(a)})};return p.jsx("div",{className:"fixed inset-0 bg-slate-900/90 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in",children:p.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[p.jsxs("div",{className:"bg-sky-600 p-6 text-center",children:[p.jsx("h2",{className:"text-2xl font-bold text-white",children:"Benvenuto in Clinical Wellness"}),p.jsx("p",{className:"text-sky-100 mt-2",children:"Configuriamo il tuo profilo biometrico per iniziare."})]}),p.jsxs("form",{onSubmit:d,className:"p-8 space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",children:"Sesso Biologico"}),p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("label",{className:`flex-1 cursor-pointer p-4 rounded-xl border-2 flex flex-col items-center transition-all ${n==="male"?"border-sky-500 bg-sky-50 text-sky-700":"border-slate-200 hover:border-slate-300"}`,children:[p.jsx("input",{type:"radio",name:"gender",value:"male",checked:n==="male",onChange:()=>i("male"),className:"hidden"}),p.jsx("span",{className:"text-2xl mb-1",children:""}),p.jsx("span",{className:"font-semibold",children:"Uomo"})]}),p.jsxs("label",{className:`flex-1 cursor-pointer p-4 rounded-xl border-2 flex flex-col items-center transition-all ${n==="female"?"border-pink-500 bg-pink-50 text-pink-700":"border-slate-200 hover:border-slate-300"}`,children:[p.jsx("input",{type:"radio",name:"gender",value:"female",checked:n==="female",onChange:()=>i("female"),className:"hidden"}),p.jsx("span",{className:"text-2xl mb-1",children:""}),p.jsx("span",{className:"font-semibold",children:"Donna"})]})]})]}),p.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Et"}),p.jsx("input",{type:"number",min:"1",max:"120",value:o,onChange:h=>s(h.target.value),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 outline-none text-center font-bold text-slate-800",placeholder:"Anni",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Altezza"}),p.jsx("input",{type:"number",min:"50",max:"250",value:r,onChange:h=>l(h.target.value),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 outline-none text-center font-bold text-slate-800",placeholder:"CM",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Peso"}),p.jsx("input",{type:"number",min:"20",max:"300",value:a,onChange:h=>u(h.target.value),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 outline-none text-center font-bold text-slate-800",placeholder:"KG",required:!0})]})]}),p.jsxs("button",{type:"submit",disabled:!n||!o||!r||!a,className:"w-full bg-sky-600 text-white font-bold py-4 rounded-xl shadow-lg hover:bg-sky-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2",children:[p.jsx("span",{children:"Crea il mio Profilo Salute"}),p.jsx(kn,{className:"w-5 h-5"})]})]})]})})},oS=t=>p.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("circle",{cx:"12",cy:"10",r:"3"}),p.jsx("path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662"})]}),sS=({onLogin:t})=>{const[e,n]=R.useState(""),[i,o]=R.useState(""),s=r=>{if(r.preventDefault(),e.trim()&&i.trim()){const l={name:e.trim(),email:i.trim()};t(l)}};return p.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-slate-100 p-4",children:p.jsxs("div",{className:"w-full max-w-md",children:[p.jsxs("div",{className:"text-center mb-6",children:[p.jsx("h1",{className:"text-4xl font-bold text-slate-800",children:"Clinical Wellness Spa"}),p.jsx("p",{className:"mt-2 text-lg text-slate-600",children:"Il tuo percorso verso il benessere inizia qui."})]}),p.jsxs("div",{className:"bg-white shadow-2xl rounded-2xl p-8 animate-fade-in",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx(oS,{className:"mx-auto h-16 w-16 text-sky-600 mb-4"}),p.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Area Riservata"}),p.jsx("p",{className:"mt-1 text-slate-500",children:"Accedi per continuare"})]}),p.jsxs("form",{className:"space-y-6",onSubmit:s,children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-700 mb-1",children:"Nome"}),p.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:e,onChange:r=>n(r.target.value),className:"appearance-none relative block w-full px-3 py-3 border border-slate-300 placeholder-slate-500 text-slate-900 rounded-md focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm",placeholder:"Il tuo nome"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-slate-700 mb-1",children:"Indirizzo Email"}),p.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:i,onChange:r=>o(r.target.value),className:"appearance-none relative block w-full px-3 py-3 border border-slate-300 placeholder-slate-500 text-slate-900 rounded-md focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm",placeholder:"indirizzo@esempio.com"})]}),p.jsx("div",{children:p.jsx("button",{type:"submit",disabled:!e.trim()||!i.trim(),className:"group relative w-full flex justify-center py-3 px-4 mt-4 border border-transparent text-sm font-medium rounded-md text-white bg-sky-600 hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500 disabled:bg-slate-400 disabled:cursor-not-allowed transition-colors",children:"Accedi"})})]})]}),p.jsxs("p",{className:"mt-6 text-center text-sm text-slate-500",children:[" ",new Date().getFullYear()," Clinical Wellness Spa. Tutti i diritti riservati."]})]})})},rS=t=>p.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7"}),p.jsx("polyline",{points:"16 17 22 17 22 11"})]}),lS=({user:t,onNavigate:e})=>{const[n,i]=R.useState(null);if(R.useEffect(()=>{let a=[];for(const u of Object.keys(Gt)){const d=he(`assessmentHistory_${t.email}_${u}`,[]);if(d.length>0){const h=d[d.length-1];a.push({id:u,title:Gt[u].title.replace("Analisi ",""),score:h.score,Icon:Gt[u].Icon})}}a.length>0&&(a.sort((u,d)=>u.score-d.score),i(a[0]))},[t.email]),!n)return p.jsxs("div",{className:"bg-sky-600 text-white rounded-xl shadow-lg p-6 mb-8 animate-fade-in",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx(Yi,{className:"w-10 h-10 text-sky-300 flex-shrink-0"}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-bold",children:"Inizia il tuo percorso di benessere!"}),p.jsx("p",{className:"text-sky-200",children:"Completa il tuo primo test di autovalutazione per scoprire i tuoi punti di forza."})]})]}),p.jsx("button",{onClick:()=>e("assessments"),className:"mt-4 w-full bg-white text-sky-700 font-bold py-2 px-4 rounded-lg hover:bg-sky-100 transition-colors",children:"Inizia il primo test"})]});const{Icon:o,title:s,score:r,id:l}=n;return p.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8 animate-fade-in border border-slate-200",children:[p.jsx("h3",{className:"text-sm font-semibold text-slate-500 mb-2",children:"Focus Benessere"}),p.jsxs("div",{className:"flex items-start gap-4",children:[p.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:p.jsx(rS,{className:"w-6 h-6 text-red-600"})}),p.jsxs("div",{className:"flex-grow",children:[p.jsxs("h2",{className:"text-xl font-bold text-slate-800",children:["Area da Migliorare: ",s]}),p.jsxs("p",{className:"text-slate-600",children:["Il tuo ultimo punteggio  ",p.jsx("span",{className:"font-bold text-red-600",children:r}),". Concentrati su quest'area per migliorare il tuo benessere generale."]}),p.jsx("button",{onClick:()=>e("assessments"),className:"mt-3 text-sky-600 font-semibold hover:text-sky-800 transition-colors text-sm",children:"Vai ai test di valutazione "})]})]})]})},vf=({user:t,onNavigate:e})=>{const n=[{id:"assessments",title:"Test Autovalutazione",subtitle:"Scopri il tuo benessere",Icon:I0},{id:"dashboard",title:"Dashboard Benessere",subtitle:"Visualizza i tuoi progressi",Icon:b0},{id:"wellnessRoutine",title:"Routine Benessere",subtitle:"Completa le tue missioni",Icon:Yi},{id:"breathing",title:"Coerenza Cardiaca",subtitle:"Esercizi di respirazione",Icon:kc},{id:"spaBookings",title:"Percorsi SPA",subtitle:"Scopri i percorsi benessere",Icon:A0},{id:"analysisQuote",title:"Analisi & Preventivi",subtitle:"Crea il tuo piano di analisi",Icon:Ec},{id:"prescriptions",title:"Invio Ricette Mediche",subtitle:"Invia ricette alla farmacia",Icon:P0},{id:"pharmacyServices",title:"Servizi Farmacia",subtitle:"Telemedicina e altro",Icon:N0}];return p.jsxs("div",{className:"p-4 md:p-8 animate-fade-in",children:[p.jsxs("header",{className:"mb-8",children:[p.jsxs("h1",{className:"text-4xl font-bold text-slate-800",children:["Bentornato, ",t.name,"!"]}),p.jsx("p",{className:"text-xl text-slate-600",children:"Il tuo coach personale per il benessere."})]}),p.jsx(lS,{user:t,onNavigate:e}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map(i=>p.jsx("div",{onClick:()=>e(i.id),className:"bg-white rounded-xl shadow-md p-6 flex flex-col justify-between items-start cursor-pointer hover:shadow-xl hover:scale-105 transition-all duration-300 animate-slide-in-up",children:p.jsxs("div",{children:[p.jsx("div",{className:"p-3 bg-sky-100 rounded-full mb-4 inline-block",children:p.jsx(i.Icon,{className:"w-8 h-8 text-sky-600"})}),p.jsx("h2",{className:"text-xl font-bold text-slate-800",children:i.title}),p.jsx("p",{className:"text-slate-500 mt-1",children:i.subtitle})]})},i.id))})]})},aS=t=>p.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("circle",{cx:"7.5",cy:"15.5",r:"5.5"}),p.jsx("path",{d:"m21 2-9.6 9.6"}),p.jsx("path",{d:"m15.5 7.5 3 3L22 7l-3-3"})]}),uS=t=>p.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2l.15-.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),p.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),cS=({user:t,onLogout:e,onNavigate:n})=>p.jsxs("div",{className:"p-4 md:p-8 animate-fade-in",children:[p.jsx("h1",{className:"text-4xl font-bold text-slate-800 mb-8",children:"Profilo Utente"}),p.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg max-w-md mx-auto",children:[p.jsxs("div",{className:"text-center mb-6",children:[p.jsx("div",{className:"w-24 h-24 rounded-full bg-sky-100 mx-auto flex items-center justify-center mb-4",children:p.jsx(E0,{className:"w-12 h-12 text-sky-600"})}),p.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:t.name}),p.jsx("p",{className:"text-slate-500",children:t.email})]}),p.jsxs("div",{className:"border-t border-slate-200 pt-6 space-y-4",children:[p.jsxs("button",{onClick:()=>n("adminSettings"),className:"w-full bg-slate-600 text-white font-semibold py-3 rounded-lg hover:bg-slate-700 transition-colors shadow-md flex items-center justify-center gap-2",children:[p.jsx(uS,{className:"w-5 h-5"}),p.jsx("span",{children:"Impostazioni Punteggi"})]}),p.jsxs("button",{onClick:()=>n("manualUnlock"),className:"w-full bg-sky-600 text-white font-semibold py-3 rounded-lg hover:bg-sky-700 transition-colors shadow-md flex items-center justify-center gap-2",children:[p.jsx(aS,{className:"w-5 h-5"}),p.jsx("span",{children:"Sblocco Manuale Livelli"})]}),p.jsx("button",{onClick:e,className:"w-full bg-red-500 text-white font-semibold py-3 rounded-lg hover:bg-red-600 transition-colors shadow-md",children:"Logout"})]})]})]}),dS=({data:t,width:e=400,height:n=200,color:i="#0ea5e9"})=>{if(!t||t.length<2)return p.jsx("div",{className:"flex items-center justify-center h-full text-slate-500 text-sm italic",children:"Dati insufficienti per il grafico."});const o=20,s=e-o*2,r=n-o*2,l=80,a=20,u=m=>m/(t.length-1)*s+o,d=m=>r-(m-a)/(l-a)*r+o,h=t.map((m,g)=>`${g===0?"M":"L"} ${u(g)} ${d(m.score)}`).join(" ");return p.jsxs("svg",{viewBox:`0 0 ${e} ${n}`,className:"w-full h-full overflow-visible","aria-label":"Grafico dell'andamento dei punteggi",children:[p.jsx("path",{d:h,fill:"none",stroke:i,strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),t.map((m,g)=>p.jsxs("g",{className:"group",children:[p.jsx("circle",{cx:u(g),cy:d(m.score),r:"5",fill:"white",stroke:i,strokeWidth:"2",className:"transition-all duration-300 group-hover:r-7"}),p.jsx("rect",{x:u(g)-40,y:d(m.score)-35,width:"80",height:"25",rx:"4",fill:"#1e293b",opacity:"0",className:"group-hover:opacity-90 transition-opacity duration-200 pointer-events-none"}),p.jsxs("text",{x:u(g),y:d(m.score)-20,textAnchor:"middle",fill:"white",fontSize:"10",opacity:"0",className:"group-hover:opacity-100 transition-opacity duration-200 pointer-events-none font-bold",children:[m.score," (",new Date(m.date).toLocaleDateString("it-IT",{day:"2-digit",month:"2-digit"}),")"]})]},g)),p.jsx("text",{x:o-5,y:d(a),textAnchor:"end",dominantBaseline:"middle",className:"text-xs fill-slate-400 font-medium",children:a}),p.jsx("text",{x:o-5,y:d(l),textAnchor:"end",dominantBaseline:"middle",className:"text-xs fill-slate-400 font-medium",children:l})]})},fS=({user:t,onNavigate:e,onStartAssessment:n})=>{const[i,o]=R.useState({});R.useEffect(()=>{if(t){const r={};Object.keys(Gt).forEach(l=>{const a=he(`assessmentHistory_${t.email}_${l}`,[]);a.length>0&&(r[l]=a)}),o(r)}},[t]);const s=Object.keys(i).length>0;return p.jsxs("div",{className:"p-4 md:p-8 animate-fade-in pb-32",children:[p.jsx("h1",{className:"text-4xl font-bold text-slate-800 mb-2",children:"Test di Autovalutazione"}),p.jsx("p",{className:"text-xl text-slate-600 mb-8",children:"Scegli un'area da analizzare per iniziare."}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.values(Gt).map(r=>p.jsxs("div",{onClick:()=>n(r.id),className:"bg-white rounded-xl shadow-md p-6 flex flex-col items-start cursor-pointer hover:shadow-xl hover:scale-105 transition-all duration-300 animate-slide-in-up",children:[p.jsx("div",{className:"p-3 bg-sky-100 rounded-full mb-4",children:p.jsx(r.Icon,{className:"w-8 h-8 text-sky-600"})}),p.jsx("h2",{className:"text-xl font-bold text-slate-800",children:r.title}),p.jsx("p",{className:"text-slate-500 mt-2",children:"Valuta la tua situazione attuale in quest'area."})]},r.id))}),s&&p.jsxs("div",{className:"mt-16 pt-8 border-t border-slate-200 animate-fade-in",children:[p.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-6",children:"I tuoi progressi nel tempo"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.keys(i).map(r=>{const l=Gt[r],a=i[r],u=a.length>0?a[a.length-1].score:0;return p.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-slate-100",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-2 bg-sky-50 rounded-lg",children:p.jsx(l.Icon,{className:"w-6 h-6 text-sky-600"})}),p.jsx("h3",{className:"font-bold text-slate-700",children:l.title})]}),p.jsx("span",{className:"text-2xl font-bold text-slate-800 bg-slate-100 px-3 py-1 rounded-md min-w-[3rem] text-center",children:u})]}),p.jsx("div",{className:"w-full h-48",children:p.jsx(dS,{data:a,width:400,height:200})}),p.jsx("div",{className:"mt-4 text-right",children:p.jsx("button",{onClick:()=>n(r),className:"text-sm font-semibold text-sky-600 hover:text-sky-800 transition-colors",children:"Ripeti il test "})})]},r)})})]})]})},pS=({assessment:t,onComplete:e})=>{const[n,i]=R.useState({}),[o,s]=R.useState(0),r=(d,h)=>{i(m=>({...m,[d]:h}))};if(R.useEffect(()=>{if(Object.keys(n).length>0&&Object.keys(n).length===t.questions.length){const h=Object.values(n).reduce((g,x)=>g+x,0),m=setTimeout(()=>e(h),350);return()=>clearTimeout(m)}},[n,t.questions.length,e]),R.useEffect(()=>{if(n[o]!==void 0&&!(o===t.questions.length-1)){const h=setTimeout(()=>{s(m=>m+1)},300);return()=>clearTimeout(h)}},[n,o,t.questions.length]),Object.keys(n).length===t.questions.length)return p.jsx("div",{className:"p-4 md:p-8 text-center animate-fade-in",children:p.jsx("h2",{className:"text-2xl font-bold text-slate-700",children:"Calcolo dei risultati..."})});const a=t.questions[o],u=o/t.questions.length*100;return p.jsxs("div",{className:"p-4 md:p-8 animate-fade-in",children:[p.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-2",children:t.title}),p.jsxs("p",{className:"text-slate-600 mb-6",children:["Domanda ",o+1," di ",t.questions.length]}),p.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mb-8",children:p.jsx("div",{className:"bg-sky-500 h-2.5 rounded-full",style:{width:`${u}%`,transition:"width 0.5s ease-in-out"}})}),p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md animate-slide-in-up",children:[p.jsx("h3",{className:"text-xl font-semibold text-slate-700 mb-6",children:a.text}),p.jsx("div",{className:"space-y-3",children:a.options.map((d,h)=>p.jsx("button",{onClick:()=>r(o,d.value),className:`w-full text-left p-4 rounded-lg border-2 transition-all duration-200 text-slate-700 ${n[o]===d.value?"bg-sky-100 border-sky-500 font-semibold ring-2 ring-sky-300":"bg-slate-50 border-slate-200 hover:bg-sky-50 hover:border-sky-400"}`,children:d.text},h))})]},o)]})};function bc(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let oi=bc();function R0(t){oi=t}const D0=/[&<>"']/,hS=new RegExp(D0.source,"g"),L0=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,mS=new RegExp(L0.source,"g"),gS={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},yf=t=>gS[t];function Ke(t,e){if(e){if(D0.test(t))return t.replace(hS,yf)}else if(L0.test(t))return t.replace(mS,yf);return t}const xS=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function vS(t){return t.replace(xS,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const yS=/(^|[^\[])\^/g;function X(t,e){let n=typeof t=="string"?t:t.source;e=e||"";const i={replace:(o,s)=>{let r=typeof s=="string"?s:s.source;return r=r.replace(yS,"$1"),n=n.replace(o,r),i},getRegex:()=>new RegExp(n,e)};return i}function _f(t){try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const Lo={exec:()=>null};function Sf(t,e){const n=t.replace(/\|/g,(s,r,l)=>{let a=!1,u=r;for(;--u>=0&&l[u]==="\\";)a=!a;return a?"|":" |"}),i=n.split(/ \|/);let o=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),e)if(i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;o<i.length;o++)i[o]=i[o].trim().replace(/\\\|/g,"|");return i}function ao(t,e,n){const i=t.length;if(i===0)return"";let o=0;for(;o<i&&t.charAt(i-o-1)===e;)o++;return t.slice(0,i-o)}function _S(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let i=0;i<t.length;i++)if(t[i]==="\\")i++;else if(t[i]===e[0])n++;else if(t[i]===e[1]&&(n--,n<0))return i;return-1}function wf(t,e,n,i){const o=e.href,s=e.title?Ke(e.title):null,r=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){i.state.inLink=!0;const l={type:"link",raw:n,href:o,title:s,text:r,tokens:i.inlineTokens(r)};return i.state.inLink=!1,l}return{type:"image",raw:n,href:o,title:s,text:Ke(r)}}function SS(t,e){const n=t.match(/^(\s+)(?:```)/);if(n===null)return e;const i=n[1];return e.split(`
`).map(o=>{const s=o.match(/^\s+/);if(s===null)return o;const[r]=s;return r.length>=i.length?o.slice(i.length):o}).join(`
`)}class Ur{constructor(e){U(this,"options");U(this,"rules");U(this,"lexer");this.options=e||oi}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const i=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?i:ao(i,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const i=n[0],o=SS(i,n[3]||"");return{type:"code",raw:i,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:o}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let i=n[2].trim();if(/#$/.test(i)){const o=ao(i,"#");(this.options.pedantic||!o||/ $/.test(o))&&(i=o.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:ao(n[0],`
`)}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){let i=ao(n[0],`
`).split(`
`),o="",s="";const r=[];for(;i.length>0;){let l=!1;const a=[];let u;for(u=0;u<i.length;u++)if(/^ {0,3}>/.test(i[u]))a.push(i[u]),l=!0;else if(!l)a.push(i[u]);else break;i=i.slice(u);const d=a.join(`
`),h=d.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");o=o?`${o}
${d}`:d,s=s?`${s}
${h}`:h;const m=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,r,!0),this.lexer.state.top=m,i.length===0)break;const g=r[r.length-1];if((g==null?void 0:g.type)==="code")break;if((g==null?void 0:g.type)==="blockquote"){const x=g,v=x.raw+`
`+i.join(`
`),w=this.blockquote(v);r[r.length-1]=w,o=o.substring(0,o.length-x.raw.length)+w.raw,s=s.substring(0,s.length-x.text.length)+w.text;break}else if((g==null?void 0:g.type)==="list"){const x=g,v=x.raw+`
`+i.join(`
`),w=this.list(v);r[r.length-1]=w,o=o.substring(0,o.length-g.raw.length)+w.raw,s=s.substring(0,s.length-x.raw.length)+w.raw,i=v.substring(r[r.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:o,tokens:r,text:s}}}list(e){let n=this.rules.block.list.exec(e);if(n){let i=n[1].trim();const o=i.length>1,s={type:"list",raw:"",ordered:o,start:o?+i.slice(0,-1):"",loose:!1,items:[]};i=o?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=o?i:"[*+-]");const r=new RegExp(`^( {0,3}${i})((?:[	 ][^\\n]*)?(?:\\n|$))`);let l=!1;for(;e;){let a=!1,u="",d="";if(!(n=r.exec(e))||this.rules.block.hr.test(e))break;u=n[0],e=e.substring(u.length);let h=n[2].split(`
`,1)[0].replace(/^\t+/,S=>" ".repeat(3*S.length)),m=e.split(`
`,1)[0],g=!h.trim(),x=0;if(this.options.pedantic?(x=2,d=h.trimStart()):g?x=n[1].length+1:(x=n[2].search(/[^ ]/),x=x>4?1:x,d=h.slice(x),x+=n[1].length),g&&/^ *$/.test(m)&&(u+=m+`
`,e=e.substring(m.length+1),a=!0),!a){const S=new RegExp(`^ {0,${Math.min(3,x-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),_=new RegExp(`^ {0,${Math.min(3,x-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),y=new RegExp(`^ {0,${Math.min(3,x-1)}}(?:\`\`\`|~~~)`),C=new RegExp(`^ {0,${Math.min(3,x-1)}}#`);for(;e;){const T=e.split(`
`,1)[0];if(m=T,this.options.pedantic&&(m=m.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),y.test(m)||C.test(m)||S.test(m)||_.test(e))break;if(m.search(/[^ ]/)>=x||!m.trim())d+=`
`+m.slice(x);else{if(g||h.search(/[^ ]/)>=4||y.test(h)||C.test(h)||_.test(h))break;d+=`
`+m}!g&&!m.trim()&&(g=!0),u+=T+`
`,e=e.substring(T.length+1),h=m.slice(x)}}s.loose||(l?s.loose=!0:/\n *\n *$/.test(u)&&(l=!0));let v=null,w;this.options.gfm&&(v=/^\[[ xX]\] /.exec(d),v&&(w=v[0]!=="[ ] ",d=d.replace(/^\[[ xX]\] +/,""))),s.items.push({type:"list_item",raw:u,task:!!v,checked:w,loose:!1,text:d,tokens:[]}),s.raw+=u}s.items[s.items.length-1].raw=s.items[s.items.length-1].raw.trimEnd(),s.items[s.items.length-1].text=s.items[s.items.length-1].text.trimEnd(),s.raw=s.raw.trimEnd();for(let a=0;a<s.items.length;a++)if(this.lexer.state.top=!1,s.items[a].tokens=this.lexer.blockTokens(s.items[a].text,[]),!s.loose){const u=s.items[a].tokens.filter(h=>h.type==="space"),d=u.length>0&&u.some(h=>/\n.*\n/.test(h.raw));s.loose=d}if(s.loose)for(let a=0;a<s.items.length;a++)s.items[a].loose=!0;return s}}html(e){const n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){const n=this.rules.block.def.exec(e);if(n){const i=n[1].toLowerCase().replace(/\s+/g," "),o=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:i,raw:n[0],href:o,title:s}}}table(e){const n=this.rules.block.table.exec(e);if(!n||!/[:|]/.test(n[2]))return;const i=Sf(n[1]),o=n[2].replace(/^\||\| *$/g,"").split("|"),s=n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[],r={type:"table",raw:n[0],header:[],align:[],rows:[]};if(i.length===o.length){for(const l of o)/^ *-+: *$/.test(l)?r.align.push("right"):/^ *:-+: *$/.test(l)?r.align.push("center"):/^ *:-+ *$/.test(l)?r.align.push("left"):r.align.push(null);for(let l=0;l<i.length;l++)r.header.push({text:i[l],tokens:this.lexer.inline(i[l]),header:!0,align:r.align[l]});for(const l of s)r.rows.push(Sf(l,r.header.length).map((a,u)=>({text:a,tokens:this.lexer.inline(a),header:!1,align:r.align[u]})));return r}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const i=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:i,tokens:this.lexer.inline(i)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:Ke(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const i=n[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;const r=ao(i.slice(0,-1),"\\");if((i.length-r.length)%2===0)return}else{const r=_S(n[2],"()");if(r>-1){const a=(n[0].indexOf("!")===0?5:4)+n[1].length+r;n[2]=n[2].substring(0,r),n[0]=n[0].substring(0,a).trim(),n[3]=""}}let o=n[2],s="";if(this.options.pedantic){const r=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);r&&(o=r[1],s=r[3])}else s=n[3]?n[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(this.options.pedantic&&!/>$/.test(i)?o=o.slice(1):o=o.slice(1,-1)),wf(n,{href:o&&o.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer)}}reflink(e,n){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){const o=(i[2]||i[1]).replace(/\s+/g," "),s=n[o.toLowerCase()];if(!s){const r=i[0].charAt(0);return{type:"text",raw:r,text:r}}return wf(i,s,i[0],this.lexer)}}emStrong(e,n,i=""){let o=this.rules.inline.emStrongLDelim.exec(e);if(!o||o[3]&&i.match(/[\p{L}\p{N}]/u))return;if(!(o[1]||o[2]||"")||!i||this.rules.inline.punctuation.exec(i)){const r=[...o[0]].length-1;let l,a,u=r,d=0;const h=o[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,n=n.slice(-1*e.length+r);(o=h.exec(n))!=null;){if(l=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!l)continue;if(a=[...l].length,o[3]||o[4]){u+=a;continue}else if((o[5]||o[6])&&r%3&&!((r+a)%3)){d+=a;continue}if(u-=a,u>0)continue;a=Math.min(a,a+u+d);const m=[...o[0]][0].length,g=e.slice(0,r+o.index+m+a);if(Math.min(r,a)%2){const v=g.slice(1,-1);return{type:"em",raw:g,text:v,tokens:this.lexer.inlineTokens(v)}}const x=g.slice(2,-2);return{type:"strong",raw:g,text:x,tokens:this.lexer.inlineTokens(x)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let i=n[2].replace(/\n/g," ");const o=/[^ ]/.test(i),s=/^ /.test(i)&&/ $/.test(i);return o&&s&&(i=i.substring(1,i.length-1)),i=Ke(i,!0),{type:"codespan",raw:n[0],text:i}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){const n=this.rules.inline.autolink.exec(e);if(n){let i,o;return n[2]==="@"?(i=Ke(n[1]),o="mailto:"+i):(i=Ke(n[1]),o=i),{type:"link",raw:n[0],text:i,href:o,tokens:[{type:"text",raw:i,text:i}]}}}url(e){var i;let n;if(n=this.rules.inline.url.exec(e)){let o,s;if(n[2]==="@")o=Ke(n[0]),s="mailto:"+o;else{let r;do r=n[0],n[0]=((i=this.rules.inline._backpedal.exec(n[0]))==null?void 0:i[0])??"";while(r!==n[0]);o=Ke(n[0]),n[1]==="www."?s="http://"+n[0]:s=n[0]}return{type:"link",raw:n[0],text:o,href:s,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(e){const n=this.rules.inline.text.exec(e);if(n){let i;return this.lexer.state.inRawBlock?i=n[0]:i=Ke(n[0]),{type:"text",raw:n[0],text:i}}}}const wS=/^(?: *(?:\n|$))+/,CS=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,TS=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,ms=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,kS=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,z0=/(?:[*+-]|\d{1,9}[.)])/,F0=X(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,z0).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Ac=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,ES=/^[^\n]+/,Nc=/(?!\s*\])(?:\\.|[^\[\]\\])+/,IS=X(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",Nc).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),bS=X(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,z0).getRegex(),vl="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Pc=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,AS=X("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",Pc).replace("tag",vl).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),U0=X(Ac).replace("hr",ms).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",vl).getRegex(),NS=X(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",U0).getRegex(),Mc={blockquote:NS,code:CS,def:IS,fences:TS,heading:kS,hr:ms,html:AS,lheading:F0,list:bS,newline:wS,paragraph:U0,table:Lo,text:ES},Cf=X("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ms).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",vl).getRegex(),PS={...Mc,table:Cf,paragraph:X(Ac).replace("hr",ms).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Cf).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",vl).getRegex()},MS={...Mc,html:X(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Pc).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Lo,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:X(Ac).replace("hr",ms).replace("heading",` *#{1,6} *[^
]`).replace("lheading",F0).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},B0=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,RS=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,V0=/^( {2,}|\\)\n(?!\s*$)/,DS=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,gs="\\p{P}\\p{S}",LS=X(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,gs).getRegex(),zS=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,FS=X(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,gs).getRegex(),US=X("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,gs).getRegex(),BS=X("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,gs).getRegex(),VS=X(/\\([punct])/,"gu").replace(/punct/g,gs).getRegex(),HS=X(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),OS=X(Pc).replace("(?:-->|$)","-->").getRegex(),qS=X("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",OS).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Br=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,GS=X(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Br).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),H0=X(/^!?\[(label)\]\[(ref)\]/).replace("label",Br).replace("ref",Nc).getRegex(),O0=X(/^!?\[(ref)\](?:\[\])?/).replace("ref",Nc).getRegex(),$S=X("reflink|nolink(?!\\()","g").replace("reflink",H0).replace("nolink",O0).getRegex(),Rc={_backpedal:Lo,anyPunctuation:VS,autolink:HS,blockSkip:zS,br:V0,code:RS,del:Lo,emStrongLDelim:FS,emStrongRDelimAst:US,emStrongRDelimUnd:BS,escape:B0,link:GS,nolink:O0,punctuation:LS,reflink:H0,reflinkSearch:$S,tag:qS,text:DS,url:Lo},WS={...Rc,link:X(/^!?\[(label)\]\((.*?)\)/).replace("label",Br).getRegex(),reflink:X(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Br).getRegex()},lu={...Rc,escape:X(B0).replace("])","~|])").getRegex(),url:X(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},jS={...lu,br:X(V0).replace("{2,}","*").getRegex(),text:X(lu.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},zs={normal:Mc,gfm:PS,pedantic:MS},uo={normal:Rc,gfm:lu,breaks:jS,pedantic:WS};class bt{constructor(e){U(this,"tokens");U(this,"options");U(this,"state");U(this,"tokenizer");U(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||oi,this.options.tokenizer=this.options.tokenizer||new Ur,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:zs.normal,inline:uo.normal};this.options.pedantic?(n.block=zs.pedantic,n.inline=uo.pedantic):this.options.gfm&&(n.block=zs.gfm,this.options.breaks?n.inline=uo.breaks:n.inline=uo.gfm),this.tokenizer.rules=n}static get rules(){return{block:zs,inline:uo}}static lex(e,n){return new bt(n).lex(e)}static lexInline(e,n){return new bt(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const i=this.inlineQueue[n];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],i=!1){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(l,a,u)=>a+"    ".repeat(u.length));let o,s,r;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(o=l.call({lexer:this},e,n))?(e=e.substring(o.raw.length),n.push(o),!0):!1))){if(o=this.tokenizer.space(e)){e=e.substring(o.raw.length),o.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(o);continue}if(o=this.tokenizer.code(e)){e=e.substring(o.raw.length),s=n[n.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+o.raw,s.text+=`
`+o.text,this.inlineQueue[this.inlineQueue.length-1].src=s.text):n.push(o);continue}if(o=this.tokenizer.fences(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.heading(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.hr(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.blockquote(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.list(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.html(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.def(e)){e=e.substring(o.raw.length),s=n[n.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+o.raw,s.text+=`
`+o.raw,this.inlineQueue[this.inlineQueue.length-1].src=s.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title});continue}if(o=this.tokenizer.table(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.lheading(e)){e=e.substring(o.raw.length),n.push(o);continue}if(r=e,this.options.extensions&&this.options.extensions.startBlock){let l=1/0;const a=e.slice(1);let u;this.options.extensions.startBlock.forEach(d=>{u=d.call({lexer:this},a),typeof u=="number"&&u>=0&&(l=Math.min(l,u))}),l<1/0&&l>=0&&(r=e.substring(0,l+1))}if(this.state.top&&(o=this.tokenizer.paragraph(r))){s=n[n.length-1],i&&(s==null?void 0:s.type)==="paragraph"?(s.raw+=`
`+o.raw,s.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):n.push(o),i=r.length!==e.length,e=e.substring(o.raw.length);continue}if(o=this.tokenizer.text(e)){e=e.substring(o.raw.length),s=n[n.length-1],s&&s.type==="text"?(s.raw+=`
`+o.raw,s.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):n.push(o);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let i,o,s,r=e,l,a,u;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)d.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,l.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(a||(u=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(d=>(i=d.call({lexer:this},e,n))?(e=e.substring(i.raw.length),n.push(i),!0):!1))){if(i=this.tokenizer.escape(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.tag(e)){e=e.substring(i.raw.length),o=n[n.length-1],o&&i.type==="text"&&o.type==="text"?(o.raw+=i.raw,o.text+=i.text):n.push(i);continue}if(i=this.tokenizer.link(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(i.raw.length),o=n[n.length-1],o&&i.type==="text"&&o.type==="text"?(o.raw+=i.raw,o.text+=i.text):n.push(i);continue}if(i=this.tokenizer.emStrong(e,r,u)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.codespan(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.br(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.del(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.autolink(e)){e=e.substring(i.raw.length),n.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(e))){e=e.substring(i.raw.length),n.push(i);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let d=1/0;const h=e.slice(1);let m;this.options.extensions.startInline.forEach(g=>{m=g.call({lexer:this},h),typeof m=="number"&&m>=0&&(d=Math.min(d,m))}),d<1/0&&d>=0&&(s=e.substring(0,d+1))}if(i=this.tokenizer.inlineText(s)){e=e.substring(i.raw.length),i.raw.slice(-1)!=="_"&&(u=i.raw.slice(-1)),a=!0,o=n[n.length-1],o&&o.type==="text"?(o.raw+=i.raw,o.text+=i.text):n.push(i);continue}if(e){const d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return n}}class Vr{constructor(e){U(this,"options");U(this,"parser");this.options=e||oi}space(e){return""}code({text:e,lang:n,escaped:i}){var r;const o=(r=(n||"").match(/^\S*/))==null?void 0:r[0],s=e.replace(/\n$/,"")+`
`;return o?'<pre><code class="language-'+Ke(o)+'">'+(i?s:Ke(s,!0))+`</code></pre>
`:"<pre><code>"+(i?s:Ke(s,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:n}){return`<h${n}>${this.parser.parseInline(e)}</h${n}>
`}hr(e){return`<hr>
`}list(e){const n=e.ordered,i=e.start;let o="";for(let l=0;l<e.items.length;l++){const a=e.items[l];o+=this.listitem(a)}const s=n?"ol":"ul",r=n&&i!==1?' start="'+i+'"':"";return"<"+s+r+`>
`+o+"</"+s+`>
`}listitem(e){let n="";if(e.task){const i=this.checkbox({checked:!!e.checked});e.loose?e.tokens.length>0&&e.tokens[0].type==="paragraph"?(e.tokens[0].text=i+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=i+" "+e.tokens[0].tokens[0].text)):e.tokens.unshift({type:"text",raw:i+" ",text:i+" "}):n+=i+" "}return n+=this.parser.parse(e.tokens,!!e.loose),`<li>${n}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let n="",i="";for(let s=0;s<e.header.length;s++)i+=this.tablecell(e.header[s]);n+=this.tablerow({text:i});let o="";for(let s=0;s<e.rows.length;s++){const r=e.rows[s];i="";for(let l=0;l<r.length;l++)i+=this.tablecell(r[l]);o+=this.tablerow({text:i})}return o&&(o=`<tbody>${o}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+o+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const n=this.parser.parseInline(e.tokens),i=e.header?"th":"td";return(e.align?`<${i} align="${e.align}">`:`<${i}>`)+n+`</${i}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${e}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:n,tokens:i}){const o=this.parser.parseInline(i),s=_f(e);if(s===null)return o;e=s;let r='<a href="'+e+'"';return n&&(r+=' title="'+n+'"'),r+=">"+o+"</a>",r}image({href:e,title:n,text:i}){const o=_f(e);if(o===null)return i;e=o;let s=`<img src="${e}" alt="${i}"`;return n&&(s+=` title="${n}"`),s+=">",s}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):e.text}}class Dc{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class At{constructor(e){U(this,"options");U(this,"renderer");U(this,"textRenderer");this.options=e||oi,this.options.renderer=this.options.renderer||new Vr,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Dc}static parse(e,n){return new At(n).parse(e)}static parseInline(e,n){return new At(n).parseInline(e)}parse(e,n=!0){let i="";for(let o=0;o<e.length;o++){const s=e[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const l=s,a=this.options.extensions.renderers[l.type].call({parser:this},l);if(a!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(l.type)){i+=a||"";continue}}const r=s;switch(r.type){case"space":{i+=this.renderer.space(r);continue}case"hr":{i+=this.renderer.hr(r);continue}case"heading":{i+=this.renderer.heading(r);continue}case"code":{i+=this.renderer.code(r);continue}case"table":{i+=this.renderer.table(r);continue}case"blockquote":{i+=this.renderer.blockquote(r);continue}case"list":{i+=this.renderer.list(r);continue}case"html":{i+=this.renderer.html(r);continue}case"paragraph":{i+=this.renderer.paragraph(r);continue}case"text":{let l=r,a=this.renderer.text(l);for(;o+1<e.length&&e[o+1].type==="text";)l=e[++o],a+=`
`+this.renderer.text(l);n?i+=this.renderer.paragraph({type:"paragraph",raw:a,text:a,tokens:[{type:"text",raw:a,text:a}]}):i+=a;continue}default:{const l='Token with "'+r.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return i}parseInline(e,n){n=n||this.renderer;let i="";for(let o=0;o<e.length;o++){const s=e[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const l=this.options.extensions.renderers[s.type].call({parser:this},s);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){i+=l||"";continue}}const r=s;switch(r.type){case"escape":{i+=n.text(r);break}case"html":{i+=n.html(r);break}case"link":{i+=n.link(r);break}case"image":{i+=n.image(r);break}case"strong":{i+=n.strong(r);break}case"em":{i+=n.em(r);break}case"codespan":{i+=n.codespan(r);break}case"br":{i+=n.br(r);break}case"del":{i+=n.del(r);break}case"text":{i+=n.text(r);break}default:{const l='Token with "'+r.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return i}}class zo{constructor(e){U(this,"options");this.options=e||oi}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}U(zo,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var Kt,q0,au,G0;class JS{constructor(...e){ld(this,Kt);U(this,"defaults",bc());U(this,"options",this.setOptions);U(this,"parse",Zi(this,Kt,au).call(this,bt.lex,At.parse));U(this,"parseInline",Zi(this,Kt,au).call(this,bt.lexInline,At.parseInline));U(this,"Parser",At);U(this,"Renderer",Vr);U(this,"TextRenderer",Dc);U(this,"Lexer",bt);U(this,"Tokenizer",Ur);U(this,"Hooks",zo);this.use(...e)}walkTokens(e,n){var o,s;let i=[];for(const r of e)switch(i=i.concat(n.call(this,r)),r.type){case"table":{const l=r;for(const a of l.header)i=i.concat(this.walkTokens(a.tokens,n));for(const a of l.rows)for(const u of a)i=i.concat(this.walkTokens(u.tokens,n));break}case"list":{const l=r;i=i.concat(this.walkTokens(l.items,n));break}default:{const l=r;(s=(o=this.defaults.extensions)==null?void 0:o.childTokens)!=null&&s[l.type]?this.defaults.extensions.childTokens[l.type].forEach(a=>{const u=l[a].flat(1/0);i=i.concat(this.walkTokens(u,n))}):l.tokens&&(i=i.concat(this.walkTokens(l.tokens,n)))}}return i}use(...e){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(i=>{const o={...i};if(o.async=this.defaults.async||o.async||!1,i.extensions&&(i.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){const r=n.renderers[s.name];r?n.renderers[s.name]=function(...l){let a=s.renderer.apply(this,l);return a===!1&&(a=r.apply(this,l)),a}:n.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const r=n[s.level];r?r.unshift(s.tokenizer):n[s.level]=[s.tokenizer],s.start&&(s.level==="block"?n.startBlock?n.startBlock.push(s.start):n.startBlock=[s.start]:s.level==="inline"&&(n.startInline?n.startInline.push(s.start):n.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(n.childTokens[s.name]=s.childTokens)}),o.extensions=n),i.renderer){const s=this.defaults.renderer||new Vr(this.defaults);for(const r in i.renderer){if(!(r in s))throw new Error(`renderer '${r}' does not exist`);if(["options","parser"].includes(r))continue;const l=r;let a=i.renderer[l];i.useNewRenderer||(a=Zi(this,Kt,q0).call(this,a,l,s));const u=s[l];s[l]=(...d)=>{let h=a.apply(s,d);return h===!1&&(h=u.apply(s,d)),h||""}}o.renderer=s}if(i.tokenizer){const s=this.defaults.tokenizer||new Ur(this.defaults);for(const r in i.tokenizer){if(!(r in s))throw new Error(`tokenizer '${r}' does not exist`);if(["options","rules","lexer"].includes(r))continue;const l=r,a=i.tokenizer[l],u=s[l];s[l]=(...d)=>{let h=a.apply(s,d);return h===!1&&(h=u.apply(s,d)),h}}o.tokenizer=s}if(i.hooks){const s=this.defaults.hooks||new zo;for(const r in i.hooks){if(!(r in s))throw new Error(`hook '${r}' does not exist`);if(r==="options")continue;const l=r,a=i.hooks[l],u=s[l];zo.passThroughHooks.has(r)?s[l]=d=>{if(this.defaults.async)return Promise.resolve(a.call(s,d)).then(m=>u.call(s,m));const h=a.call(s,d);return u.call(s,h)}:s[l]=(...d)=>{let h=a.apply(s,d);return h===!1&&(h=u.apply(s,d)),h}}o.hooks=s}if(i.walkTokens){const s=this.defaults.walkTokens,r=i.walkTokens;o.walkTokens=function(l){let a=[];return a.push(r.call(this,l)),s&&(a=a.concat(s.call(this,l))),a}}this.defaults={...this.defaults,...o}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return bt.lex(e,n??this.defaults)}parser(e,n){return At.parse(e,n??this.defaults)}}Kt=new WeakSet,q0=function(e,n,i){switch(n){case"heading":return function(o){return!o.type||o.type!==n?e.apply(this,arguments):e.call(this,i.parser.parseInline(o.tokens),o.depth,vS(i.parser.parseInline(o.tokens,i.parser.textRenderer)))};case"code":return function(o){return!o.type||o.type!==n?e.apply(this,arguments):e.call(this,o.text,o.lang,!!o.escaped)};case"table":return function(o){if(!o.type||o.type!==n)return e.apply(this,arguments);let s="",r="";for(let a=0;a<o.header.length;a++)r+=this.tablecell({text:o.header[a].text,tokens:o.header[a].tokens,header:!0,align:o.align[a]});s+=this.tablerow({text:r});let l="";for(let a=0;a<o.rows.length;a++){const u=o.rows[a];r="";for(let d=0;d<u.length;d++)r+=this.tablecell({text:u[d].text,tokens:u[d].tokens,header:!1,align:o.align[d]});l+=this.tablerow({text:r})}return e.call(this,s,l)};case"blockquote":return function(o){if(!o.type||o.type!==n)return e.apply(this,arguments);const s=this.parser.parse(o.tokens);return e.call(this,s)};case"list":return function(o){if(!o.type||o.type!==n)return e.apply(this,arguments);const s=o.ordered,r=o.start,l=o.loose;let a="";for(let u=0;u<o.items.length;u++){const d=o.items[u],h=d.checked,m=d.task;let g="";if(d.task){const x=this.checkbox({checked:!!h});l?d.tokens.length>0&&d.tokens[0].type==="paragraph"?(d.tokens[0].text=x+" "+d.tokens[0].text,d.tokens[0].tokens&&d.tokens[0].tokens.length>0&&d.tokens[0].tokens[0].type==="text"&&(d.tokens[0].tokens[0].text=x+" "+d.tokens[0].tokens[0].text)):d.tokens.unshift({type:"text",text:x+" "}):g+=x+" "}g+=this.parser.parse(d.tokens,l),a+=this.listitem({type:"list_item",raw:g,text:g,task:m,checked:!!h,loose:l,tokens:d.tokens})}return e.call(this,a,s,r)};case"html":return function(o){return!o.type||o.type!==n?e.apply(this,arguments):e.call(this,o.text,o.block)};case"paragraph":return function(o){return!o.type||o.type!==n?e.apply(this,arguments):e.call(this,this.parser.parseInline(o.tokens))};case"escape":return function(o){return!o.type||o.type!==n?e.apply(this,arguments):e.call(this,o.text)};case"link":return function(o){return!o.type||o.type!==n?e.apply(this,arguments):e.call(this,o.href,o.title,this.parser.parseInline(o.tokens))};case"image":return function(o){return!o.type||o.type!==n?e.apply(this,arguments):e.call(this,o.href,o.title,o.text)};case"strong":return function(o){return!o.type||o.type!==n?e.apply(this,arguments):e.call(this,this.parser.parseInline(o.tokens))};case"em":return function(o){return!o.type||o.type!==n?e.apply(this,arguments):e.call(this,this.parser.parseInline(o.tokens))};case"codespan":return function(o){return!o.type||o.type!==n?e.apply(this,arguments):e.call(this,o.text)};case"del":return function(o){return!o.type||o.type!==n?e.apply(this,arguments):e.call(this,this.parser.parseInline(o.tokens))};case"text":return function(o){return!o.type||o.type!==n?e.apply(this,arguments):e.call(this,o.text)}}return e},au=function(e,n){return(i,o)=>{const s={...o},r={...this.defaults,...s};this.defaults.async===!0&&s.async===!1&&(r.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),r.async=!0);const l=Zi(this,Kt,G0).call(this,!!r.silent,!!r.async);if(typeof i>"u"||i===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof i!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected"));if(r.hooks&&(r.hooks.options=r),r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(i):i).then(a=>e(a,r)).then(a=>r.hooks?r.hooks.processAllTokens(a):a).then(a=>r.walkTokens?Promise.all(this.walkTokens(a,r.walkTokens)).then(()=>a):a).then(a=>n(a,r)).then(a=>r.hooks?r.hooks.postprocess(a):a).catch(l);try{r.hooks&&(i=r.hooks.preprocess(i));let a=e(i,r);r.hooks&&(a=r.hooks.processAllTokens(a)),r.walkTokens&&this.walkTokens(a,r.walkTokens);let u=n(a,r);return r.hooks&&(u=r.hooks.postprocess(u)),u}catch(a){return l(a)}}},G0=function(e,n){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const o="<p>An error occurred:</p><pre>"+Ke(i.message+"",!0)+"</pre>";return n?Promise.resolve(o):o}if(n)return Promise.reject(i);throw i}};const Zn=new JS;function Y(t,e){return Zn.parse(t,e)}Y.options=Y.setOptions=function(t){return Zn.setOptions(t),Y.defaults=Zn.defaults,R0(Y.defaults),Y};Y.getDefaults=bc;Y.defaults=oi;Y.use=function(...t){return Zn.use(...t),Y.defaults=Zn.defaults,R0(Y.defaults),Y};Y.walkTokens=function(t,e){return Zn.walkTokens(t,e)};Y.parseInline=Zn.parseInline;Y.Parser=At;Y.parser=At.parse;Y.Renderer=Vr;Y.TextRenderer=Dc;Y.Lexer=bt;Y.lexer=bt.lex;Y.Tokenizer=Ur;Y.Hooks=zo;Y.parse=Y;Y.options;Y.setOptions;Y.use;Y.walkTokens;Y.parseInline;At.parse;bt.lex;const YS=({assessment:t,score:e,onRetake:n,onBackToHome:i})=>{const o=t.results.find(s=>e>=s.scoreMin&&e<=s.scoreMax)||t.results.sort((s,r)=>s.scoreMin-r.scoreMin)[0];return p.jsx("div",{className:"p-4 md:p-8 text-center animate-fade-in",children:p.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg max-w-2xl mx-auto",children:[p.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-2",children:o.title}),p.jsxs("p",{className:"text-lg text-slate-600 mb-4",children:["Il tuo punteggio: ",p.jsx("span",{className:"font-bold text-sky-600",children:e})]}),p.jsx("div",{className:"prose text-slate-700 text-left my-6 mx-auto",dangerouslySetInnerHTML:{__html:Y.parse(o.summary)}}),p.jsxs("div",{className:"flex justify-center gap-4 mt-8",children:[p.jsx("button",{onClick:n,className:"px-6 py-3 bg-slate-200 text-slate-800 font-semibold rounded-lg hover:bg-slate-300 transition-colors",children:"Ripeti il test"}),p.jsx("button",{onClick:i,className:"px-6 py-3 bg-sky-600 text-white font-semibold rounded-lg hover:bg-sky-700 transition-colors shadow-md",children:"Torna alla Home"})]})]})})},co=(t,e)=>{if(t===0)return null;const n=Gt[e];if(!n)return null;const i=n.questions.length*4;return Math.min(100,Math.round(t/i*100))},KS=t=>{const e=(n,i,o,s,r,l)=>n===null||o===null||r===null?null:Math.round(n*i+o*s+r*l);return{body:e(t.fitness,.5,t.sleep,.3,t.diet,.2),mind:e(t.sleep,.4,t.stress,.5,t.microbiome,.1),emotions:e(t.sleep,.4,t.stress,.5,t.diet,.1)}},Rn={DEPRESSION_HAPPINESS:`
    <h4 class="font-bold text-sky-700 mb-2">ESERCIZI PER LA SALUTE E FELICITA' - Decalogo per la Gestione della Depressione</h4>
    <ol class="list-decimal list-inside space-y-1 text-sm">
        <li><strong>Mindfulness:</strong> Pratica la meditazione mindfulness per 20-30 minuti al giorno.</li>
        <li><strong>Esercizio Fisico:</strong> Fai esercizio fisico regolarmente, almeno 30 minuti al giorno.</li>
        <li><strong>Connettersi con gli Altri:</strong> Trascorri tempo con amici e familiari.</li>
        <li><strong>Pianificazione delle Attivit:</strong> Organizza attivit piacevoli e gratificanti.</li>
        <li><strong>Alimentazione Sana:</strong> Mantieni una dieta equilibrata e nutriente.</li>
        <li><strong>Routine del Sonno:</strong> Segui una routine regolare per il sonno.</li>
        <li><strong>Limitare l'Alcool:</strong> Evita il consumo eccessivo di alcool.</li>
        <li><strong>Diario delle Emozioni:</strong> Scrivi i tuoi pensieri e le tue emozioni ogni giorno.</li>
        <li><strong>Terapia e Supporto:</strong> Se necessario chiedi il supporto di un terapeuta.</li>
        <li><strong>Tecniche di Gestione dello Stress:</strong> Respirazione profonda e rilassamento muscolare.</li>
    </ol>
    <p class="mt-2 text-xs font-semibold">Durata degli Esercizi: 20 gg poi eseguire nuovamente i test.</p>
    `,MINDFULNESS_INSOMNIA:`
    <h4 class="font-bold text-sky-700 mb-2">MINDFULNESS PER GESTIRE L'INSONNIA</h4>
    <p class="text-sm mb-2">La pratica della Mindfulness pu migliorare la qualit del sonno aiutando a calmare la mente prima di dormire. Attraverso la pratica regolare, si impara a osservare i propri pensieri senza esserne travolti.</p>
    <p class="text-sm mb-2">Si consiglia di meditare regolarmente <strong>15-20 minuti al giorno</strong> prima di andare a letto.</p>
    <p class="mt-2 text-xs font-semibold">Durata degli esercizi: 20 gg poi eseguire nuovamente i test.</p>
    `,OSTEOPATHY:`
    <h4 class="font-bold text-sky-700 mb-2">Postura, Stress e Longevit: Osteopatia Strutturale</h4>
    <p class="text-sm mb-2">L'Osteopatia interviene sulle disfunzioni strutturali, migliorando l'allineamento corporeo e prevenendo problemi legati a una postura scorretta. Il trattamento pu agire sulla componente neurovegetativa e sullo stress.</p>
    <ul class="list-disc list-inside space-y-1 text-sm">
        <li>Miglioramento mobilit e respirazione</li>
        <li>Riduzione tensioni muscolari da stress</li>
        <li>Massaggi terapeutici per rilascio endorfine</li>
    </ul>
    <p class="mt-2 text-xs font-semibold">Durata del trattamento: 10 sedute poi eseguire nuovamente i test.</p>
    `,BINAURAL:`
    <h4 class="font-bold text-sky-700 mb-2">Terapia Binaurale per l'Ansia</h4>
    <p class="text-sm mb-2">Si consiglia terapia 20-30 minuti con <strong>Onde Alpha () + Onde Delta ()</strong>.</p>
    <ul class="list-disc list-inside space-y-1 text-sm">
        <li><strong>396 Hz:</strong> Libera dal senso di colpa e ansia</li>
        <li><strong>417 Hz:</strong> Cambiamento, lasciare andare il passato</li>
        <li><strong>528 Hz:</strong> Riparazione e armonizzazione del DNA</li>
    </ul>
    <p class="mt-2 text-xs font-semibold">Durata della terapia: 20 gg poi eseguire nuovamente i test.</p>
    `,SAUNA:`
    <h4 class="font-bold text-sky-700 mb-2">SAUNA INFRAROSSI</h4>
    <p class="text-sm mb-2">La sauna infrarossi produce un effettivo e localizzato dimagrimento (sino a 900 Kcal a seduta) ed elimina tossine e metalli pesanti.</p>
    <ul class="list-disc list-inside space-y-1 text-sm">
        <li>Migliora la pelle (pi luminosa ed elastica)</li>
        <li>Favorisce il sonno e la circolazione</li>
        <li>Ottimo prima di massaggi e trattamenti estetici</li>
    </ul>
    <p class="mt-2 text-xs font-semibold">Durata: 10 sedute poi eseguire nuovamente i test.</p>
    `,DETOX:`
    <h4 class="font-bold text-sky-700 mb-2">TERAPIA DETOX - Tisane Naturali</h4>
    <ul class="list-disc list-inside space-y-1 text-sm">
        <li><strong>Tarassaco:</strong> azione depurativa (radice secca, scorza limone, zenzero).</li>
        <li><strong>T Verde e Ortica:</strong> azione antiossidante.</li>
        <li><strong>Finocchio e Zenzero:</strong> azione digestiva.</li>
        <li><strong>Zenzero e Curcuma:</strong> azione antinfiammatoria.</li>
    </ul>
    <p class="mt-2 text-xs font-semibold">Durata della terapia Detox: 4 settimane poi eseguire nuovamente i test.</p>
    `,BIOFEEDBACK:`
    <h4 class="font-bold text-sky-700 mb-2">COERENZA CARDIACA E HRV</h4>
    <p class="text-sm mb-2">Per combattere stress, ansia e insonnia,  fondamentale monitorare e migliorare la variabilit della frequenza cardiaca (HRV).</p>
    <ul class="list-disc list-inside space-y-1 text-sm">
        <li>Utilizza lo strumento di <strong>Coerenza Cardiaca</strong> in app quotidianamente.</li>
        <li>Valuta esami clinici specifici come <strong>Holter Cardiaco/Pressorio</strong> o <strong>ECG</strong> disponibili in farmacia.</li>
    </ul>
    `},QS=(t,e)=>{const n=[];e.stress!==null&&e.stress<50&&n.push({title:"Gestione Ansia & Stress",status:"critical",description:"Livelli di stress elevati. Consigliamo di agire subito monitorando il cuore (HRV) e praticando il rilassamento.",detailedContent:Rn.BIOFEEDBACK+"<br/>"+Rn.BINAURAL,therapies:["Coerenza Cardiaca (vedi app)","Holter Cardiaco/Pressorio","Test Cortisolo Salivare"],actionLink:"breathing"}),e.sleep!==null&&e.sleep<50&&n.push({title:"Qualit del Sonno",status:"critical",description:"Il riposo notturno non  rigenerante. Oltre alla mindfulness, valuta l'impatto fisiologico dello stress.",detailedContent:Rn.MINDFULNESS_INSOMNIA+"<br/><p class='text-sm mt-2'>Consigliato anche check <strong>HRV e Coerenza Cardiaca</strong>.</p>",therapies:["Polisonnografia (prenota in analisi)","Mindfulness serale","Coerenza Cardiaca"],actionLink:"analysisQuote"}),(e.diet!==null&&e.diet<50||e.microbiome!==null&&e.microbiome<50)&&n.push({title:"Detox & Nutrizione",status:"moderate",description:"Il sistema digerente necessita di depurazione. Utile indagare intolleranze.",detailedContent:Rn.DETOX,therapies:["Test Intolleranze/Microbioma","Tisane depurative","Piano nutrizionale"],actionLink:"analysisQuote"}),e.fitness!==null&&e.fitness<40&&n.push({title:"Struttura & Postura",status:"moderate",description:"Possibili tensioni muscolari. Un check-up posturale pu prevenire dolori cronici.",detailedContent:Rn.OSTEOPATHY,therapies:["Valutazione Osteopatica","Massaggi decontratturanti","Esercizi posturali"],actionLink:"spaBookings"}),t.mind!==null&&t.mind<50&&n.push({title:"Riequilibrio Emozionale",status:"critical",description:"Strategie per ritrovare la serenit. La sauna infrarossi pu aiutare il rilascio di tensioni profonde.",detailedContent:Rn.DEPRESSION_HAPPINESS+"<br/>"+Rn.SAUNA,therapies:["Supporto psicologico","Sauna Infrarossi","Percorsi SPA Relax"],actionLink:"spaBookings"});const i=t.body!==null&&t.mind!==null?(t.body+t.mind)/2:null;return i!==null&&i>=60&&n.length===0&&n.push({title:"Mantenimento Benessere",status:"optimal",description:"Il tuo stato di salute  buono. Continua con protocolli di mantenimento per la longevit.",therapies:["Massaggi di mantenimento","Check-up annuale (Analisi sangue)","Trattamenti viso/corpo prevenzione"],actionLink:"spaBookings"}),n};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function xs(t){return t+.5|0}const un=(t,e,n)=>Math.max(Math.min(t,n),e);function wo(t){return un(xs(t*2.55),0,255)}function wn(t){return un(xs(t*255),0,255)}function Ut(t){return un(xs(t/2.55)/100,0,1)}function Tf(t){return un(xs(t*100),0,100)}const st={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},uu=[..."0123456789ABCDEF"],XS=t=>uu[t&15],ZS=t=>uu[(t&240)>>4]+uu[t&15],Fs=t=>(t&240)>>4===(t&15),ew=t=>Fs(t.r)&&Fs(t.g)&&Fs(t.b)&&Fs(t.a);function tw(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&st[t[1]]*17,g:255&st[t[2]]*17,b:255&st[t[3]]*17,a:e===5?st[t[4]]*17:255}:(e===7||e===9)&&(n={r:st[t[1]]<<4|st[t[2]],g:st[t[3]]<<4|st[t[4]],b:st[t[5]]<<4|st[t[6]],a:e===9?st[t[7]]<<4|st[t[8]]:255})),n}const nw=(t,e)=>t<255?e(t):"";function iw(t){var e=ew(t)?XS:ZS;return t?"#"+e(t.r)+e(t.g)+e(t.b)+nw(t.a,e):void 0}const ow=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function $0(t,e,n){const i=e*Math.min(n,1-n),o=(s,r=(s+t/30)%12)=>n-i*Math.max(Math.min(r-3,9-r,1),-1);return[o(0),o(8),o(4)]}function sw(t,e,n){const i=(o,s=(o+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function rw(t,e,n){const i=$0(t,1,.5);let o;for(e+n>1&&(o=1/(e+n),e*=o,n*=o),o=0;o<3;o++)i[o]*=1-e-n,i[o]+=e;return i}function lw(t,e,n,i,o){return t===o?(e-n)/i+(e<n?6:0):e===o?(n-t)/i+2:(t-e)/i+4}function Lc(t){const n=t.r/255,i=t.g/255,o=t.b/255,s=Math.max(n,i,o),r=Math.min(n,i,o),l=(s+r)/2;let a,u,d;return s!==r&&(d=s-r,u=l>.5?d/(2-s-r):d/(s+r),a=lw(n,i,o,d,s),a=a*60+.5),[a|0,u||0,l]}function zc(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(wn)}function Fc(t,e,n){return zc($0,t,e,n)}function aw(t,e,n){return zc(rw,t,e,n)}function uw(t,e,n){return zc(sw,t,e,n)}function W0(t){return(t%360+360)%360}function cw(t){const e=ow.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?wo(+e[5]):wn(+e[5]));const o=W0(+e[2]),s=+e[3]/100,r=+e[4]/100;return e[1]==="hwb"?i=aw(o,s,r):e[1]==="hsv"?i=uw(o,s,r):i=Fc(o,s,r),{r:i[0],g:i[1],b:i[2],a:n}}function dw(t,e){var n=Lc(t);n[0]=W0(n[0]+e),n=Fc(n),t.r=n[0],t.g=n[1],t.b=n[2]}function fw(t){if(!t)return;const e=Lc(t),n=e[0],i=Tf(e[1]),o=Tf(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${o}%, ${Ut(t.a)})`:`hsl(${n}, ${i}%, ${o}%)`}const kf={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ef={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function pw(){const t={},e=Object.keys(Ef),n=Object.keys(kf);let i,o,s,r,l;for(i=0;i<e.length;i++){for(r=l=e[i],o=0;o<n.length;o++)s=n[o],l=l.replace(s,kf[s]);s=parseInt(Ef[r],16),t[l]=[s>>16&255,s>>8&255,s&255]}return t}let Us;function hw(t){Us||(Us=pw(),Us.transparent=[0,0,0,0]);const e=Us[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const mw=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function gw(t){const e=mw.exec(t);let n=255,i,o,s;if(e){if(e[7]!==i){const r=+e[7];n=e[8]?wo(r):un(r*255,0,255)}return i=+e[1],o=+e[3],s=+e[5],i=255&(e[2]?wo(i):un(i,0,255)),o=255&(e[4]?wo(o):un(o,0,255)),s=255&(e[6]?wo(s):un(s,0,255)),{r:i,g:o,b:s,a:n}}}function xw(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ut(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const ia=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,li=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function vw(t,e,n){const i=li(Ut(t.r)),o=li(Ut(t.g)),s=li(Ut(t.b));return{r:wn(ia(i+n*(li(Ut(e.r))-i))),g:wn(ia(o+n*(li(Ut(e.g))-o))),b:wn(ia(s+n*(li(Ut(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Bs(t,e,n){if(t){let i=Lc(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=Fc(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function j0(t,e){return t&&Object.assign(e||{},t)}function If(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=wn(t[3]))):(e=j0(t,{r:0,g:0,b:0,a:1}),e.a=wn(e.a)),e}function yw(t){return t.charAt(0)==="r"?gw(t):cw(t)}class rs{constructor(e){if(e instanceof rs)return e;const n=typeof e;let i;n==="object"?i=If(e):n==="string"&&(i=tw(e)||hw(e)||yw(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=j0(this._rgb);return e&&(e.a=Ut(e.a)),e}set rgb(e){this._rgb=If(e)}rgbString(){return this._valid?xw(this._rgb):void 0}hexString(){return this._valid?iw(this._rgb):void 0}hslString(){return this._valid?fw(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,o=e.rgb;let s;const r=n===s?.5:n,l=2*r-1,a=i.a-o.a,u=((l*a===-1?l:(l+a)/(1+l*a))+1)/2;s=1-u,i.r=255&u*i.r+s*o.r+.5,i.g=255&u*i.g+s*o.g+.5,i.b=255&u*i.b+s*o.b+.5,i.a=r*i.a+(1-r)*o.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=vw(this._rgb,e._rgb,n)),this}clone(){return new rs(this.rgb)}alpha(e){return this._rgb.a=wn(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=xs(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Bs(this._rgb,2,e),this}darken(e){return Bs(this._rgb,2,-e),this}saturate(e){return Bs(this._rgb,1,e),this}desaturate(e){return Bs(this._rgb,1,-e),this}rotate(e){return dw(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Rt(){}const _w=(()=>{let t=0;return()=>t++})();function se(t){return t==null}function pe(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function W(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Me(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ct(t,e){return Me(t)?t:e}function $(t,e){return typeof t>"u"?e:t}const Sw=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ee(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function K(t,e,n,i){let o,s,r;if(pe(t))for(s=t.length,o=0;o<s;o++)e.call(n,t[o],o);else if(W(t))for(r=Object.keys(t),s=r.length,o=0;o<s;o++)e.call(n,t[r[o]],r[o])}function Hr(t,e){let n,i,o,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(o=t[n],s=e[n],o.datasetIndex!==s.datasetIndex||o.index!==s.index)return!1;return!0}function Or(t){if(pe(t))return t.map(Or);if(W(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let o=0;for(;o<i;++o)e[n[o]]=Or(t[n[o]]);return e}return t}function J0(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function ww(t,e,n,i){if(!J0(t))return;const o=e[t],s=n[t];W(o)&&W(s)?ls(o,s,i):e[t]=Or(s)}function ls(t,e,n){const i=pe(e)?e:[e],o=i.length;if(!W(t))return t;n=n||{};const s=n.merger||ww;let r;for(let l=0;l<o;++l){if(r=i[l],!W(r))continue;const a=Object.keys(r);for(let u=0,d=a.length;u<d;++u)s(a[u],t,r,n)}return t}function Fo(t,e){return ls(t,e,{merger:Cw})}function Cw(t,e,n){if(!J0(t))return;const i=e[t],o=n[t];W(i)&&W(o)?Fo(i,o):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Or(o))}const bf={"":t=>t,x:t=>t.x,y:t=>t.y};function Tw(t){const e=t.split("."),n=[];let i="";for(const o of e)i+=o,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function kw(t){const e=Tw(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function as(t,e){return(bf[e]||(bf[e]=kw(e)))(t)}function Uc(t){return t.charAt(0).toUpperCase()+t.slice(1)}const qr=t=>typeof t<"u",En=t=>typeof t=="function",Af=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function Ew(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const we=Math.PI,tt=2*we,Iw=tt+we,Gr=Number.POSITIVE_INFINITY,bw=we/180,Ze=we/2,Dn=we/4,Nf=we*2/3,Y0=Math.log10,Hi=Math.sign;function Uo(t,e,n){return Math.abs(t-e)<n}function Pf(t){const e=Math.round(t);t=Uo(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Y0(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function Aw(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((o,s)=>o-s).pop(),e}function Nw(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function $r(t){return!Nw(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Pw(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Mw(t,e,n){let i,o,s;for(i=0,o=t.length;i<o;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Gn(t){return t*(we/180)}function Bc(t){return t*(180/we)}function Mf(t){if(!Me(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Rw(t,e){const n=e.x-t.x,i=e.y-t.y,o=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*we&&(s+=tt),{angle:s,distance:o}}function cu(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Dw(t,e){return(t-e+Iw)%tt-we}function Qe(t){return(t%tt+tt)%tt}function K0(t,e,n,i){const o=Qe(t),s=Qe(e),r=Qe(n),l=Qe(s-o),a=Qe(r-o),u=Qe(o-s),d=Qe(o-r);return o===s||o===r||i&&s===r||l>a&&u<d}function Ht(t,e,n){return Math.max(e,Math.min(n,t))}function Lw(t){return Ht(t,-32768,32767)}function _i(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function Vc(t,e,n){n=n||(r=>t[r]<e);let i=t.length-1,o=0,s;for(;i-o>1;)s=o+i>>1,n(s)?o=s:i=s;return{lo:o,hi:i}}const du=(t,e,n,i)=>Vc(t,n,i?o=>{const s=t[o][e];return s<n||s===n&&t[o+1][e]===n}:o=>t[o][e]<n),zw=(t,e,n)=>Vc(t,n,i=>t[i][e]>=n);function Fw(t,e,n){let i=0,o=t.length;for(;i<o&&t[i]<e;)i++;for(;o>i&&t[o-1]>n;)o--;return i>0||o<t.length?t.slice(i,o):t}const Q0=["push","pop","shift","splice","unshift"];function Uw(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Q0.forEach(n=>{const i="_onData"+Uc(n),o=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const r=o.apply(this,s);return t._chartjs.listeners.forEach(l=>{typeof l[i]=="function"&&l[i](...s)}),r}})})}function Rf(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,o=i.indexOf(e);o!==-1&&i.splice(o,1),!(i.length>0)&&(Q0.forEach(s=>{delete t[s]}),delete t._chartjs)}function Bw(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const X0=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Z0(t,e){let n=[],i=!1;return function(...o){n=o,i||(i=!0,X0.call(window,()=>{i=!1,t.apply(e,n)}))}}function Vw(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const ex=t=>t==="start"?"left":t==="end"?"right":"center",je=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,Hw=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e,Vs=t=>t===0||t===1,Df=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*tt/n)),Lf=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*tt/n)+1,Bo={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ze)+1,easeOutSine:t=>Math.sin(t*Ze),easeInOutSine:t=>-.5*(Math.cos(we*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Vs(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Vs(t)?t:Df(t,.075,.3),easeOutElastic:t=>Vs(t)?t:Lf(t,.075,.3),easeInOutElastic(t){return Vs(t)?t:t<.5?.5*Df(t*2,.1125,.45):.5+.5*Lf(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Bo.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Bo.easeInBounce(t*2)*.5:Bo.easeOutBounce(t*2-1)*.5+.5};function Hc(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function zf(t){return Hc(t)?t:new rs(t)}function oa(t){return Hc(t)?t:new rs(t).saturate(.5).darken(.1).hexString()}const Ow=["x","y","borderWidth","radius","tension"],qw=["color","borderColor","backgroundColor"];function Gw(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:qw},numbers:{type:"number",properties:Ow}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function $w(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Ff=new Map;function Ww(t,e){e=e||{};const n=t+JSON.stringify(e);let i=Ff.get(n);return i||(i=new Intl.NumberFormat(t,e),Ff.set(n,i)),i}function tx(t,e,n){return Ww(e,n).format(t)}const jw={values(t){return pe(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let o,s=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(o="scientific"),s=Jw(t,n)}const r=Y0(Math.abs(s)),l=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),a={notation:o,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(a,this.options.ticks.format),tx(t,i,a)}};function Jw(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var nx={formatters:jw};function Yw(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:nx.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ei=Object.create(null),fu=Object.create(null);function Vo(t,e){if(!e)return t;const n=e.split(".");for(let i=0,o=n.length;i<o;++i){const s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function sa(t,e,n){return typeof e=="string"?ls(Vo(t,e),n):ls(Vo(t,""),e)}class Kw{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,o)=>oa(o.backgroundColor),this.hoverBorderColor=(i,o)=>oa(o.borderColor),this.hoverColor=(i,o)=>oa(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return sa(this,e,n)}get(e){return Vo(this,e)}describe(e,n){return sa(fu,e,n)}override(e,n){return sa(ei,e,n)}route(e,n,i,o){const s=Vo(this,e),r=Vo(this,i),l="_"+n;Object.defineProperties(s,{[l]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const a=this[l],u=r[o];return W(a)?Object.assign({},u,a):$(a,u)},set(a){this[l]=a}}})}apply(e){e.forEach(n=>n(this))}}var me=new Kw({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Gw,$w,Yw]);function Qw(t){return!t||se(t.size)||se(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Wr(t,e,n,i,o){let s=e[o];return s||(s=e[o]=t.measureText(o).width,n.push(o)),s>i&&(i=s),i}function Xw(t,e,n,i){i=i||{};let o=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(o=i.data={},s=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let r=0;const l=n.length;let a,u,d,h,m;for(a=0;a<l;a++)if(h=n[a],h!=null&&!pe(h))r=Wr(t,o,s,r,h);else if(pe(h))for(u=0,d=h.length;u<d;u++)m=h[u],m!=null&&!pe(m)&&(r=Wr(t,o,s,r,m));t.restore();const g=s.length/2;if(g>n.length){for(a=0;a<g;a++)delete o[s[a]];s.splice(0,g)}return r}function Ln(t,e,n){const i=t.currentDevicePixelRatio,o=n!==0?Math.max(n/2,.5):0;return Math.round((e-o)*i)/i+o}function Uf(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function pu(t,e,n,i){ix(t,e,n,i,null)}function ix(t,e,n,i,o){let s,r,l,a,u,d,h,m;const g=e.pointStyle,x=e.rotation,v=e.radius;let w=(x||0)*bw;if(g&&typeof g=="object"&&(s=g.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(w),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(v)||v<=0)){switch(t.beginPath(),g){default:o?t.ellipse(n,i,o/2,v,0,0,tt):t.arc(n,i,v,0,tt),t.closePath();break;case"triangle":d=o?o/2:v,t.moveTo(n+Math.sin(w)*d,i-Math.cos(w)*v),w+=Nf,t.lineTo(n+Math.sin(w)*d,i-Math.cos(w)*v),w+=Nf,t.lineTo(n+Math.sin(w)*d,i-Math.cos(w)*v),t.closePath();break;case"rectRounded":u=v*.516,a=v-u,r=Math.cos(w+Dn)*a,h=Math.cos(w+Dn)*(o?o/2-u:a),l=Math.sin(w+Dn)*a,m=Math.sin(w+Dn)*(o?o/2-u:a),t.arc(n-h,i-l,u,w-we,w-Ze),t.arc(n+m,i-r,u,w-Ze,w),t.arc(n+h,i+l,u,w,w+Ze),t.arc(n-m,i+r,u,w+Ze,w+we),t.closePath();break;case"rect":if(!x){a=Math.SQRT1_2*v,d=o?o/2:a,t.rect(n-d,i-a,2*d,2*a);break}w+=Dn;case"rectRot":h=Math.cos(w)*(o?o/2:v),r=Math.cos(w)*v,l=Math.sin(w)*v,m=Math.sin(w)*(o?o/2:v),t.moveTo(n-h,i-l),t.lineTo(n+m,i-r),t.lineTo(n+h,i+l),t.lineTo(n-m,i+r),t.closePath();break;case"crossRot":w+=Dn;case"cross":h=Math.cos(w)*(o?o/2:v),r=Math.cos(w)*v,l=Math.sin(w)*v,m=Math.sin(w)*(o?o/2:v),t.moveTo(n-h,i-l),t.lineTo(n+h,i+l),t.moveTo(n+m,i-r),t.lineTo(n-m,i+r);break;case"star":h=Math.cos(w)*(o?o/2:v),r=Math.cos(w)*v,l=Math.sin(w)*v,m=Math.sin(w)*(o?o/2:v),t.moveTo(n-h,i-l),t.lineTo(n+h,i+l),t.moveTo(n+m,i-r),t.lineTo(n-m,i+r),w+=Dn,h=Math.cos(w)*(o?o/2:v),r=Math.cos(w)*v,l=Math.sin(w)*v,m=Math.sin(w)*(o?o/2:v),t.moveTo(n-h,i-l),t.lineTo(n+h,i+l),t.moveTo(n+m,i-r),t.lineTo(n-m,i+r);break;case"line":r=o?o/2:Math.cos(w)*v,l=Math.sin(w)*v,t.moveTo(n-r,i-l),t.lineTo(n+r,i+l);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(w)*(o?o/2:v),i+Math.sin(w)*v);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ot(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function yl(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function _l(t){t.restore()}function Zw(t,e,n,i,o){if(!e)return t.lineTo(n.x,n.y);if(o==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else o==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function eC(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function tC(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),se(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function nC(t,e,n,i,o){if(o.strikethrough||o.underline){const s=t.measureText(i),r=e-s.actualBoundingBoxLeft,l=e+s.actualBoundingBoxRight,a=n-s.actualBoundingBoxAscent,u=n+s.actualBoundingBoxDescent,d=o.strikethrough?(a+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=o.decorationWidth||2,t.moveTo(r,d),t.lineTo(l,d),t.stroke()}}function iC(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Oi(t,e,n,i,o,s={}){const r=pe(e)?e:[e],l=s.strokeWidth>0&&s.strokeColor!=="";let a,u;for(t.save(),t.font=o.string,tC(t,s),a=0;a<r.length;++a)u=r[a],s.backdrop&&iC(t,s.backdrop),l&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),se(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(u,n,i,s.maxWidth)),t.fillText(u,n,i,s.maxWidth),nC(t,n,i,u,s),i+=Number(o.lineHeight);t.restore()}function jr(t,e){const{x:n,y:i,w:o,h:s,radius:r}=e;t.arc(n+r.topLeft,i+r.topLeft,r.topLeft,1.5*we,we,!0),t.lineTo(n,i+s-r.bottomLeft),t.arc(n+r.bottomLeft,i+s-r.bottomLeft,r.bottomLeft,we,Ze,!0),t.lineTo(n+o-r.bottomRight,i+s),t.arc(n+o-r.bottomRight,i+s-r.bottomRight,r.bottomRight,Ze,0,!0),t.lineTo(n+o,i+r.topRight),t.arc(n+o-r.topRight,i+r.topRight,r.topRight,0,-Ze,!0),t.lineTo(n+r.topLeft,i)}const oC=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,sC=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function rC(t,e){const n=(""+t).match(oC);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const lC=t=>+t||0;function ox(t,e){const n={},i=W(e),o=i?Object.keys(e):e,s=W(t)?i?r=>$(t[r],t[e[r]]):r=>t[r]:()=>t;for(const r of o)n[r]=lC(s(r));return n}function aC(t){return ox(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ai(t){return ox(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Fe(t){const e=aC(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Te(t,e){t=t||{},e=e||me.font;let n=$(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=$(t.style,e.style);i&&!(""+i).match(sC)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const o={family:$(t.family,e.family),lineHeight:rC($(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:$(t.weight,e.weight),string:""};return o.string=Qw(o),o}function Hs(t,e,n,i){let o,s,r;for(o=0,s=t.length;o<s;++o)if(r=t[o],r!==void 0&&r!==void 0)return r}function uC(t,e,n){const{min:i,max:o}=t,s=Sw(e,(o-i)/2),r=(l,a)=>n&&l===0?0:l+a;return{min:r(i,-Math.abs(s)),max:r(o,s)}}function Pn(t,e){return Object.assign(Object.create(t),e)}function Oc(t,e=[""],n,i,o=()=>t[0]){const s=n||t;typeof i>"u"&&(i=ax("_fallback",t));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:o,override:l=>Oc([l,...t],e,s,i)};return new Proxy(r,{deleteProperty(l,a){return delete l[a],delete l._keys,delete t[0][a],!0},get(l,a){return rx(l,a,()=>xC(a,e,t,l))},getOwnPropertyDescriptor(l,a){return Reflect.getOwnPropertyDescriptor(l._scopes[0],a)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,a){return Vf(l).includes(a)},ownKeys(l){return Vf(l)},set(l,a,u){const d=l._storage||(l._storage=o());return l[a]=d[a]=u,delete l._keys,!0}})}function qi(t,e,n,i){const o={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:sx(t,i),setContext:s=>qi(t,s,n,i),override:s=>qi(t.override(s),e,n,i)};return new Proxy(o,{deleteProperty(s,r){return delete s[r],delete t[r],!0},get(s,r,l){return rx(s,r,()=>dC(s,r,l))},getOwnPropertyDescriptor(s,r){return s._descriptors.allKeys?Reflect.has(t,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,r)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,r){return Reflect.has(t,r)},ownKeys(){return Reflect.ownKeys(t)},set(s,r,l){return t[r]=l,delete s[r],!0}})}function sx(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:o=e.allKeys}=t;return{allKeys:o,scriptable:n,indexable:i,isScriptable:En(n)?n:()=>n,isIndexable:En(i)?i:()=>i}}const cC=(t,e)=>t?t+Uc(e):e,qc=(t,e)=>W(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function rx(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function dC(t,e,n){const{_proxy:i,_context:o,_subProxy:s,_descriptors:r}=t;let l=i[e];return En(l)&&r.isScriptable(e)&&(l=fC(e,l,t,n)),pe(l)&&l.length&&(l=pC(e,l,t,r.isIndexable)),qc(e,l)&&(l=qi(l,o,s&&s[e],r)),l}function fC(t,e,n,i){const{_proxy:o,_context:s,_subProxy:r,_stack:l}=n;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let a=e(s,r||i);return l.delete(t),qc(t,a)&&(a=Gc(o._scopes,o,t,a)),a}function pC(t,e,n,i){const{_proxy:o,_context:s,_subProxy:r,_descriptors:l}=n;if(typeof s.index<"u"&&i(t))return e[s.index%e.length];if(W(e[0])){const a=e,u=o._scopes.filter(d=>d!==a);e=[];for(const d of a){const h=Gc(u,o,t,d);e.push(qi(h,s,r&&r[t],l))}}return e}function lx(t,e,n){return En(t)?t(e,n):t}const hC=(t,e)=>t===!0?e:typeof t=="string"?as(e,t):void 0;function mC(t,e,n,i,o){for(const s of e){const r=hC(n,s);if(r){t.add(r);const l=lx(r._fallback,n,o);if(typeof l<"u"&&l!==n&&l!==i)return l}else if(r===!1&&typeof i<"u"&&n!==i)return null}return!1}function Gc(t,e,n,i){const o=e._rootScopes,s=lx(e._fallback,n,i),r=[...t,...o],l=new Set;l.add(i);let a=Bf(l,r,n,s||n,i);return a===null||typeof s<"u"&&s!==n&&(a=Bf(l,r,s,a,i),a===null)?!1:Oc(Array.from(l),[""],o,s,()=>gC(e,n,i))}function Bf(t,e,n,i,o){for(;n;)n=mC(t,e,n,i,o);return n}function gC(t,e,n){const i=t._getTarget();e in i||(i[e]={});const o=i[e];return pe(o)&&W(n)?n:o||{}}function xC(t,e,n,i){let o;for(const s of e)if(o=ax(cC(s,t),n),typeof o<"u")return qc(t,o)?Gc(n,i,t,o):o}function ax(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function Vf(t){let e=t._keys;return e||(e=t._keys=vC(t._scopes)),e}function vC(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(o=>!o.startsWith("_")))e.add(i);return Array.from(e)}function yC(t,e,n,i){const{iScale:o}=t,{key:s="r"}=this._parsing,r=new Array(i);let l,a,u,d;for(l=0,a=i;l<a;++l)u=l+n,d=e[u],r[l]={r:o.parse(as(d,s),u)};return r}const _C=Number.EPSILON||1e-14,Gi=(t,e)=>e<t.length&&!t[e].skip&&t[e],ux=t=>t==="x"?"y":"x";function SC(t,e,n,i){const o=t.skip?e:t,s=e,r=n.skip?e:n,l=cu(s,o),a=cu(r,s);let u=l/(l+a),d=a/(l+a);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const h=i*u,m=i*d;return{previous:{x:s.x-h*(r.x-o.x),y:s.y-h*(r.y-o.y)},next:{x:s.x+m*(r.x-o.x),y:s.y+m*(r.y-o.y)}}}function wC(t,e,n){const i=t.length;let o,s,r,l,a,u=Gi(t,0);for(let d=0;d<i-1;++d)if(a=u,u=Gi(t,d+1),!(!a||!u)){if(Uo(e[d],0,_C)){n[d]=n[d+1]=0;continue}o=n[d]/e[d],s=n[d+1]/e[d],l=Math.pow(o,2)+Math.pow(s,2),!(l<=9)&&(r=3/Math.sqrt(l),n[d]=o*r*e[d],n[d+1]=s*r*e[d])}}function CC(t,e,n="x"){const i=ux(n),o=t.length;let s,r,l,a=Gi(t,0);for(let u=0;u<o;++u){if(r=l,l=a,a=Gi(t,u+1),!l)continue;const d=l[n],h=l[i];r&&(s=(d-r[n])/3,l[`cp1${n}`]=d-s,l[`cp1${i}`]=h-s*e[u]),a&&(s=(a[n]-d)/3,l[`cp2${n}`]=d+s,l[`cp2${i}`]=h+s*e[u])}}function TC(t,e="x"){const n=ux(e),i=t.length,o=Array(i).fill(0),s=Array(i);let r,l,a,u=Gi(t,0);for(r=0;r<i;++r)if(l=a,a=u,u=Gi(t,r+1),!!a){if(u){const d=u[e]-a[e];o[r]=d!==0?(u[n]-a[n])/d:0}s[r]=l?u?Hi(o[r-1])!==Hi(o[r])?0:(o[r-1]+o[r])/2:o[r-1]:o[r]}wC(t,o,s),CC(t,s,e)}function Os(t,e,n){return Math.max(Math.min(t,n),e)}function kC(t,e){let n,i,o,s,r,l=Ot(t[0],e);for(n=0,i=t.length;n<i;++n)r=s,s=l,l=n<i-1&&Ot(t[n+1],e),s&&(o=t[n],r&&(o.cp1x=Os(o.cp1x,e.left,e.right),o.cp1y=Os(o.cp1y,e.top,e.bottom)),l&&(o.cp2x=Os(o.cp2x,e.left,e.right),o.cp2y=Os(o.cp2y,e.top,e.bottom)))}function EC(t,e,n,i,o){let s,r,l,a;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")TC(t,o);else{let u=i?t[t.length-1]:t[0];for(s=0,r=t.length;s<r;++s)l=t[s],a=SC(u,l,t[Math.min(s+1,r-(i?0:1))%r],e.tension),l.cp1x=a.previous.x,l.cp1y=a.previous.y,l.cp2x=a.next.x,l.cp2y=a.next.y,u=l}e.capBezierPoints&&kC(t,n)}function $c(){return typeof window<"u"&&typeof document<"u"}function Wc(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Jr(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Sl=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function IC(t,e){return Sl(t).getPropertyValue(e)}const bC=["top","right","bottom","left"];function jn(t,e,n){const i={};n=n?"-"+n:"";for(let o=0;o<4;o++){const s=bC[o];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const AC=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function NC(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:o,offsetY:s}=i;let r=!1,l,a;if(AC(o,s,t.target))l=o,a=s;else{const u=e.getBoundingClientRect();l=i.clientX-u.left,a=i.clientY-u.top,r=!0}return{x:l,y:a,box:r}}function Bn(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,o=Sl(n),s=o.boxSizing==="border-box",r=jn(o,"padding"),l=jn(o,"border","width"),{x:a,y:u,box:d}=NC(t,n),h=r.left+(d&&l.left),m=r.top+(d&&l.top);let{width:g,height:x}=e;return s&&(g-=r.width+l.width,x-=r.height+l.height),{x:Math.round((a-h)/g*n.width/i),y:Math.round((u-m)/x*n.height/i)}}function PC(t,e,n){let i,o;if(e===void 0||n===void 0){const s=t&&Wc(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const r=s.getBoundingClientRect(),l=Sl(s),a=jn(l,"border","width"),u=jn(l,"padding");e=r.width-u.width-a.width,n=r.height-u.height-a.height,i=Jr(l.maxWidth,s,"clientWidth"),o=Jr(l.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||Gr,maxHeight:o||Gr}}const cn=t=>Math.round(t*10)/10;function MC(t,e,n,i){const o=Sl(t),s=jn(o,"margin"),r=Jr(o.maxWidth,t,"clientWidth")||Gr,l=Jr(o.maxHeight,t,"clientHeight")||Gr,a=PC(t,e,n);let{width:u,height:d}=a;if(o.boxSizing==="content-box"){const m=jn(o,"border","width"),g=jn(o,"padding");u-=g.width+m.width,d-=g.height+m.height}return u=Math.max(0,u-s.width),d=Math.max(0,i?u/i:d-s.height),u=cn(Math.min(u,r,a.maxWidth)),d=cn(Math.min(d,l,a.maxHeight)),u&&!d&&(d=cn(u/2)),(e!==void 0||n!==void 0)&&i&&a.height&&d>a.height&&(d=a.height,u=cn(Math.floor(d*i))),{width:u,height:d}}function Hf(t,e,n){const i=e||1,o=cn(t.height*i),s=cn(t.width*i);t.height=cn(t.height),t.width=cn(t.width);const r=t.canvas;return r.style&&(n||!r.style.height&&!r.style.width)&&(r.style.height=`${t.height}px`,r.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||r.height!==o||r.width!==s?(t.currentDevicePixelRatio=i,r.height=o,r.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const RC=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};$c()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Of(t,e){const n=IC(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Vn(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function DC(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function LC(t,e,n,i){const o={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},r=Vn(t,o,n),l=Vn(o,s,n),a=Vn(s,e,n),u=Vn(r,l,n),d=Vn(l,a,n);return Vn(u,d,n)}const zC=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},FC=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Ni(t,e,n){return t?zC(e,n):FC()}function cx(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function dx(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function fx(t){return t==="angle"?{between:K0,compare:Dw,normalize:Qe}:{between:_i,compare:(e,n)=>e-n,normalize:e=>e}}function qf({start:t,end:e,count:n,loop:i,style:o}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:o}}function UC(t,e,n){const{property:i,start:o,end:s}=n,{between:r,normalize:l}=fx(i),a=e.length;let{start:u,end:d,loop:h}=t,m,g;if(h){for(u+=a,d+=a,m=0,g=a;m<g&&r(l(e[u%a][i]),o,s);++m)u--,d--;u%=a,d%=a}return d<u&&(d+=a),{start:u,end:d,loop:h,style:t.style}}function px(t,e,n){if(!n)return[t];const{property:i,start:o,end:s}=n,r=e.length,{compare:l,between:a,normalize:u}=fx(i),{start:d,end:h,loop:m,style:g}=UC(t,e,n),x=[];let v=!1,w=null,S,_,y;const C=()=>a(o,y,S)&&l(o,y)!==0,T=()=>l(s,S)===0||a(s,y,S),k=()=>v||C(),I=()=>!v||T();for(let b=d,N=d;b<=h;++b)_=e[b%r],!_.skip&&(S=u(_[i]),S!==y&&(v=a(S,o,s),w===null&&k()&&(w=l(S,o)===0?b:N),w!==null&&I()&&(x.push(qf({start:w,end:b,loop:m,count:r,style:g})),w=null),N=b,y=S));return w!==null&&x.push(qf({start:w,end:h,loop:m,count:r,style:g})),x}function hx(t,e){const n=[],i=t.segments;for(let o=0;o<i.length;o++){const s=px(i[o],t.points,e);s.length&&n.push(...s)}return n}function BC(t,e,n,i){let o=0,s=e-1;if(n&&!i)for(;o<e&&!t[o].skip;)o++;for(;o<e&&t[o].skip;)o++;for(o%=e,n&&(s+=o);s>o&&t[s%e].skip;)s--;return s%=e,{start:o,end:s}}function VC(t,e,n,i){const o=t.length,s=[];let r=e,l=t[e],a;for(a=e+1;a<=n;++a){const u=t[a%o];u.skip||u.stop?l.skip||(i=!1,s.push({start:e%o,end:(a-1)%o,loop:i}),e=r=u.stop?a:null):(r=a,l.skip&&(e=a)),l=u}return r!==null&&s.push({start:e%o,end:r%o,loop:i}),s}function HC(t,e){const n=t.points,i=t.options.spanGaps,o=n.length;if(!o)return[];const s=!!t._loop,{start:r,end:l}=BC(n,o,s,i);if(i===!0)return Gf(t,[{start:r,end:l,loop:s}],n,e);const a=l<r?l+o:l,u=!!t._fullLoop&&r===0&&l===o-1;return Gf(t,VC(n,r,a,u),n,e)}function Gf(t,e,n,i){return!i||!i.setContext||!n?e:OC(t,e,n,i)}function OC(t,e,n,i){const o=t._chart.getContext(),s=$f(t.options),{_datasetIndex:r,options:{spanGaps:l}}=t,a=n.length,u=[];let d=s,h=e[0].start,m=h;function g(x,v,w,S){const _=l?-1:1;if(x!==v){for(x+=a;n[x%a].skip;)x-=_;for(;n[v%a].skip;)v+=_;x%a!==v%a&&(u.push({start:x%a,end:v%a,loop:w,style:S}),d=S,h=v%a)}}for(const x of e){h=l?h:x.start;let v=n[h%a],w;for(m=h+1;m<=x.end;m++){const S=n[m%a];w=$f(i.setContext(Pn(o,{type:"segment",p0:v,p1:S,p0DataIndex:(m-1)%a,p1DataIndex:m%a,datasetIndex:r}))),qC(w,d)&&g(h,m-1,x.loop,d),v=S,d=w}h<m-1&&g(h,m-1,x.loop,d)}return u}function $f(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function qC(t,e){if(!e)return!1;const n=[],i=function(o,s){return Hc(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function qs(t,e,n){return t.options.clip?t[n]:e[n]}function GC(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:qs(n,e,"left"),right:qs(n,e,"right"),top:qs(i,e,"top"),bottom:qs(i,e,"bottom")}:e}function mx(t,e){const n=e._clip;if(n.disabled)return!1;const i=GC(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class $C{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,o){const s=n.listeners[o],r=n.duration;s.forEach(l=>l({chart:e,initial:n.initial,numSteps:r,currentStep:Math.min(i-n.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=X0.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,o)=>{if(!i.running||!i.items.length)return;const s=i.items;let r=s.length-1,l=!1,a;for(;r>=0;--r)a=s[r],a._active?(a._total>i.duration&&(i.duration=a._total),a.tick(e),l=!0):(s[r]=s[s.length-1],s.pop());l&&(o.draw(),this._notify(o,i,e,"progress")),s.length||(i.running=!1,this._notify(o,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,o)=>Math.max(i,o._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let o=i.length-1;for(;o>=0;--o)i[o].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Dt=new $C;const Wf="transparent",WC={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=zf(t||Wf),o=i.valid&&zf(e||Wf);return o&&o.valid?o.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class jC{constructor(e,n,i,o){const s=n[i];o=Hs([e.to,o,s,e.from]);const r=Hs([e.from,s,o]);this._active=!0,this._fn=e.fn||WC[e.type||typeof r],this._easing=Bo[e.easing]||Bo.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=r,this._to=o,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const o=this._target[this._prop],s=i-this._start,r=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(r,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Hs([e.to,n,o,e.from]),this._from=Hs([e.from,o,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,o=this._prop,s=this._from,r=this._loop,l=this._to;let a;if(this._active=s!==l&&(r||n<i),!this._active){this._target[o]=l,this._notify(!0);return}if(n<0){this._target[o]=s;return}a=n/i%2,a=r&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[o]=this._fn(s,l,a)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let o=0;o<i.length;o++)i[o][n]()}}class gx{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!W(e))return;const n=Object.keys(me.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(o=>{const s=e[o];if(!W(s))return;const r={};for(const l of n)r[l]=s[l];(pe(s.properties)&&s.properties||[o]).forEach(l=>{(l===o||!i.has(l))&&i.set(l,r)})})}_animateOptions(e,n){const i=n.options,o=YC(e,i);if(!o)return[];const s=this._createAnimations(o,i);return i.$shared&&JC(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){const i=this._properties,o=[],s=e.$animations||(e.$animations={}),r=Object.keys(n),l=Date.now();let a;for(a=r.length-1;a>=0;--a){const u=r[a];if(u.charAt(0)==="$")continue;if(u==="options"){o.push(...this._animateOptions(e,n));continue}const d=n[u];let h=s[u];const m=i.get(u);if(h)if(m&&h.active()){h.update(m,d,l);continue}else h.cancel();if(!m||!m.duration){e[u]=d;continue}s[u]=h=new jC(m,e,u,d),o.push(h)}return o}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Dt.add(this._chart,i),!0}}function JC(t,e){const n=[],i=Object.keys(e);for(let o=0;o<i.length;o++){const s=t[i[o]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function YC(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function jf(t,e){const n=t&&t.options||{},i=n.reverse,o=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:o,end:i?o:s}}function KC(t,e,n){if(n===!1)return!1;const i=jf(t,n),o=jf(e,n);return{top:o.end,right:i.end,bottom:o.start,left:i.start}}function QC(t){let e,n,i,o;return W(t)?(e=t.top,n=t.right,i=t.bottom,o=t.left):e=n=i=o=t,{top:e,right:n,bottom:i,left:o,disabled:t===!1}}function xx(t,e){const n=[],i=t._getSortedDatasetMetas(e);let o,s;for(o=0,s=i.length;o<s;++o)n.push(i[o].index);return n}function Jf(t,e,n,i={}){const o=t.keys,s=i.mode==="single";let r,l,a,u;if(e===null)return;let d=!1;for(r=0,l=o.length;r<l;++r){if(a=+o[r],a===n){if(d=!0,i.all)continue;break}u=t.values[a],Me(u)&&(s||e===0||Hi(e)===Hi(u))&&(e+=u)}return!d&&!i.all?0:e}function XC(t,e){const{iScale:n,vScale:i}=e,o=n.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",r=Object.keys(t),l=new Array(r.length);let a,u,d;for(a=0,u=r.length;a<u;++a)d=r[a],l[a]={[o]:d,[s]:t[d]};return l}function ra(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function ZC(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function e1(t){const{min:e,max:n,minDefined:i,maxDefined:o}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:o?n:Number.POSITIVE_INFINITY}}function t1(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function Yf(t,e,n,i){for(const o of e.getMatchingVisibleMetas(i).reverse()){const s=t[o.index];if(n&&s>0||!n&&s<0)return o.index}return null}function Kf(t,e){const{chart:n,_cachedMeta:i}=t,o=n._stacks||(n._stacks={}),{iScale:s,vScale:r,index:l}=i,a=s.axis,u=r.axis,d=ZC(s,r,i),h=e.length;let m;for(let g=0;g<h;++g){const x=e[g],{[a]:v,[u]:w}=x,S=x._stacks||(x._stacks={});m=S[u]=t1(o,d,v),m[l]=w,m._top=Yf(m,r,!0,i.type),m._bottom=Yf(m,r,!1,i.type);const _=m._visualValues||(m._visualValues={});_[l]=w}}function la(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function n1(t,e){return Pn(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function i1(t,e,n){return Pn(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function fo(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const o of e){const s=o._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const aa=t=>t==="reset"||t==="none",Qf=(t,e)=>e?t:Object.assign({},t),o1=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:xx(n,!0),values:null};class Ho{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=ra(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&fo(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),o=(h,m,g,x)=>h==="x"?m:h==="r"?x:g,s=n.xAxisID=$(i.xAxisID,la(e,"x")),r=n.yAxisID=$(i.yAxisID,la(e,"y")),l=n.rAxisID=$(i.rAxisID,la(e,"r")),a=n.indexAxis,u=n.iAxisID=o(a,s,r,l),d=n.vAxisID=o(a,r,s,l);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(r),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Rf(this._data,this),e._stacked&&fo(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(W(n)){const o=this._cachedMeta;this._data=XC(n,o)}else if(i!==n){if(i){Rf(i,this);const o=this._cachedMeta;fo(o),o._parsed=[]}n&&Object.isExtensible(n)&&Uw(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let o=!1;this._dataCheck();const s=n._stacked;n._stacked=ra(n.vScale,n),n.stack!==i.stack&&(o=!0,fo(n),n.stack=i.stack),this._resyncElements(e),(o||s!==n._stacked)&&(Kf(this,n._parsed),n._stacked=ra(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:o}=this,{iScale:s,_stacked:r}=i,l=s.axis;let a=e===0&&n===o.length?!0:i._sorted,u=e>0&&i._parsed[e-1],d,h,m;if(this._parsing===!1)i._parsed=o,i._sorted=!0,m=o;else{pe(o[e])?m=this.parseArrayData(i,o,e,n):W(o[e])?m=this.parseObjectData(i,o,e,n):m=this.parsePrimitiveData(i,o,e,n);const g=()=>h[l]===null||u&&h[l]<u[l];for(d=0;d<n;++d)i._parsed[d+e]=h=m[d],a&&(g()&&(a=!1),u=h);i._sorted=a}r&&Kf(this,m)}parsePrimitiveData(e,n,i,o){const{iScale:s,vScale:r}=e,l=s.axis,a=r.axis,u=s.getLabels(),d=s===r,h=new Array(o);let m,g,x;for(m=0,g=o;m<g;++m)x=m+i,h[m]={[l]:d||s.parse(u[x],x),[a]:r.parse(n[x],x)};return h}parseArrayData(e,n,i,o){const{xScale:s,yScale:r}=e,l=new Array(o);let a,u,d,h;for(a=0,u=o;a<u;++a)d=a+i,h=n[d],l[a]={x:s.parse(h[0],d),y:r.parse(h[1],d)};return l}parseObjectData(e,n,i,o){const{xScale:s,yScale:r}=e,{xAxisKey:l="x",yAxisKey:a="y"}=this._parsing,u=new Array(o);let d,h,m,g;for(d=0,h=o;d<h;++d)m=d+i,g=n[m],u[d]={x:s.parse(as(g,l),m),y:r.parse(as(g,a),m)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const o=this.chart,s=this._cachedMeta,r=n[e.axis],l={keys:xx(o,!0),values:n._stacks[e.axis]._visualValues};return Jf(l,r,s.index,{mode:i})}updateRangeFromParsed(e,n,i,o){const s=i[n.axis];let r=s===null?NaN:s;const l=o&&i._stacks[n.axis];o&&l&&(o.values=l,r=Jf(o,s,this._cachedMeta.index)),e.min=Math.min(e.min,r),e.max=Math.max(e.max,r)}getMinMax(e,n){const i=this._cachedMeta,o=i._parsed,s=i._sorted&&e===i.iScale,r=o.length,l=this._getOtherScale(e),a=o1(n,i,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=e1(l);let m,g;function x(){g=o[m];const v=g[l.axis];return!Me(g[e.axis])||d>v||h<v}for(m=0;m<r&&!(!x()&&(this.updateRangeFromParsed(u,e,g,a),s));++m);if(s){for(m=r-1;m>=0;--m)if(!x()){this.updateRangeFromParsed(u,e,g,a);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let o,s,r;for(o=0,s=n.length;o<s;++o)r=n[o][e.axis],Me(r)&&i.push(r);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,o=n.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:o?""+o.getLabelForValue(s[o.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=QC($(this.options.clip,KC(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,o=i.data||[],s=n.chartArea,r=[],l=this._drawStart||0,a=this._drawCount||o.length-l,u=this.options.drawActiveElementsOnTop;let d;for(i.dataset&&i.dataset.draw(e,s,l,a),d=l;d<l+a;++d){const h=o[d];h.hidden||(h.active&&u?r.push(h):h.draw(e,s))}for(d=0;d<r.length;++d)r[d].draw(e,s)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const o=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const r=this._cachedMeta.data[e];s=r.$context||(r.$context=i1(this.getContext(),e,r)),s.parsed=this.getParsed(e),s.raw=o.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=n1(this.chart.getContext(),this.index)),s.dataset=o,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const o=n==="active",s=this._cachedDataOpts,r=e+"-"+n,l=s[r],a=this.enableOptionSharing&&qr(i);if(l)return Qf(l,a);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),h=o?[`${e}Hover`,"hover",e,""]:[e,""],m=u.getOptionScopes(this.getDataset(),d),g=Object.keys(me.elements[e]),x=()=>this.getContext(i,o,n),v=u.resolveNamedOptions(m,g,x,h);return v.$shared&&(v.$shared=a,s[r]=Object.freeze(Qf(v,a))),v}_resolveAnimations(e,n,i){const o=this.chart,s=this._cachedDataOpts,r=`animation-${n}`,l=s[r];if(l)return l;let a;if(o.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,n),m=d.getOptionScopes(this.getDataset(),h);a=d.createResolver(m,this.getContext(e,i,n))}const u=new gx(o,a&&a.animations);return a&&a._cacheable&&(s[r]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||aa(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),o=this._sharedOptions,s=this.getSharedOptions(i),r=this.includeOptions(n,s)||s!==o;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:r}}updateElement(e,n,i,o){aa(o)?Object.assign(e,i):this._resolveAnimations(n,o).update(e,i)}updateSharedOptions(e,n,i){e&&!aa(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,o){e.active=o;const s=this.getStyle(n,o);this._resolveAnimations(n,i,o).update(e,{options:!o&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[l,a,u]of this._syncList)this[l](a,u);this._syncList=[];const o=i.length,s=n.length,r=Math.min(s,o);r&&this.parse(0,r),s>o?this._insertElements(o,s-o,e):s<o&&this._removeElements(s,o-s)}_insertElements(e,n,i=!0){const o=this._cachedMeta,s=o.data,r=e+n;let l;const a=u=>{for(u.length+=n,l=u.length-1;l>=r;l--)u[l]=u[l-n]};for(a(s),l=e;l<r;++l)s[l]=new this.dataElementType;this._parsing&&a(o._parsed),this.parse(e,n),i&&this.updateElements(s,e,n,"reset")}updateElements(e,n,i,o){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const o=i._parsed.splice(e,n);i._stacked&&fo(i,o)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,o]=e;this[n](i,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}U(Ho,"defaults",{}),U(Ho,"datasetElementType",null),U(Ho,"dataElementType",null);class ar extends Ho{getLabelAndValue(e){const n=this._cachedMeta.vScale,i=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(e,n,i,o){return yC.bind(this)(e,n,i,o)}update(e){const n=this._cachedMeta,i=n.dataset,o=n.data||[],s=n.iScale.getLabels();if(i.points=o,e!=="resize"){const r=this.resolveDatasetElementOptions(e);this.options.showLine||(r.borderWidth=0);const l={_loop:!0,_fullLoop:s.length===o.length,options:r};this.updateElement(i,void 0,l,e)}this.updateElements(o,0,o.length,e)}updateElements(e,n,i,o){const s=this._cachedMeta.rScale,r=o==="reset";for(let l=n;l<n+i;l++){const a=e[l],u=this.resolveDataElementOptions(l,a.active?"active":o),d=s.getPointPositionForValue(l,this.getParsed(l).r),h=r?s.xCenter:d.x,m=r?s.yCenter:d.y,g={x:h,y:m,angle:d.angle,skip:isNaN(h)||isNaN(m),options:u};this.updateElement(a,l,g,o)}}}U(ar,"id","radar"),U(ar,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),U(ar,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});function zn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class jc{constructor(e){U(this,"options");this.options=e||{}}static override(e){Object.assign(jc.prototype,e)}init(){}formats(){return zn()}parse(){return zn()}format(){return zn()}add(){return zn()}diff(){return zn()}startOf(){return zn()}endOf(){return zn()}}var s1={_date:jc};function r1(t,e,n,i){const{controller:o,data:s,_sorted:r}=t,l=o._cachedMeta.iScale,a=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&r&&s.length){const u=l._reversePixels?zw:du;if(i){if(o._sharedOptions){const d=s[0],h=typeof d.getRange=="function"&&d.getRange(e);if(h){const m=u(s,e,n-h),g=u(s,e,n+h);return{lo:m.lo,hi:g.hi}}}}else{const d=u(s,e,n);if(a){const{vScale:h}=o._cachedMeta,{_parsed:m}=t,g=m.slice(0,d.lo+1).reverse().findIndex(v=>!se(v[h.axis]));d.lo-=Math.max(0,g);const x=m.slice(d.hi).findIndex(v=>!se(v[h.axis]));d.hi+=Math.max(0,x)}return d}}return{lo:0,hi:s.length-1}}function wl(t,e,n,i,o){const s=t.getSortedVisibleDatasetMetas(),r=n[e];for(let l=0,a=s.length;l<a;++l){const{index:u,data:d}=s[l],{lo:h,hi:m}=r1(s[l],e,r,o);for(let g=h;g<=m;++g){const x=d[g];x.skip||i(x,u,g)}}}function l1(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,o){const s=e?Math.abs(i.x-o.x):0,r=n?Math.abs(i.y-o.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(r,2))}}function ua(t,e,n,i,o){const s=[];return!o&&!t.isPointInArea(e)||wl(t,n,e,function(l,a,u){!o&&!Ot(l,t.chartArea,0)||l.inRange(e.x,e.y,i)&&s.push({element:l,datasetIndex:a,index:u})},!0),s}function a1(t,e,n,i){let o=[];function s(r,l,a){const{startAngle:u,endAngle:d}=r.getProps(["startAngle","endAngle"],i),{angle:h}=Rw(r,{x:e.x,y:e.y});K0(h,u,d)&&o.push({element:r,datasetIndex:l,index:a})}return wl(t,n,e,s),o}function u1(t,e,n,i,o,s){let r=[];const l=l1(n);let a=Number.POSITIVE_INFINITY;function u(d,h,m){const g=d.inRange(e.x,e.y,o);if(i&&!g)return;const x=d.getCenterPoint(o);if(!(!!s||t.isPointInArea(x))&&!g)return;const w=l(e,x);w<a?(r=[{element:d,datasetIndex:h,index:m}],a=w):w===a&&r.push({element:d,datasetIndex:h,index:m})}return wl(t,n,e,u),r}function ca(t,e,n,i,o,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?a1(t,e,n,o):u1(t,e,n,i,o,s)}function Xf(t,e,n,i,o){const s=[],r=n==="x"?"inXRange":"inYRange";let l=!1;return wl(t,n,e,(a,u,d)=>{a[r]&&a[r](e[n],o)&&(s.push({element:a,datasetIndex:u,index:d}),l=l||a.inRange(e.x,e.y,o))}),i&&!l?[]:s}var c1={modes:{index(t,e,n,i){const o=Bn(e,t),s=n.axis||"x",r=n.includeInvisible||!1,l=n.intersect?ua(t,o,s,i,r):ca(t,o,s,!1,i,r),a=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=l[0].index,h=u.data[d];h&&!h.skip&&a.push({element:h,datasetIndex:u.index,index:d})}),a):[]},dataset(t,e,n,i){const o=Bn(e,t),s=n.axis||"xy",r=n.includeInvisible||!1;let l=n.intersect?ua(t,o,s,i,r):ca(t,o,s,!1,i,r);if(l.length>0){const a=l[0].datasetIndex,u=t.getDatasetMeta(a).data;l=[];for(let d=0;d<u.length;++d)l.push({element:u[d],datasetIndex:a,index:d})}return l},point(t,e,n,i){const o=Bn(e,t),s=n.axis||"xy",r=n.includeInvisible||!1;return ua(t,o,s,i,r)},nearest(t,e,n,i){const o=Bn(e,t),s=n.axis||"xy",r=n.includeInvisible||!1;return ca(t,o,s,n.intersect,i,r)},x(t,e,n,i){const o=Bn(e,t);return Xf(t,o,"x",n.intersect,i)},y(t,e,n,i){const o=Bn(e,t);return Xf(t,o,"y",n.intersect,i)}}};const vx=["left","top","right","bottom"];function po(t,e){return t.filter(n=>n.pos===e)}function Zf(t,e){return t.filter(n=>vx.indexOf(n.pos)===-1&&n.box.axis===e)}function ho(t,e){return t.sort((n,i)=>{const o=e?i:n,s=e?n:i;return o.weight===s.weight?o.index-s.index:o.weight-s.weight})}function d1(t){const e=[];let n,i,o,s,r,l;for(n=0,i=(t||[]).length;n<i;++n)o=t[n],{position:s,options:{stack:r,stackWeight:l=1}}=o,e.push({index:n,box:o,pos:s,horizontal:o.isHorizontal(),weight:o.weight,stack:r&&s+r,stackWeight:l});return e}function f1(t){const e={};for(const n of t){const{stack:i,pos:o,stackWeight:s}=n;if(!i||!vx.includes(o))continue;const r=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=s}return e}function p1(t,e){const n=f1(t),{vBoxMaxWidth:i,hBoxMaxHeight:o}=e;let s,r,l;for(s=0,r=t.length;s<r;++s){l=t[s];const{fullSize:a}=l.box,u=n[l.stack],d=u&&l.stackWeight/u.weight;l.horizontal?(l.width=d?d*i:a&&e.availableWidth,l.height=o):(l.width=i,l.height=d?d*o:a&&e.availableHeight)}return n}function h1(t){const e=d1(t),n=ho(e.filter(u=>u.box.fullSize),!0),i=ho(po(e,"left"),!0),o=ho(po(e,"right")),s=ho(po(e,"top"),!0),r=ho(po(e,"bottom")),l=Zf(e,"x"),a=Zf(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:o.concat(a).concat(r).concat(l),chartArea:po(e,"chartArea"),vertical:i.concat(o).concat(a),horizontal:s.concat(r).concat(l)}}function ep(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function yx(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function m1(t,e,n,i){const{pos:o,box:s}=n,r=t.maxPadding;if(!W(o)){n.size&&(t[o]-=n.size);const h=i[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?s.height:s.width),n.size=h.size/h.count,t[o]+=n.size}s.getPadding&&yx(r,s.getPadding());const l=Math.max(0,e.outerWidth-ep(r,t,"left","right")),a=Math.max(0,e.outerHeight-ep(r,t,"top","bottom")),u=l!==t.w,d=a!==t.h;return t.w=l,t.h=a,n.horizontal?{same:u,other:d}:{same:d,other:u}}function g1(t){const e=t.maxPadding;function n(i){const o=Math.max(e[i]-t[i],0);return t[i]+=o,o}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function x1(t,e){const n=e.maxPadding;function i(o){const s={left:0,top:0,right:0,bottom:0};return o.forEach(r=>{s[r]=Math.max(e[r],n[r])}),s}return i(t?["left","right"]:["top","bottom"])}function Co(t,e,n,i){const o=[];let s,r,l,a,u,d;for(s=0,r=t.length,u=0;s<r;++s){l=t[s],a=l.box,a.update(l.width||e.w,l.height||e.h,x1(l.horizontal,e));const{same:h,other:m}=m1(e,n,l,i);u|=h&&o.length,d=d||m,a.fullSize||o.push(l)}return u&&Co(o,e,n,i)||d}function Gs(t,e,n,i,o){t.top=n,t.left=e,t.right=e+i,t.bottom=n+o,t.width=i,t.height=o}function tp(t,e,n,i){const o=n.padding;let{x:s,y:r}=e;for(const l of t){const a=l.box,u=i[l.stack]||{placed:0,weight:1},d=l.stackWeight/u.weight||1;if(l.horizontal){const h=e.w*d,m=u.size||a.height;qr(u.start)&&(r=u.start),a.fullSize?Gs(a,o.left,r,n.outerWidth-o.right-o.left,m):Gs(a,e.left+u.placed,r,h,m),u.start=r,u.placed+=h,r=a.bottom}else{const h=e.h*d,m=u.size||a.width;qr(u.start)&&(s=u.start),a.fullSize?Gs(a,s,o.top,m,n.outerHeight-o.bottom-o.top):Gs(a,s,e.top+u.placed,m,h),u.start=s,u.placed+=h,s=a.right}}e.x=s,e.y=r}var dn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const o=Fe(t.options.layout.padding),s=Math.max(e-o.width,0),r=Math.max(n-o.height,0),l=h1(t.boxes),a=l.vertical,u=l.horizontal;K(t.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const d=a.reduce((v,w)=>w.box.options&&w.box.options.display===!1?v:v+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:o,availableWidth:s,availableHeight:r,vBoxMaxWidth:s/2/d,hBoxMaxHeight:r/2}),m=Object.assign({},o);yx(m,Fe(i));const g=Object.assign({maxPadding:m,w:s,h:r,x:o.left,y:o.top},o),x=p1(a.concat(u),h);Co(l.fullSize,g,h,x),Co(a,g,h,x),Co(u,g,h,x)&&Co(a,g,h,x),g1(g),tp(l.leftAndTop,g,h,x),g.x+=g.w,g.y+=g.h,tp(l.rightAndBottom,g,h,x),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},K(l.chartArea,v=>{const w=v.box;Object.assign(w,t.chartArea),w.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class _x{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,o){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,o?Math.floor(n/o):i)}}isAttached(e){return!0}updateConfig(e){}}class v1 extends _x{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ur="$chartjs",y1={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},np=t=>t===null||t==="";function _1(t,e){const n=t.style,i=t.getAttribute("height"),o=t.getAttribute("width");if(t[ur]={initial:{height:i,width:o,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",np(o)){const s=Of(t,"width");s!==void 0&&(t.width=s)}if(np(i))if(t.style.height==="")t.height=t.width/(e||2);else{const s=Of(t,"height");s!==void 0&&(t.height=s)}return t}const Sx=RC?{passive:!0}:!1;function S1(t,e,n){t&&t.addEventListener(e,n,Sx)}function w1(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Sx)}function C1(t,e){const n=y1[t.type]||t.type,{x:i,y:o}=Bn(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:o!==void 0?o:null}}function Yr(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function T1(t,e,n){const i=t.canvas,o=new MutationObserver(s=>{let r=!1;for(const l of s)r=r||Yr(l.addedNodes,i),r=r&&!Yr(l.removedNodes,i);r&&n()});return o.observe(document,{childList:!0,subtree:!0}),o}function k1(t,e,n){const i=t.canvas,o=new MutationObserver(s=>{let r=!1;for(const l of s)r=r||Yr(l.removedNodes,i),r=r&&!Yr(l.addedNodes,i);r&&n()});return o.observe(document,{childList:!0,subtree:!0}),o}const us=new Map;let ip=0;function wx(){const t=window.devicePixelRatio;t!==ip&&(ip=t,us.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function E1(t,e){us.size||window.addEventListener("resize",wx),us.set(t,e)}function I1(t){us.delete(t),us.size||window.removeEventListener("resize",wx)}function b1(t,e,n){const i=t.canvas,o=i&&Wc(i);if(!o)return;const s=Z0((l,a)=>{const u=o.clientWidth;n(l,a),u<o.clientWidth&&n()},window),r=new ResizeObserver(l=>{const a=l[0],u=a.contentRect.width,d=a.contentRect.height;u===0&&d===0||s(u,d)});return r.observe(o),E1(t,s),r}function da(t,e,n){n&&n.disconnect(),e==="resize"&&I1(t)}function A1(t,e,n){const i=t.canvas,o=Z0(s=>{t.ctx!==null&&n(C1(s,t))},t);return S1(i,e,o),o}class N1 extends _x{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(_1(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[ur])return!1;const i=n[ur].initial;["height","width"].forEach(s=>{const r=i[s];se(r)?n.removeAttribute(s):n.setAttribute(s,r)});const o=i.style||{};return Object.keys(o).forEach(s=>{n.style[s]=o[s]}),n.width=n.width,delete n[ur],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const o=e.$proxies||(e.$proxies={}),r={attach:T1,detach:k1,resize:b1}[n]||A1;o[n]=r(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),o=i[n];if(!o)return;({attach:da,detach:da,resize:da}[n]||w1)(e,n,o),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,o){return MC(e,n,i,o)}isAttached(e){const n=e&&Wc(e);return!!(n&&n.isConnected)}}function P1(t){return!$c()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?v1:N1}class In{constructor(){U(this,"x");U(this,"y");U(this,"active",!1);U(this,"options");U(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return $r(this.x)&&$r(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const o={};return e.forEach(s=>{o[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),o}}U(In,"defaults",{}),U(In,"defaultRoutes");function M1(t,e){const n=t.options.ticks,i=R1(t),o=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?L1(e):[],r=s.length,l=s[0],a=s[r-1],u=[];if(r>o)return z1(e,u,s,r/o),u;const d=D1(s,e,o);if(r>0){let h,m;const g=r>1?Math.round((a-l)/(r-1)):null;for($s(e,u,d,se(g)?0:l-g,l),h=0,m=r-1;h<m;h++)$s(e,u,d,s[h],s[h+1]);return $s(e,u,d,a,se(g)?e.length:a+g),u}return $s(e,u,d),u}function R1(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),o=t._maxLength/n;return Math.floor(Math.min(i,o))}function D1(t,e,n){const i=F1(t),o=e.length/n;if(!i)return Math.max(o,1);const s=Aw(i);for(let r=0,l=s.length-1;r<l;r++){const a=s[r];if(a>o)return a}return Math.max(o,1)}function L1(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function z1(t,e,n,i){let o=0,s=n[0],r;for(i=Math.ceil(i),r=0;r<t.length;r++)r===s&&(e.push(t[r]),o++,s=n[o*i])}function $s(t,e,n,i,o){const s=$(i,0),r=Math.min($(o,t.length),t.length);let l=0,a,u,d;for(n=Math.ceil(n),o&&(a=o-i,n=a/Math.floor(a/n)),d=s;d<0;)l++,d=Math.round(s+l*n);for(u=Math.max(s,0);u<r;u++)u===d&&(e.push(t[u]),l++,d=Math.round(s+l*n))}function F1(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const U1=t=>t==="left"?"right":t==="right"?"left":t,op=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,sp=(t,e)=>Math.min(e||t,t);function rp(t,e){const n=[],i=t.length/e,o=t.length;let s=0;for(;s<o;s+=i)n.push(t[Math.floor(s)]);return n}function B1(t,e,n){const i=t.ticks.length,o=Math.min(e,i-1),s=t._startPixel,r=t._endPixel,l=1e-6;let a=t.getPixelForTick(o),u;if(!(n&&(i===1?u=Math.max(a-s,r-a):e===0?u=(t.getPixelForTick(1)-a)/2:u=(a-t.getPixelForTick(o-1))/2,a+=o<e?u:-u,a<s-l||a>r+l)))return a}function V1(t,e){K(t,n=>{const i=n.gc,o=i.length/2;let s;if(o>e){for(s=0;s<o;++s)delete n.data[i[s]];i.splice(0,o)}})}function mo(t){return t.drawTicks?t.tickLength:0}function lp(t,e){if(!t.display)return 0;const n=Te(t.font,e),i=Fe(t.padding);return(pe(t.text)?t.text.length:1)*n.lineHeight+i.height}function H1(t,e){return Pn(t,{scale:e,type:"scale"})}function O1(t,e,n){return Pn(t,{tick:n,index:e,type:"tick"})}function q1(t,e,n){let i=ex(t);return(n&&e!=="right"||!n&&e==="right")&&(i=U1(i)),i}function G1(t,e,n,i){const{top:o,left:s,bottom:r,right:l,chart:a}=t,{chartArea:u,scales:d}=a;let h=0,m,g,x;const v=r-o,w=l-s;if(t.isHorizontal()){if(g=je(i,s,l),W(n)){const S=Object.keys(n)[0],_=n[S];x=d[S].getPixelForValue(_)+v-e}else n==="center"?x=(u.bottom+u.top)/2+v-e:x=op(t,n,e);m=l-s}else{if(W(n)){const S=Object.keys(n)[0],_=n[S];g=d[S].getPixelForValue(_)-w+e}else n==="center"?g=(u.left+u.right)/2-w+e:g=op(t,n,e);x=je(i,r,o),h=n==="left"?-Ze:Ze}return{titleX:g,titleY:x,maxWidth:m,rotation:h}}let Jc=class Cx extends In{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:o}=this;return e=Ct(e,Number.POSITIVE_INFINITY),n=Ct(n,Number.NEGATIVE_INFINITY),i=Ct(i,Number.POSITIVE_INFINITY),o=Ct(o,Number.NEGATIVE_INFINITY),{min:Ct(e,i),max:Ct(n,o),minDefined:Me(e),maxDefined:Me(n)}}getMinMax(e){let{min:n,max:i,minDefined:o,maxDefined:s}=this.getUserBounds(),r;if(o&&s)return{min:n,max:i};const l=this.getMatchingVisibleMetas();for(let a=0,u=l.length;a<u;++a)r=l[a].controller.getMinMax(this,e),o||(n=Math.min(n,r.min)),s||(i=Math.max(i,r.max));return n=s&&n>i?i:n,i=o&&n>i?n:i,{min:Ct(n,Ct(i,n)),max:Ct(i,Ct(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ee(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:o,grace:s,ticks:r}=this.options,l=r.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=uC(this,s,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=l<this.ticks.length;this._convertTicksToLabels(a?rp(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||r.source==="auto")&&(this.ticks=M1(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ee(this.options.afterUpdate,[this])}beforeSetDimensions(){ee(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ee(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ee(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ee(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,o,s;for(i=0,o=e.length;i<o;i++)s=e[i],s.label=ee(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){ee(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ee(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=sp(this.ticks.length,e.ticks.maxTicksLimit),o=n.minRotation||0,s=n.maxRotation;let r=o,l,a,u;if(!this._isVisible()||!n.display||o>=s||i<=1||!this.isHorizontal()){this.labelRotation=o;return}const d=this._getLabelSizes(),h=d.widest.width,m=d.highest.height,g=Ht(this.chart.width-h,0,this.maxWidth);l=e.offset?this.maxWidth/i:g/(i-1),h+6>l&&(l=g/(i-(e.offset?.5:1)),a=this.maxHeight-mo(e.grid)-n.padding-lp(e.title,this.chart.options.font),u=Math.sqrt(h*h+m*m),r=Bc(Math.min(Math.asin(Ht((d.highest.height+6)/l,-1,1)),Math.asin(Ht(a/u,-1,1))-Math.asin(Ht(m/u,-1,1)))),r=Math.max(o,Math.min(s,r))),this.labelRotation=r}afterCalculateLabelRotation(){ee(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ee(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:o,grid:s}}=this,r=this._isVisible(),l=this.isHorizontal();if(r){const a=lp(o,n.options.font);if(l?(e.width=this.maxWidth,e.height=mo(s)+a):(e.height=this.maxHeight,e.width=mo(s)+a),i.display&&this.ticks.length){const{first:u,last:d,widest:h,highest:m}=this._getLabelSizes(),g=i.padding*2,x=Gn(this.labelRotation),v=Math.cos(x),w=Math.sin(x);if(l){const S=i.mirror?0:w*h.width+v*m.height;e.height=Math.min(this.maxHeight,e.height+S+g)}else{const S=i.mirror?0:v*h.width+w*m.height;e.width=Math.min(this.maxWidth,e.width+S+g)}this._calculatePadding(u,d,w,v)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,o){const{ticks:{align:s,padding:r},position:l}=this.options,a=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,g=0;a?u?(m=o*e.width,g=i*n.height):(m=i*e.height,g=o*n.width):s==="start"?g=n.width:s==="end"?m=e.width:s!=="inner"&&(m=e.width/2,g=n.width/2),this.paddingLeft=Math.max((m-d+r)*this.width/(this.width-d),0),this.paddingRight=Math.max((g-h+r)*this.width/(this.width-h),0)}else{let d=n.height/2,h=e.height/2;s==="start"?(d=0,h=e.height):s==="end"&&(d=n.height,h=0),this.paddingTop=d+r,this.paddingBottom=h+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ee(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)se(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=rp(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:o,_longestTextCache:s}=this,r=[],l=[],a=Math.floor(n/sp(n,i));let u=0,d=0,h,m,g,x,v,w,S,_,y,C,T;for(h=0;h<n;h+=a){if(x=e[h].label,v=this._resolveTickFontOptions(h),o.font=w=v.string,S=s[w]=s[w]||{data:{},gc:[]},_=v.lineHeight,y=C=0,!se(x)&&!pe(x))y=Wr(o,S.data,S.gc,y,x),C=_;else if(pe(x))for(m=0,g=x.length;m<g;++m)T=x[m],!se(T)&&!pe(T)&&(y=Wr(o,S.data,S.gc,y,T),C+=_);r.push(y),l.push(C),u=Math.max(y,u),d=Math.max(C,d)}V1(s,n);const k=r.indexOf(u),I=l.indexOf(d),b=N=>({width:r[N]||0,height:l[N]||0});return{first:b(0),last:b(n-1),widest:b(k),highest:b(I),widths:r,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Lw(this._alignToPixels?Ln(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=O1(this.getContext(),e,i))}return this.$context||(this.$context=H1(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Gn(this.labelRotation),i=Math.abs(Math.cos(n)),o=Math.abs(Math.sin(n)),s=this._getLabelSizes(),r=e.autoSkipPadding||0,l=s?s.widest.width+r:0,a=s?s.highest.height+r:0;return this.isHorizontal()?a*i>l*o?l/i:a/o:a*o<l*i?a/i:l/o}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,o=this.options,{grid:s,position:r,border:l}=o,a=s.offset,u=this.isHorizontal(),h=this.ticks.length+(a?1:0),m=mo(s),g=[],x=l.setContext(this.getContext()),v=x.display?x.width:0,w=v/2,S=function(V){return Ln(i,V,v)};let _,y,C,T,k,I,b,N,A,E,P,D;if(r==="top")_=S(this.bottom),I=this.bottom-m,N=_-w,E=S(e.top)+w,D=e.bottom;else if(r==="bottom")_=S(this.top),E=e.top,D=S(e.bottom)-w,I=_+w,N=this.top+m;else if(r==="left")_=S(this.right),k=this.right-m,b=_-w,A=S(e.left)+w,P=e.right;else if(r==="right")_=S(this.left),A=e.left,P=S(e.right)-w,k=_+w,b=this.left+m;else if(n==="x"){if(r==="center")_=S((e.top+e.bottom)/2+.5);else if(W(r)){const V=Object.keys(r)[0],ae=r[V];_=S(this.chart.scales[V].getPixelForValue(ae))}E=e.top,D=e.bottom,I=_+w,N=I+m}else if(n==="y"){if(r==="center")_=S((e.left+e.right)/2);else if(W(r)){const V=Object.keys(r)[0],ae=r[V];_=S(this.chart.scales[V].getPixelForValue(ae))}k=_-w,b=k-m,A=e.left,P=e.right}const q=$(o.ticks.maxTicksLimit,h),B=Math.max(1,Math.ceil(h/q));for(y=0;y<h;y+=B){const V=this.getContext(y),ae=s.setContext(V),L=l.setContext(V),H=ae.lineWidth,O=ae.color,Z=L.dash||[],ne=L.dashOffset,St=ae.tickWidth,Re=ae.tickColor,Mt=ae.tickBorderDash||[],De=ae.tickBorderDashOffset;C=B1(this,y,a),C!==void 0&&(T=Ln(i,C,H),u?k=b=A=P=T:I=N=E=D=T,g.push({tx1:k,ty1:I,tx2:b,ty2:N,x1:A,y1:E,x2:P,y2:D,width:H,color:O,borderDash:Z,borderDashOffset:ne,tickWidth:St,tickColor:Re,tickBorderDash:Mt,tickBorderDashOffset:De}))}return this._ticksLength=h,this._borderValue=_,g}_computeLabelItems(e){const n=this.axis,i=this.options,{position:o,ticks:s}=i,r=this.isHorizontal(),l=this.ticks,{align:a,crossAlign:u,padding:d,mirror:h}=s,m=mo(i.grid),g=m+d,x=h?-d:g,v=-Gn(this.labelRotation),w=[];let S,_,y,C,T,k,I,b,N,A,E,P,D="middle";if(o==="top")k=this.bottom-x,I=this._getXAxisLabelAlignment();else if(o==="bottom")k=this.top+x,I=this._getXAxisLabelAlignment();else if(o==="left"){const B=this._getYAxisLabelAlignment(m);I=B.textAlign,T=B.x}else if(o==="right"){const B=this._getYAxisLabelAlignment(m);I=B.textAlign,T=B.x}else if(n==="x"){if(o==="center")k=(e.top+e.bottom)/2+g;else if(W(o)){const B=Object.keys(o)[0],V=o[B];k=this.chart.scales[B].getPixelForValue(V)+g}I=this._getXAxisLabelAlignment()}else if(n==="y"){if(o==="center")T=(e.left+e.right)/2-g;else if(W(o)){const B=Object.keys(o)[0],V=o[B];T=this.chart.scales[B].getPixelForValue(V)}I=this._getYAxisLabelAlignment(m).textAlign}n==="y"&&(a==="start"?D="top":a==="end"&&(D="bottom"));const q=this._getLabelSizes();for(S=0,_=l.length;S<_;++S){y=l[S],C=y.label;const B=s.setContext(this.getContext(S));b=this.getPixelForTick(S)+s.labelOffset,N=this._resolveTickFontOptions(S),A=N.lineHeight,E=pe(C)?C.length:1;const V=E/2,ae=B.color,L=B.textStrokeColor,H=B.textStrokeWidth;let O=I;r?(T=b,I==="inner"&&(S===_-1?O=this.options.reverse?"left":"right":S===0?O=this.options.reverse?"right":"left":O="center"),o==="top"?u==="near"||v!==0?P=-E*A+A/2:u==="center"?P=-q.highest.height/2-V*A+A:P=-q.highest.height+A/2:u==="near"||v!==0?P=A/2:u==="center"?P=q.highest.height/2-V*A:P=q.highest.height-E*A,h&&(P*=-1),v!==0&&!B.showLabelBackdrop&&(T+=A/2*Math.sin(v))):(k=b,P=(1-E)*A/2);let Z;if(B.showLabelBackdrop){const ne=Fe(B.backdropPadding),St=q.heights[S],Re=q.widths[S];let Mt=P-ne.top,De=0-ne.left;switch(D){case"middle":Mt-=St/2;break;case"bottom":Mt-=St;break}switch(I){case"center":De-=Re/2;break;case"right":De-=Re;break;case"inner":S===_-1?De-=Re:S>0&&(De-=Re/2);break}Z={left:De,top:Mt,width:Re+ne.width,height:St+ne.height,color:B.backdropColor}}w.push({label:C,font:N,textOffset:P,options:{rotation:v,color:ae,strokeColor:L,strokeWidth:H,textAlign:O,textBaseline:D,translation:[T,k],backdrop:Z}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Gn(this.labelRotation))return e==="top"?"left":"right";let o="center";return n.align==="start"?o="left":n.align==="end"?o="right":n.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:o,padding:s}}=this.options,r=this._getLabelSizes(),l=e+s,a=r.widest.width;let u,d;return n==="left"?o?(d=this.right+s,i==="near"?u="left":i==="center"?(u="center",d+=a/2):(u="right",d+=a)):(d=this.right-l,i==="near"?u="right":i==="center"?(u="center",d-=a/2):(u="left",d=this.left)):n==="right"?o?(d=this.left+s,i==="near"?u="right":i==="center"?(u="center",d-=a/2):(u="left",d-=a)):(d=this.left+l,i==="near"?u="left":i==="center"?(u="center",d+=a/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:o,width:s,height:r}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,o,s,r),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const o=this.ticks.findIndex(s=>s.value===e);return o>=0?n.setContext(this.getContext(o)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,r;const l=(a,u,d)=>{!d.width||!d.color||(i.save(),i.lineWidth=d.width,i.strokeStyle=d.color,i.setLineDash(d.borderDash||[]),i.lineDashOffset=d.borderDashOffset,i.beginPath(),i.moveTo(a.x,a.y),i.lineTo(u.x,u.y),i.stroke(),i.restore())};if(n.display)for(s=0,r=o.length;s<r;++s){const a=o[s];n.drawOnChartArea&&l({x:a.x1,y:a.y1},{x:a.x2,y:a.y2},a),n.drawTicks&&l({x:a.tx1,y:a.ty1},{x:a.tx2,y:a.ty2},{color:a.tickColor,width:a.tickWidth,borderDash:a.tickBorderDash,borderDashOffset:a.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:o}}=this,s=i.setContext(this.getContext()),r=i.display?s.width:0;if(!r)return;const l=o.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let u,d,h,m;this.isHorizontal()?(u=Ln(e,this.left,r)-r/2,d=Ln(e,this.right,l)+l/2,h=m=a):(h=Ln(e,this.top,r)-r/2,m=Ln(e,this.bottom,l)+l/2,u=d=a),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(u,h),n.lineTo(d,m),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,o=this._computeLabelArea();o&&yl(i,o);const s=this.getLabelItems(e);for(const r of s){const l=r.options,a=r.font,u=r.label,d=r.textOffset;Oi(i,u,0,d,a,l)}o&&_l(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:o}}=this;if(!i.display)return;const s=Te(i.font),r=Fe(i.padding),l=i.align;let a=s.lineHeight/2;n==="bottom"||n==="center"||W(n)?(a+=r.bottom,pe(i.text)&&(a+=s.lineHeight*(i.text.length-1))):a+=r.top;const{titleX:u,titleY:d,maxWidth:h,rotation:m}=G1(this,a,n,l);Oi(e,i.text,0,0,s,{color:i.color,maxWidth:h,rotation:m,textAlign:q1(l,n,o),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=$(e.grid&&e.grid.z,-1),o=$(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Cx.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",o=[];let s,r;for(s=0,r=n.length;s<r;++s){const l=n[s];l[i]===this.id&&(!e||l.type===e)&&o.push(l)}return o}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Te(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}};class Ws{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;j1(n)&&(i=this.register(n));const o=this.items,s=e.id,r=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in o||(o[s]=e,$1(e,r,i),this.override&&me.override(e.id,e.overrides)),r}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,o=this.scope;i in n&&delete n[i],o&&i in me[o]&&(delete me[o][i],this.override&&delete ei[i])}}function $1(t,e,n){const i=ls(Object.create(null),[n?me.get(n):{},me.get(e),t.defaults]);me.set(e,i),t.defaultRoutes&&W1(e,t.defaultRoutes),t.descriptors&&me.describe(e,t.descriptors)}function W1(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),o=i.pop(),s=[t].concat(i).join("."),r=e[n].split("."),l=r.pop(),a=r.join(".");me.route(s,o,a,l)})}function j1(t){return"id"in t&&"defaults"in t}class J1{constructor(){this.controllers=new Ws(Ho,"datasets",!0),this.elements=new Ws(In,"elements"),this.plugins=new Ws(Object,"plugins"),this.scales=new Ws(Jc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(o=>{const s=i||this._getRegistryForType(o);i||s.isForType(o)||s===this.plugins&&o.id?this._exec(e,s,o):K(o,r=>{const l=i||this._getRegistryForType(r);this._exec(e,l,r)})})}_exec(e,n,i){const o=Uc(e);ee(i["before"+o],[],i),n[e](i),ee(i["after"+o],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const o=n.get(e);if(o===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return o}}var Et=new J1;class Y1{constructor(){this._init=void 0}notify(e,n,i,o){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const s=o?this._descriptors(e).filter(o):this._descriptors(e),r=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),r}_notify(e,n,i,o){o=o||{};for(const s of e){const r=s.plugin,l=r[i],a=[n,o,s.options];if(ee(l,a,r)===!1&&o.cancelable)return!1}return!0}invalidate(){se(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,o=$(i.options&&i.options.plugins,{}),s=K1(i);return o===!1&&!n?[]:X1(e,s,o,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,o=(s,r)=>s.filter(l=>!r.some(a=>l.plugin.id===a.plugin.id));this._notify(o(n,i),e,"stop"),this._notify(o(i,n),e,"start")}}function K1(t){const e={},n=[],i=Object.keys(Et.plugins.items);for(let s=0;s<i.length;s++)n.push(Et.getPlugin(i[s]));const o=t.plugins||[];for(let s=0;s<o.length;s++){const r=o[s];n.indexOf(r)===-1&&(n.push(r),e[r.id]=!0)}return{plugins:n,localIds:e}}function Q1(t,e){return!e&&t===!1?null:t===!0?{}:t}function X1(t,{plugins:e,localIds:n},i,o){const s=[],r=t.getContext();for(const l of e){const a=l.id,u=Q1(i[a],o);u!==null&&s.push({plugin:l,options:Z1(t.config,{plugin:l,local:n[a]},u,r)})}return s}function Z1(t,{plugin:e,local:n},i,o){const s=t.pluginScopeKeys(e),r=t.getOptionScopes(i,s);return n&&e.defaults&&r.push(e.defaults),t.createResolver(r,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function hu(t,e){const n=me.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function eT(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function tT(t,e){return t===e?"_index_":"_value_"}function ap(t){if(t==="x"||t==="y"||t==="r")return t}function nT(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function mu(t,...e){if(ap(t))return t;for(const n of e){const i=n.axis||nT(n.position)||t.length>1&&ap(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function up(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function iT(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return up(t,"x",n[0])||up(t,"y",n[0])}return{}}function oT(t,e){const n=ei[t.type]||{scales:{}},i=e.scales||{},o=hu(t.type,e),s=Object.create(null);return Object.keys(i).forEach(r=>{const l=i[r];if(!W(l))return console.error(`Invalid scale configuration for scale: ${r}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${r}`);const a=mu(r,l,iT(r,t),me.scales[l.type]),u=tT(a,o),d=n.scales||{};s[r]=Fo(Object.create(null),[{axis:a},l,d[a],d[u]])}),t.data.datasets.forEach(r=>{const l=r.type||t.type,a=r.indexAxis||hu(l,e),d=(ei[l]||{}).scales||{};Object.keys(d).forEach(h=>{const m=eT(h,a),g=r[m+"AxisID"]||m;s[g]=s[g]||Object.create(null),Fo(s[g],[{axis:m},i[g],d[h]])})}),Object.keys(s).forEach(r=>{const l=s[r];Fo(l,[me.scales[l.type],me.scale])}),s}function Tx(t){const e=t.options||(t.options={});e.plugins=$(e.plugins,{}),e.scales=oT(t,e)}function kx(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function sT(t){return t=t||{},t.data=kx(t.data),Tx(t),t}const cp=new Map,Ex=new Set;function js(t,e){let n=cp.get(t);return n||(n=e(),cp.set(t,n),Ex.add(n)),n}const go=(t,e,n)=>{const i=as(e,n);i!==void 0&&t.add(i)};class rT{constructor(e){this._config=sT(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=kx(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Tx(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return js(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return js(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return js(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return js(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let o=i.get(e);return(!o||n)&&(o=new Map,i.set(e,o)),o}getOptionScopes(e,n,i){const{options:o,type:s}=this,r=this._cachedScopes(e,i),l=r.get(n);if(l)return l;const a=new Set;n.forEach(d=>{e&&(a.add(e),d.forEach(h=>go(a,e,h))),d.forEach(h=>go(a,o,h)),d.forEach(h=>go(a,ei[s]||{},h)),d.forEach(h=>go(a,me,h)),d.forEach(h=>go(a,fu,h))});const u=Array.from(a);return u.length===0&&u.push(Object.create(null)),Ex.has(n)&&r.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,ei[n]||{},me.datasets[n]||{},{type:n},me,fu]}resolveNamedOptions(e,n,i,o=[""]){const s={$shared:!0},{resolver:r,subPrefixes:l}=dp(this._resolverCache,e,o);let a=r;if(aT(r,n)){s.$shared=!1,i=En(i)?i():i;const u=this.createResolver(e,i,l);a=qi(r,i,u)}for(const u of n)s[u]=a[u];return s}createResolver(e,n,i=[""],o){const{resolver:s}=dp(this._resolverCache,e,i);return W(n)?qi(s,n,void 0,o):s}}function dp(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const o=n.join();let s=i.get(o);return s||(s={resolver:Oc(e,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},i.set(o,s)),s}const lT=t=>W(t)&&Object.getOwnPropertyNames(t).some(e=>En(t[e]));function aT(t,e){const{isScriptable:n,isIndexable:i}=sx(t);for(const o of e){const s=n(o),r=i(o),l=(r||s)&&t[o];if(s&&(En(l)||lT(l))||r&&pe(l))return!0}return!1}var uT="4.5.1";const cT=["top","bottom","left","right","chartArea"];function fp(t,e){return t==="top"||t==="bottom"||cT.indexOf(t)===-1&&e==="x"}function pp(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function hp(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),ee(n&&n.onComplete,[t],e)}function dT(t){const e=t.chart,n=e.options.animation;ee(n&&n.onProgress,[t],e)}function Ix(t){return $c()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const cr={},mp=t=>{const e=Ix(t);return Object.values(cr).filter(n=>n.canvas===e).pop()};function fT(t,e,n){const i=Object.keys(t);for(const o of i){const s=+o;if(s>=e){const r=t[o];delete t[o],(n>0||s>e)&&(t[s+n]=r)}}}function pT(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}var tn;let Cl=(tn=class{static register(...e){Et.add(...e),gp()}static unregister(...e){Et.remove(...e),gp()}constructor(e,n){const i=this.config=new rT(n),o=Ix(e),s=mp(o);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const r=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||P1(o)),this.platform.updateConfig(i);const l=this.platform.acquireContext(o,r.aspectRatio),a=l&&l.canvas,u=a&&a.height,d=a&&a.width;if(this.id=_w(),this.ctx=l,this.canvas=a,this.width=d,this.height=u,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Y1,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Vw(h=>this.update(h),r.resizeDelay||0),this._dataChanges=[],cr[this.id]=this,!l||!a){console.error("Failed to create chart: can't acquire context from the given item");return}Dt.listen(this,"complete",hp),Dt.listen(this,"progress",dT),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:o,_aspectRatio:s}=this;return se(e)?n&&s?s:o?i/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Et}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Hf(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Uf(this.canvas,this.ctx),this}stop(){return Dt.stop(this),this}resize(e,n){Dt.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,o=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(o,e,n,s),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,Hf(this,l,!0)&&(this.notifyPlugins("resize",{size:r}),ee(i.onResize,[this,r],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};K(n,(i,o)=>{i.id=o})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,o=Object.keys(i).reduce((r,l)=>(r[l]=!1,r),{});let s=[];n&&(s=s.concat(Object.keys(n).map(r=>{const l=n[r],a=mu(r,l),u=a==="r",d=a==="x";return{options:l,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),K(s,r=>{const l=r.options,a=l.id,u=mu(a,l),d=$(l.type,r.dtype);(l.position===void 0||fp(l.position,u)!==fp(r.dposition))&&(l.position=r.dposition),o[a]=!0;let h=null;if(a in i&&i[a].type===d)h=i[a];else{const m=Et.getScale(d);h=new m({id:a,type:d,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(l,e)}),K(o,(r,l)=>{r||delete i[l]}),K(i,r=>{dn.configure(this,r,r.options),dn.addBox(this,r)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((o,s)=>o.index-s.index),i>n){for(let o=n;o<i;++o)this._destroyDatasetMeta(o);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(pp("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,o)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,o;for(this._removeUnreferencedMetasets(),i=0,o=n.length;i<o;i++){const s=n[i];let r=this.getDatasetMeta(i);const l=s.type||this.config.type;if(r.type&&r.type!==l&&(this._destroyDatasetMeta(i),r=this.getDatasetMeta(i)),r.type=l,r.indexAxis=s.indexAxis||hu(l,this.options),r.order=s.order||0,r.index=i,r.label=""+s.label,r.visible=this.isDatasetVisible(i),r.controller)r.controller.updateIndex(i),r.controller.linkScales();else{const a=Et.getController(l),{datasetElementType:u,dataElementType:d}=me.datasets[l];Object.assign(a,{dataElementType:Et.getElement(d),datasetElementType:u&&Et.getElement(u)}),r.controller=new a(this,i),e.push(r.controller)}}return this._updateMetasets(),e}_resetElements(){K(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:h}=this.getDatasetMeta(u),m=!o&&s.indexOf(h)===-1;h.buildOrUpdateElements(m),r=Math.max(+h.getMaxOverflow(),r)}r=this._minPadding=i.layout.autoPadding?r:0,this._updateLayout(r),o||K(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(pp("z","_idx"));const{_active:l,_lastEvent:a}=this;a?this._eventHandler(a,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){K(this.scales,e=>{dn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Af(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:o,count:s}of n){const r=i==="_removeElements"?-s:s;fT(e,o,r)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(e.filter(r=>r[0]===s).map((r,l)=>l+","+r.splice(1).join(","))),o=i(0);for(let s=1;s<n;s++)if(!Af(o,i(s)))return;return Array.from(o).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;dn.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],K(this.boxes,o=>{i&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,s)=>{o._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,En(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),o={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(i.controller._update(n),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Dt.has(this)?this.attached&&!Dt.running(this)&&Dt.start(this):(this.draw(),hp({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let o,s;for(o=0,s=n.length;o<s;++o){const r=n[o];(!e||r.visible)&&i.push(r)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},o=mx(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(o&&yl(n,o),e.controller.draw(),o&&_l(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Ot(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,o){const s=c1.modes[n];return typeof s=="function"?s(this,e,i,o):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let o=i.filter(s=>s&&s._dataset===n).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(o)),o}getContext(){return this.$context||(this.$context=Pn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const o=i?"show":"hide",s=this.getDatasetMeta(e),r=s.controller._resolveAnimations(void 0,o);qr(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),r.update(s,{visible:i}),this.update(l=>l.datasetIndex===e?o:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Dt.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Uf(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete cr[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(s,r)=>{n.addEventListener(this,s,r),e[s]=r},o=(s,r,l)=>{s.offsetX=r,s.offsetY=l,this._eventHandler(s)};K(this.options.events,s=>i(s,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(a,u)=>{n.addEventListener(this,a,u),e[a]=u},o=(a,u)=>{e[a]&&(n.removeEventListener(this,a,u),delete e[a])},s=(a,u)=>{this.canvas&&this.resize(a,u)};let r;const l=()=>{o("attach",l),this.attached=!0,this.resize(),i("resize",s),i("detach",r)};r=()=>{this.attached=!1,o("resize",s),this._stop(),this._resize(0,0),i("attach",l)},n.isAttached(this.canvas)?l():r()}unbindEvents(){K(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},K(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const o=i?"set":"remove";let s,r,l,a;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+o+"DatasetHoverStyle"]()),l=0,a=e.length;l<a;++l){r=e[l];const u=r&&this.getDatasetMeta(r.datasetIndex).controller;u&&u[o+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:s,index:r})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[r],index:r}});!Hr(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const o=this.options.hover,s=(a,u)=>a.filter(d=>!u.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),r=s(n,e),l=i?e:s(e,n);r.length&&this.updateHoverStyle(r,o.mode,!1),l.length&&o.mode&&this.updateHoverStyle(l,o.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},o=r=>(r.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,o)===!1)return;const s=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,o),(s||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:o=[],options:s}=this,r=n,l=this._getActiveElements(e,o,i,r),a=Ew(e),u=pT(e,this._lastEvent,i,a);i&&(this._lastEvent=null,ee(s.onHover,[e,l,this],this),a&&ee(s.onClick,[e,l,this],this));const d=!Hr(l,o);return(d||n)&&(this._active=l,this._updateHoverStyles(l,o,n)),this._lastEvent=u,d}_getActiveElements(e,n,i,o){if(e.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,o)}},U(tn,"defaults",me),U(tn,"instances",cr),U(tn,"overrides",ei),U(tn,"registry",Et),U(tn,"version",uT),U(tn,"getChart",mp),tn);function gp(){return K(Cl.instances,t=>t._plugins.invalidate())}function bx(t,e,n=e){t.lineCap=$(n.borderCapStyle,e.borderCapStyle),t.setLineDash($(n.borderDash,e.borderDash)),t.lineDashOffset=$(n.borderDashOffset,e.borderDashOffset),t.lineJoin=$(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=$(n.borderWidth,e.borderWidth),t.strokeStyle=$(n.borderColor,e.borderColor)}function hT(t,e,n){t.lineTo(n.x,n.y)}function mT(t){return t.stepped?Zw:t.tension||t.cubicInterpolationMode==="monotone"?eC:hT}function Ax(t,e,n={}){const i=t.length,{start:o=0,end:s=i-1}=n,{start:r,end:l}=e,a=Math.max(o,r),u=Math.min(s,l),d=o<r&&s<r||o>l&&s>l;return{count:i,start:a,loop:e.loop,ilen:u<a&&!d?i+u-a:u-a}}function gT(t,e,n,i){const{points:o,options:s}=e,{count:r,start:l,loop:a,ilen:u}=Ax(o,n,i),d=mT(s);let{move:h=!0,reverse:m}=i||{},g,x,v;for(g=0;g<=u;++g)x=o[(l+(m?u-g:g))%r],!x.skip&&(h?(t.moveTo(x.x,x.y),h=!1):d(t,v,x,m,s.stepped),v=x);return a&&(x=o[(l+(m?u:0))%r],d(t,v,x,m,s.stepped)),!!a}function xT(t,e,n,i){const o=e.points,{count:s,start:r,ilen:l}=Ax(o,n,i),{move:a=!0,reverse:u}=i||{};let d=0,h=0,m,g,x,v,w,S;const _=C=>(r+(u?l-C:C))%s,y=()=>{v!==w&&(t.lineTo(d,w),t.lineTo(d,v),t.lineTo(d,S))};for(a&&(g=o[_(0)],t.moveTo(g.x,g.y)),m=0;m<=l;++m){if(g=o[_(m)],g.skip)continue;const C=g.x,T=g.y,k=C|0;k===x?(T<v?v=T:T>w&&(w=T),d=(h*d+C)/++h):(y(),t.lineTo(C,T),x=k,h=0,v=w=T),S=T}y()}function gu(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?xT:gT}function vT(t){return t.stepped?DC:t.tension||t.cubicInterpolationMode==="monotone"?LC:Vn}function yT(t,e,n,i){let o=e._path;o||(o=e._path=new Path2D,e.path(o,n,i)&&o.closePath()),bx(t,e.options),t.stroke(o)}function _T(t,e,n,i){const{segments:o,options:s}=e,r=gu(e);for(const l of o)bx(t,s,l.style),t.beginPath(),r(t,e,l,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const ST=typeof Path2D=="function";function wT(t,e,n,i){ST&&!e.options.segment?yT(t,e,n,i):_T(t,e,n,i)}class fn extends In{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const o=i.spanGaps?this._loop:this._fullLoop;EC(this._points,i,e,o,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=HC(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,o=e[n],s=this.points,r=hx(this,{property:n,start:o,end:o});if(!r.length)return;const l=[],a=vT(i);let u,d;for(u=0,d=r.length;u<d;++u){const{start:h,end:m}=r[u],g=s[h],x=s[m];if(g===x){l.push(g);continue}const v=Math.abs((o-g[n])/(x[n]-g[n])),w=a(g,x,v,i.stepped);w[n]=e[n],l.push(w)}return l.length===1?l[0]:l}pathSegment(e,n,i){return gu(this)(e,this,n,i)}path(e,n,i){const o=this.segments,s=gu(this);let r=this._loop;n=n||0,i=i||this.points.length-n;for(const l of o)r&=s(e,this,l,{start:n,end:n+i-1});return!!r}draw(e,n,i,o){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),wT(e,this,i,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}U(fn,"id","line"),U(fn,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),U(fn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),U(fn,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function xp(t,e,n,i){const o=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<o.radius+o.hitRadius}class dr extends In{constructor(n){super();U(this,"parsed");U(this,"skip");U(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,o){const s=this.options,{x:r,y:l}=this.getProps(["x","y"],o);return Math.pow(n-r,2)+Math.pow(i-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,i){return xp(this,n,"x",i)}inYRange(n,i){return xp(this,n,"y",i)}getCenterPoint(n){const{x:i,y:o}=this.getProps(["x","y"],n);return{x:i,y:o}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const o=i&&n.borderWidth||0;return(i+o)*2}draw(n,i){const o=this.options;this.skip||o.radius<.1||!Ot(this,i,this.size(o)/2)||(n.strokeStyle=o.borderColor,n.lineWidth=o.borderWidth,n.fillStyle=o.backgroundColor,pu(n,o,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}U(dr,"id","point"),U(dr,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),U(dr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function CT(t,e,n){const i=t.segments,o=t.points,s=e.points,r=[];for(const l of i){let{start:a,end:u}=l;u=Tl(a,u,o);const d=xu(n,o[a],o[u],l.loop);if(!e.segments){r.push({source:l,target:d,start:o[a],end:o[u]});continue}const h=hx(e,d);for(const m of h){const g=xu(n,s[m.start],s[m.end],m.loop),x=px(l,o,g);for(const v of x)r.push({source:v,target:m,start:{[n]:vp(d,g,"start",Math.max)},end:{[n]:vp(d,g,"end",Math.min)}})}}return r}function xu(t,e,n,i){if(i)return;let o=e[t],s=n[t];return t==="angle"&&(o=Qe(o),s=Qe(s)),{property:t,start:o,end:s}}function TT(t,e){const{x:n=null,y:i=null}=t||{},o=e.points,s=[];return e.segments.forEach(({start:r,end:l})=>{l=Tl(r,l,o);const a=o[r],u=o[l];i!==null?(s.push({x:a.x,y:i}),s.push({x:u.x,y:i})):n!==null&&(s.push({x:n,y:a.y}),s.push({x:n,y:u.y}))}),s}function Tl(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function vp(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function Nx(t,e){let n=[],i=!1;return pe(t)?(i=!0,n=t):n=TT(t,e),n.length?new fn({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function yp(t){return t&&t.fill!==!1}function kT(t,e,n){let o=t[e].fill;const s=[e];let r;if(!n)return o;for(;o!==!1&&s.indexOf(o)===-1;){if(!Me(o))return o;if(r=t[o],!r)return!1;if(r.visible)return o;s.push(o),o=r.fill}return!1}function ET(t,e,n){const i=NT(t);if(W(i))return isNaN(i.value)?!1:i;let o=parseFloat(i);return Me(o)&&Math.floor(o)===o?IT(i[0],e,o,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function IT(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function bT(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:W(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function AT(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:W(t)?i=t.value:i=e.getBaseValue(),i}function NT(t){const e=t.options,n=e.fill;let i=$(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function PT(t){const{scale:e,index:n,line:i}=t,o=[],s=i.segments,r=i.points,l=MT(e,n);l.push(Nx({x:null,y:e.bottom},i));for(let a=0;a<s.length;a++){const u=s[a];for(let d=u.start;d<=u.end;d++)RT(o,r[d],l)}return new fn({points:o,options:{}})}function MT(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let o=0;o<i.length;o++){const s=i[o];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function RT(t,e,n){const i=[];for(let o=0;o<n.length;o++){const s=n[o],{first:r,last:l,point:a}=DT(s,e,"x");if(!(!a||r&&l)){if(r)i.unshift(a);else if(t.push(a),!l)break}}t.push(...i)}function DT(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const o=i[n],s=t.segments,r=t.points;let l=!1,a=!1;for(let u=0;u<s.length;u++){const d=s[u],h=r[d.start][n],m=r[d.end][n];if(_i(o,h,m)){l=o===h,a=o===m;break}}return{first:l,last:a,point:i}}class Px{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:o,y:s,radius:r}=this;return n=n||{start:0,end:tt},e.arc(o,s,r,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:o}=this,s=e.angle;return{x:n+Math.cos(s)*o,y:i+Math.sin(s)*o,angle:s}}}function LT(t){const{chart:e,fill:n,line:i}=t;if(Me(n))return zT(e,n);if(n==="stack")return PT(t);if(n==="shape")return!0;const o=FT(t);return o instanceof Px?o:Nx(o,i)}function zT(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function FT(t){return(t.scale||{}).getPointPositionForValue?BT(t):UT(t)}function UT(t){const{scale:e={},fill:n}=t,i=bT(n,e);if(Me(i)){const o=e.isHorizontal();return{x:o?i:null,y:o?null:i}}return null}function BT(t){const{scale:e,fill:n}=t,i=e.options,o=e.getLabels().length,s=i.reverse?e.max:e.min,r=AT(n,e,s),l=[];if(i.grid.circular){const a=e.getPointPositionForValue(0,s);return new Px({x:a.x,y:a.y,radius:e.getDistanceFromCenterForValue(r)})}for(let a=0;a<o;++a)l.push(e.getPointPositionForValue(a,r));return l}function fa(t,e,n){const i=LT(e),{chart:o,index:s,line:r,scale:l,axis:a}=e,u=r.options,d=u.fill,h=u.backgroundColor,{above:m=h,below:g=h}=d||{},x=o.getDatasetMeta(s),v=mx(o,x);i&&r.points.length&&(yl(t,n),VT(t,{line:r,target:i,above:m,below:g,area:n,scale:l,axis:a,clip:v}),_l(t))}function VT(t,e){const{line:n,target:i,above:o,below:s,area:r,scale:l,clip:a}=e,u=n._loop?"angle":e.axis;t.save();let d=s;s!==o&&(u==="x"?(_p(t,i,r.top),pa(t,{line:n,target:i,color:o,scale:l,property:u,clip:a}),t.restore(),t.save(),_p(t,i,r.bottom)):u==="y"&&(Sp(t,i,r.left),pa(t,{line:n,target:i,color:s,scale:l,property:u,clip:a}),t.restore(),t.save(),Sp(t,i,r.right),d=o)),pa(t,{line:n,target:i,color:d,scale:l,property:u,clip:a}),t.restore()}function _p(t,e,n){const{segments:i,points:o}=e;let s=!0,r=!1;t.beginPath();for(const l of i){const{start:a,end:u}=l,d=o[a],h=o[Tl(a,u,o)];s?(t.moveTo(d.x,d.y),s=!1):(t.lineTo(d.x,n),t.lineTo(d.x,d.y)),r=!!e.pathSegment(t,l,{move:r}),r?t.closePath():t.lineTo(h.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function Sp(t,e,n){const{segments:i,points:o}=e;let s=!0,r=!1;t.beginPath();for(const l of i){const{start:a,end:u}=l,d=o[a],h=o[Tl(a,u,o)];s?(t.moveTo(d.x,d.y),s=!1):(t.lineTo(n,d.y),t.lineTo(d.x,d.y)),r=!!e.pathSegment(t,l,{move:r}),r?t.closePath():t.lineTo(n,h.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function pa(t,e){const{line:n,target:i,property:o,color:s,scale:r,clip:l}=e,a=CT(n,i,o);for(const{source:u,target:d,start:h,end:m}of a){const{style:{backgroundColor:g=s}={}}=u,x=i!==!0;t.save(),t.fillStyle=g,HT(t,r,l,x&&xu(o,h,m)),t.beginPath();const v=!!n.pathSegment(t,u);let w;if(x){v?t.closePath():wp(t,i,m,o);const S=!!i.pathSegment(t,d,{move:v,reverse:!0});w=v&&S,w||wp(t,i,h,o)}t.closePath(),t.fill(w?"evenodd":"nonzero"),t.restore()}}function HT(t,e,n,i){const o=e.chart.chartArea,{property:s,start:r,end:l}=i||{};if(s==="x"||s==="y"){let a,u,d,h;s==="x"?(a=r,u=o.top,d=l,h=o.bottom):(a=o.left,u=r,d=o.right,h=l),t.beginPath(),n&&(a=Math.max(a,n.left),d=Math.min(d,n.right),u=Math.max(u,n.top),h=Math.min(h,n.bottom)),t.rect(a,u,d-a,h-u),t.clip()}}function wp(t,e,n,i){const o=e.interpolate(n,i);o&&t.lineTo(o.x,o.y)}var OT={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,o=[];let s,r,l,a;for(r=0;r<i;++r)s=t.getDatasetMeta(r),l=s.dataset,a=null,l&&l.options&&l instanceof fn&&(a={visible:t.isDatasetVisible(r),index:r,fill:ET(l,r,i),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:l}),s.$filler=a,o.push(a);for(r=0;r<i;++r)a=o[r],!(!a||a.fill===!1)&&(a.fill=kT(o,r,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",o=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let r=o.length-1;r>=0;--r){const l=o[r].$filler;l&&(l.line.updateControlPoints(s,l.axis),i&&l.fill&&fa(t.ctx,l,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let o=i.length-1;o>=0;--o){const s=i[o].$filler;yp(s)&&fa(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!yp(i)||n.drawTime!=="beforeDatasetDraw"||fa(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Cp=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},qT=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Tp extends In{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=ee(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,o)=>e.sort(i,o,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,o=Te(i.font),s=o.size,r=this._computeTitleHeight(),{boxWidth:l,itemHeight:a}=Cp(i,s);let u,d;n.font=o.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(r,s,l,a)+10):(d=this.maxHeight,u=this._fitCols(r,o,l,a)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,o){const{ctx:s,maxWidth:r,options:{labels:{padding:l}}}=this,a=this.legendHitBoxes=[],u=this.lineWidths=[0],d=o+l;let h=e;s.textAlign="left",s.textBaseline="middle";let m=-1,g=-d;return this.legendItems.forEach((x,v)=>{const w=i+n/2+s.measureText(x.text).width;(v===0||u[u.length-1]+w+2*l>r)&&(h+=d,u[u.length-(v>0?0:1)]=0,g+=d,m++),a[v]={left:0,top:g,row:m,width:w,height:o},u[u.length-1]+=w+l}),h}_fitCols(e,n,i,o){const{ctx:s,maxHeight:r,options:{labels:{padding:l}}}=this,a=this.legendHitBoxes=[],u=this.columnSizes=[],d=r-e;let h=l,m=0,g=0,x=0,v=0;return this.legendItems.forEach((w,S)=>{const{itemWidth:_,itemHeight:y}=GT(i,n,s,w,o);S>0&&g+y+2*l>d&&(h+=m+l,u.push({width:m,height:g}),x+=m+l,v++,m=g=0),a[S]={left:x,top:g,col:v,width:_,height:y},m=Math.max(m,_),g+=y+l}),h+=m,u.push({width:m,height:g}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:o},rtl:s}}=this,r=Ni(s,this.left,this.width);if(this.isHorizontal()){let l=0,a=je(i,this.left+o,this.right-this.lineWidths[l]);for(const u of n)l!==u.row&&(l=u.row,a=je(i,this.left+o,this.right-this.lineWidths[l])),u.top+=this.top+e+o,u.left=r.leftForLtr(r.x(a),u.width),a+=u.width+o}else{let l=0,a=je(i,this.top+e+o,this.bottom-this.columnSizes[l].height);for(const u of n)u.col!==l&&(l=u.col,a=je(i,this.top+e+o,this.bottom-this.columnSizes[l].height)),u.top=a,u.left+=this.left+o,u.left=r.leftForLtr(r.x(u.left),u.width),a+=u.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;yl(e,this),this._draw(),_l(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:o}=this,{align:s,labels:r}=e,l=me.color,a=Ni(e.rtl,this.left,this.width),u=Te(r.font),{padding:d}=r,h=u.size,m=h/2;let g;this.drawTitle(),o.textAlign=a.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=u.string;const{boxWidth:x,boxHeight:v,itemHeight:w}=Cp(r,h),S=function(k,I,b){if(isNaN(x)||x<=0||isNaN(v)||v<0)return;o.save();const N=$(b.lineWidth,1);if(o.fillStyle=$(b.fillStyle,l),o.lineCap=$(b.lineCap,"butt"),o.lineDashOffset=$(b.lineDashOffset,0),o.lineJoin=$(b.lineJoin,"miter"),o.lineWidth=N,o.strokeStyle=$(b.strokeStyle,l),o.setLineDash($(b.lineDash,[])),r.usePointStyle){const A={radius:v*Math.SQRT2/2,pointStyle:b.pointStyle,rotation:b.rotation,borderWidth:N},E=a.xPlus(k,x/2),P=I+m;ix(o,A,E,P,r.pointStyleWidth&&x)}else{const A=I+Math.max((h-v)/2,0),E=a.leftForLtr(k,x),P=Ai(b.borderRadius);o.beginPath(),Object.values(P).some(D=>D!==0)?jr(o,{x:E,y:A,w:x,h:v,radius:P}):o.rect(E,A,x,v),o.fill(),N!==0&&o.stroke()}o.restore()},_=function(k,I,b){Oi(o,b.text,k,I+w/2,u,{strikethrough:b.hidden,textAlign:a.textAlign(b.textAlign)})},y=this.isHorizontal(),C=this._computeTitleHeight();y?g={x:je(s,this.left+d,this.right-i[0]),y:this.top+d+C,line:0}:g={x:this.left+d,y:je(s,this.top+C+d,this.bottom-n[0].height),line:0},cx(this.ctx,e.textDirection);const T=w+d;this.legendItems.forEach((k,I)=>{o.strokeStyle=k.fontColor,o.fillStyle=k.fontColor;const b=o.measureText(k.text).width,N=a.textAlign(k.textAlign||(k.textAlign=r.textAlign)),A=x+m+b;let E=g.x,P=g.y;a.setWidth(this.width),y?I>0&&E+A+d>this.right&&(P=g.y+=T,g.line++,E=g.x=je(s,this.left+d,this.right-i[g.line])):I>0&&P+T>this.bottom&&(E=g.x=E+n[g.line].width+d,g.line++,P=g.y=je(s,this.top+C+d,this.bottom-n[g.line].height));const D=a.x(E);if(S(D,P,k),E=Hw(N,E+x+m,y?E+A:this.right,e.rtl),_(a.x(E),P,k),y)g.x+=A+d;else if(typeof k.text!="string"){const q=u.lineHeight;g.y+=Mx(k,q)+d}else g.y+=T}),dx(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=Te(n.font),o=Fe(n.padding);if(!n.display)return;const s=Ni(e.rtl,this.left,this.width),r=this.ctx,l=n.position,a=i.size/2,u=o.top+a;let d,h=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),d=this.top+u,h=je(e.align,h,this.right-m);else{const x=this.columnSizes.reduce((v,w)=>Math.max(v,w.height),0);d=u+je(e.align,this.top,this.bottom-x-e.labels.padding-this._computeTitleHeight())}const g=je(l,h,h+m);r.textAlign=s.textAlign(ex(l)),r.textBaseline="middle",r.strokeStyle=n.color,r.fillStyle=n.color,r.font=i.string,Oi(r,n.text,g,d,i)}_computeTitleHeight(){const e=this.options.title,n=Te(e.font),i=Fe(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,o,s;if(_i(e,this.left,this.right)&&_i(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(o=s[i],_i(e,o.left,o.left+o.width)&&_i(n,o.top,o.top+o.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!jT(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const o=this._hoveredItem,s=qT(o,i);o&&!s&&ee(n.onLeave,[e,o,this],this),this._hoveredItem=i,i&&!s&&ee(n.onHover,[e,i,this],this)}else i&&ee(n.onClick,[e,i,this],this)}}function GT(t,e,n,i,o){const s=$T(i,t,e,n),r=WT(o,i,e.lineHeight);return{itemWidth:s,itemHeight:r}}function $T(t,e,n,i){let o=t.text;return o&&typeof o!="string"&&(o=o.reduce((s,r)=>s.length>r.length?s:r)),e+n.size/2+i.measureText(o).width}function WT(t,e,n){let i=t;return typeof e.text!="string"&&(i=Mx(e,n)),i}function Mx(t,e){const n=t.text?t.text.length:0;return e*n}function jT(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var JT={id:"legend",_element:Tp,start(t,e,n){const i=t.legend=new Tp({ctx:t.ctx,options:n,chart:t});dn.configure(t,i,n),dn.addBox(t,i)},stop(t){dn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;dn.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,o=n.chart;o.isDatasetVisible(i)?(o.hide(i),e.hidden=!0):(o.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:o,color:s,useBorderRadius:r,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(a=>{const u=a.controller.getStyle(n?0:void 0),d=Fe(u.borderWidth);return{text:e[a.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!a.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:i||u.pointStyle,rotation:u.rotation,textAlign:o||u.textAlign,borderRadius:r&&(l||u.borderRadius),datasetIndex:a.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};const To={average(t){if(!t.length)return!1;let e,n,i=new Set,o=0,s=0;for(e=0,n=t.length;e<n;++e){const l=t[e].element;if(l&&l.hasValue()){const a=l.tooltipPosition();i.add(a.x),o+=a.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((l,a)=>l+a)/i.size,y:o/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,o=Number.POSITIVE_INFINITY,s,r,l;for(s=0,r=t.length;s<r;++s){const a=t[s].element;if(a&&a.hasValue()){const u=a.getCenterPoint(),d=cu(e,u);d<o&&(o=d,l=a)}}if(l){const a=l.tooltipPosition();n=a.x,i=a.y}return{x:n,y:i}}};function Tt(t,e){return e&&(pe(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Lt(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function YT(t,e){const{element:n,datasetIndex:i,index:o}=e,s=t.getDatasetMeta(i).controller,{label:r,value:l}=s.getLabelAndValue(o);return{chart:t,label:r,parsed:s.getParsed(o),raw:t.data.datasets[i].data[o],formattedValue:l,dataset:s.getDataset(),dataIndex:o,datasetIndex:i,element:n}}function kp(t,e){const n=t.chart.ctx,{body:i,footer:o,title:s}=t,{boxWidth:r,boxHeight:l}=e,a=Te(e.bodyFont),u=Te(e.titleFont),d=Te(e.footerFont),h=s.length,m=o.length,g=i.length,x=Fe(e.padding);let v=x.height,w=0,S=i.reduce((C,T)=>C+T.before.length+T.lines.length+T.after.length,0);if(S+=t.beforeBody.length+t.afterBody.length,h&&(v+=h*u.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),S){const C=e.displayColors?Math.max(l,a.lineHeight):a.lineHeight;v+=g*C+(S-g)*a.lineHeight+(S-1)*e.bodySpacing}m&&(v+=e.footerMarginTop+m*d.lineHeight+(m-1)*e.footerSpacing);let _=0;const y=function(C){w=Math.max(w,n.measureText(C).width+_)};return n.save(),n.font=u.string,K(t.title,y),n.font=a.string,K(t.beforeBody.concat(t.afterBody),y),_=e.displayColors?r+2+e.boxPadding:0,K(i,C=>{K(C.before,y),K(C.lines,y),K(C.after,y)}),_=0,n.font=d.string,K(t.footer,y),n.restore(),w+=x.width,{width:w,height:v}}function KT(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function QT(t,e,n,i){const{x:o,width:s}=i,r=n.caretSize+n.caretPadding;if(t==="left"&&o+s+r>e.width||t==="right"&&o-s-r<0)return!0}function XT(t,e,n,i){const{x:o,width:s}=n,{width:r,chartArea:{left:l,right:a}}=t;let u="center";return i==="center"?u=o<=(l+a)/2?"left":"right":o<=s/2?u="left":o>=r-s/2&&(u="right"),QT(u,t,e,n)&&(u="center"),u}function Ep(t,e,n){const i=n.yAlign||e.yAlign||KT(t,n);return{xAlign:n.xAlign||e.xAlign||XT(t,e,n,i),yAlign:i}}function ZT(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function ek(t,e,n){let{y:i,height:o}=t;return e==="top"?i+=n:e==="bottom"?i-=o+n:i-=o/2,i}function Ip(t,e,n,i){const{caretSize:o,caretPadding:s,cornerRadius:r}=t,{xAlign:l,yAlign:a}=n,u=o+s,{topLeft:d,topRight:h,bottomLeft:m,bottomRight:g}=Ai(r);let x=ZT(e,l);const v=ek(e,a,u);return a==="center"?l==="left"?x+=u:l==="right"&&(x-=u):l==="left"?x-=Math.max(d,m)+o:l==="right"&&(x+=Math.max(h,g)+o),{x:Ht(x,0,i.width-e.width),y:Ht(v,0,i.height-e.height)}}function Js(t,e,n){const i=Fe(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function bp(t){return Tt([],Lt(t))}function tk(t,e,n){return Pn(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Ap(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Rx={beforeTitle:Rt,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Rt,beforeBody:Rt,beforeLabel:Rt,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return se(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Rt,afterBody:Rt,beforeFooter:Rt,footer:Rt,afterFooter:Rt};function Ve(t,e,n,i){const o=t[e].call(n,i);return typeof o>"u"?Rx[e].call(n,i):o}class vu extends In{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),o=i.enabled&&n.options.animation&&i.animations,s=new gx(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=tk(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,o=Ve(i,"beforeTitle",this,e),s=Ve(i,"title",this,e),r=Ve(i,"afterTitle",this,e);let l=[];return l=Tt(l,Lt(o)),l=Tt(l,Lt(s)),l=Tt(l,Lt(r)),l}getBeforeBody(e,n){return bp(Ve(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,o=[];return K(e,s=>{const r={before:[],lines:[],after:[]},l=Ap(i,s);Tt(r.before,Lt(Ve(l,"beforeLabel",this,s))),Tt(r.lines,Ve(l,"label",this,s)),Tt(r.after,Lt(Ve(l,"afterLabel",this,s))),o.push(r)}),o}getAfterBody(e,n){return bp(Ve(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,o=Ve(i,"beforeFooter",this,e),s=Ve(i,"footer",this,e),r=Ve(i,"afterFooter",this,e);let l=[];return l=Tt(l,Lt(o)),l=Tt(l,Lt(s)),l=Tt(l,Lt(r)),l}_createItems(e){const n=this._active,i=this.chart.data,o=[],s=[],r=[];let l=[],a,u;for(a=0,u=n.length;a<u;++a)l.push(YT(this.chart,n[a]));return e.filter&&(l=l.filter((d,h,m)=>e.filter(d,h,m,i))),e.itemSort&&(l=l.sort((d,h)=>e.itemSort(d,h,i))),K(l,d=>{const h=Ap(e.callbacks,d);o.push(Ve(h,"labelColor",this,d)),s.push(Ve(h,"labelPointStyle",this,d)),r.push(Ve(h,"labelTextColor",this,d))}),this.labelColors=o,this.labelPointStyles=s,this.labelTextColors=r,this.dataPoints=l,l}update(e,n){const i=this.options.setContext(this.getContext()),o=this._active;let s,r=[];if(!o.length)this.opacity!==0&&(s={opacity:0});else{const l=To[i.position].call(this,o,this._eventPosition);r=this._createItems(i),this.title=this.getTitle(r,i),this.beforeBody=this.getBeforeBody(r,i),this.body=this.getBody(r,i),this.afterBody=this.getAfterBody(r,i),this.footer=this.getFooter(r,i);const a=this._size=kp(this,i),u=Object.assign({},l,a),d=Ep(this.chart,i,u),h=Ip(i,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:h.x,y:h.y,width:a.width,height:a.height,caretX:l.x,caretY:l.y}}this._tooltipItems=r,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,o){const s=this.getCaretPosition(e,i,o);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,i){const{xAlign:o,yAlign:s}=this,{caretSize:r,cornerRadius:l}=i,{topLeft:a,topRight:u,bottomLeft:d,bottomRight:h}=Ai(l),{x:m,y:g}=e,{width:x,height:v}=n;let w,S,_,y,C,T;return s==="center"?(C=g+v/2,o==="left"?(w=m,S=w-r,y=C+r,T=C-r):(w=m+x,S=w+r,y=C-r,T=C+r),_=w):(o==="left"?S=m+Math.max(a,d)+r:o==="right"?S=m+x-Math.max(u,h)-r:S=this.caretX,s==="top"?(y=g,C=y-r,w=S-r,_=S+r):(y=g+v,C=y+r,w=S+r,_=S-r),T=y),{x1:w,x2:S,x3:_,y1:y,y2:C,y3:T}}drawTitle(e,n,i){const o=this.title,s=o.length;let r,l,a;if(s){const u=Ni(i.rtl,this.x,this.width);for(e.x=Js(this,i.titleAlign,i),n.textAlign=u.textAlign(i.titleAlign),n.textBaseline="middle",r=Te(i.titleFont),l=i.titleSpacing,n.fillStyle=i.titleColor,n.font=r.string,a=0;a<s;++a)n.fillText(o[a],u.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+l,a+1===s&&(e.y+=i.titleMarginBottom-l)}}_drawColorBox(e,n,i,o,s){const r=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:a,boxWidth:u}=s,d=Te(s.bodyFont),h=Js(this,"left",s),m=o.x(h),g=a<d.lineHeight?(d.lineHeight-a)/2:0,x=n.y+g;if(s.usePointStyle){const v={radius:Math.min(u,a)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},w=o.leftForLtr(m,u)+u/2,S=x+a/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,pu(e,v,w,S),e.strokeStyle=r.borderColor,e.fillStyle=r.backgroundColor,pu(e,v,w,S)}else{e.lineWidth=W(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,e.strokeStyle=r.borderColor,e.setLineDash(r.borderDash||[]),e.lineDashOffset=r.borderDashOffset||0;const v=o.leftForLtr(m,u),w=o.leftForLtr(o.xPlus(m,1),u-2),S=Ai(r.borderRadius);Object.values(S).some(_=>_!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,jr(e,{x:v,y:x,w:u,h:a,radius:S}),e.fill(),e.stroke(),e.fillStyle=r.backgroundColor,e.beginPath(),jr(e,{x:w,y:x+1,w:u-2,h:a-2,radius:S}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(v,x,u,a),e.strokeRect(v,x,u,a),e.fillStyle=r.backgroundColor,e.fillRect(w,x+1,u-2,a-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:o}=this,{bodySpacing:s,bodyAlign:r,displayColors:l,boxHeight:a,boxWidth:u,boxPadding:d}=i,h=Te(i.bodyFont);let m=h.lineHeight,g=0;const x=Ni(i.rtl,this.x,this.width),v=function(b){n.fillText(b,x.x(e.x+g),e.y+m/2),e.y+=m+s},w=x.textAlign(r);let S,_,y,C,T,k,I;for(n.textAlign=r,n.textBaseline="middle",n.font=h.string,e.x=Js(this,w,i),n.fillStyle=i.bodyColor,K(this.beforeBody,v),g=l&&w!=="right"?r==="center"?u/2+d:u+2+d:0,C=0,k=o.length;C<k;++C){for(S=o[C],_=this.labelTextColors[C],n.fillStyle=_,K(S.before,v),y=S.lines,l&&y.length&&(this._drawColorBox(n,e,C,x,i),m=Math.max(h.lineHeight,a)),T=0,I=y.length;T<I;++T)v(y[T]),m=h.lineHeight;K(S.after,v)}g=0,m=h.lineHeight,K(this.afterBody,v),e.y-=s}drawFooter(e,n,i){const o=this.footer,s=o.length;let r,l;if(s){const a=Ni(i.rtl,this.x,this.width);for(e.x=Js(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=a.textAlign(i.footerAlign),n.textBaseline="middle",r=Te(i.footerFont),n.fillStyle=i.footerColor,n.font=r.string,l=0;l<s;++l)n.fillText(o[l],a.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+i.footerSpacing}}drawBackground(e,n,i,o){const{xAlign:s,yAlign:r}=this,{x:l,y:a}=e,{width:u,height:d}=i,{topLeft:h,topRight:m,bottomLeft:g,bottomRight:x}=Ai(o.cornerRadius);n.fillStyle=o.backgroundColor,n.strokeStyle=o.borderColor,n.lineWidth=o.borderWidth,n.beginPath(),n.moveTo(l+h,a),r==="top"&&this.drawCaret(e,n,i,o),n.lineTo(l+u-m,a),n.quadraticCurveTo(l+u,a,l+u,a+m),r==="center"&&s==="right"&&this.drawCaret(e,n,i,o),n.lineTo(l+u,a+d-x),n.quadraticCurveTo(l+u,a+d,l+u-x,a+d),r==="bottom"&&this.drawCaret(e,n,i,o),n.lineTo(l+g,a+d),n.quadraticCurveTo(l,a+d,l,a+d-g),r==="center"&&s==="left"&&this.drawCaret(e,n,i,o),n.lineTo(l,a+h),n.quadraticCurveTo(l,a,l+h,a),n.closePath(),n.fill(),o.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,o=i&&i.x,s=i&&i.y;if(o||s){const r=To[e.position].call(this,this._active,this._eventPosition);if(!r)return;const l=this._size=kp(this,e),a=Object.assign({},r,this._size),u=Ep(n,e,a),d=Ip(e,a,u,n);(o._to!==d.x||s._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const o={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const r=Fe(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,o,n),cx(e,n.textDirection),s.y+=r.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),dx(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,o=e.map(({datasetIndex:l,index:a})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[a],index:a}}),s=!Hr(i,o),r=this._positionChanged(o,n);(s||r)&&(this._active=o,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,s=this._active||[],r=this._getActiveElements(e,s,n,i),l=this._positionChanged(r,e),a=n||!Hr(r,s)||l;return a&&(this._active=r,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),a}_getActiveElements(e,n,i,o){const s=this.options;if(e.type==="mouseout")return[];if(!o)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const r=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&r.reverse(),r}_positionChanged(e,n){const{caretX:i,caretY:o,options:s}=this,r=To[s.position].call(this,e,n);return r!==!1&&(i!==r.x||o!==r.y)}}U(vu,"positioners",To);var nk={id:"tooltip",_element:vu,positioners:To,afterInit(t,e,n){n&&(t.tooltip=new vu({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Rx},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function ik(t,e){const n=[],{bounds:o,step:s,min:r,max:l,precision:a,count:u,maxTicks:d,maxDigits:h,includeBounds:m}=t,g=s||1,x=d-1,{min:v,max:w}=e,S=!se(r),_=!se(l),y=!se(u),C=(w-v)/(h+1);let T=Pf((w-v)/x/g)*g,k,I,b,N;if(T<1e-14&&!S&&!_)return[{value:v},{value:w}];N=Math.ceil(w/T)-Math.floor(v/T),N>x&&(T=Pf(N*T/x/g)*g),se(a)||(k=Math.pow(10,a),T=Math.ceil(T*k)/k),o==="ticks"?(I=Math.floor(v/T)*T,b=Math.ceil(w/T)*T):(I=v,b=w),S&&_&&s&&Pw((l-r)/s,T/1e3)?(N=Math.round(Math.min((l-r)/T,d)),T=(l-r)/N,I=r,b=l):y?(I=S?r:I,b=_?l:b,N=u-1,T=(b-I)/N):(N=(b-I)/T,Uo(N,Math.round(N),T/1e3)?N=Math.round(N):N=Math.ceil(N));const A=Math.max(Mf(T),Mf(I));k=Math.pow(10,se(a)?A:a),I=Math.round(I*k)/k,b=Math.round(b*k)/k;let E=0;for(S&&(m&&I!==r?(n.push({value:r}),I<r&&E++,Uo(Math.round((I+E*T)*k)/k,r,Np(r,C,t))&&E++):I<r&&E++);E<N;++E){const P=Math.round((I+E*T)*k)/k;if(_&&P>l)break;n.push({value:P})}return _&&m&&b!==l?n.length&&Uo(n[n.length-1].value,l,Np(l,C,t))?n[n.length-1].value=l:n.push({value:l}):(!_||b===l)&&n.push({value:b}),n}function Np(t,e,{horizontal:n,minRotation:i}){const o=Gn(i),s=(n?Math.sin(o):Math.cos(o))||.001,r=.75*e*(""+t).length;return Math.min(e/s,r)}class Pp extends Jc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return se(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:o,max:s}=this;const r=a=>o=n?o:a,l=a=>s=i?s:a;if(e){const a=Hi(o),u=Hi(s);a<0&&u<0?l(0):a>0&&u>0&&r(0)}if(o===s){let a=s===0?1:Math.abs(s*.05);l(s+a),e||r(o-a)}this.min=o,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,o;return i?(o=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),n=n||11),n&&(o=Math.min(n,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const o={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,r=ik(o,s);return e.bounds==="ticks"&&Mw(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const o=(i-n)/Math.max(e.length-1,1)/2;n-=o,i+=o}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return tx(e,this.chart.options.locale,this.options.ticks.format)}}function yu(t){const e=t.ticks;if(e.display&&t.display){const n=Fe(e.backdropPadding);return $(e.font&&e.font.size,me.font.size)+n.height}return 0}function ok(t,e,n){return n=pe(n)?n:[n],{w:Xw(t,e.string,n),h:n.length*e.lineHeight}}function Mp(t,e,n,i,o){return t===i||t===o?{start:e-n/2,end:e+n/2}:t<i||t>o?{start:e-n,end:e}:{start:e,end:e+n}}function sk(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],o=[],s=t._pointLabels.length,r=t.options.pointLabels,l=r.centerPointLabels?we/s:0;for(let a=0;a<s;a++){const u=r.setContext(t.getPointLabelContext(a));o[a]=u.padding;const d=t.getPointPosition(a,t.drawingArea+o[a],l),h=Te(u.font),m=ok(t.ctx,h,t._pointLabels[a]);i[a]=m;const g=Qe(t.getIndexAngle(a)+l),x=Math.round(Bc(g)),v=Mp(x,d.x,m.w,0,180),w=Mp(x,d.y,m.h,90,270);rk(n,e,g,v,w)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=uk(t,i,o)}function rk(t,e,n,i,o){const s=Math.abs(Math.sin(n)),r=Math.abs(Math.cos(n));let l=0,a=0;i.start<e.l?(l=(e.l-i.start)/s,t.l=Math.min(t.l,e.l-l)):i.end>e.r&&(l=(i.end-e.r)/s,t.r=Math.max(t.r,e.r+l)),o.start<e.t?(a=(e.t-o.start)/r,t.t=Math.min(t.t,e.t-a)):o.end>e.b&&(a=(o.end-e.b)/r,t.b=Math.max(t.b,e.b+a))}function lk(t,e,n){const i=t.drawingArea,{extra:o,additionalAngle:s,padding:r,size:l}=n,a=t.getPointPosition(e,i+o+r,s),u=Math.round(Bc(Qe(a.angle+Ze))),d=fk(a.y,l.h,u),h=ck(u),m=dk(a.x,l.w,h);return{visible:!0,x:a.x,y:d,textAlign:h,left:m,top:d,right:m+l.w,bottom:d+l.h}}function ak(t,e){if(!e)return!0;const{left:n,top:i,right:o,bottom:s}=t;return!(Ot({x:n,y:i},e)||Ot({x:n,y:s},e)||Ot({x:o,y:i},e)||Ot({x:o,y:s},e))}function uk(t,e,n){const i=[],o=t._pointLabels.length,s=t.options,{centerPointLabels:r,display:l}=s.pointLabels,a={extra:yu(s)/2,additionalAngle:r?we/o:0};let u;for(let d=0;d<o;d++){a.padding=n[d],a.size=e[d];const h=lk(t,d,a);i.push(h),l==="auto"&&(h.visible=ak(h,u),h.visible&&(u=h))}return i}function ck(t){return t===0||t===180?"center":t<180?"left":"right"}function dk(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function fk(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function pk(t,e,n){const{left:i,top:o,right:s,bottom:r}=n,{backdropColor:l}=e;if(!se(l)){const a=Ai(e.borderRadius),u=Fe(e.backdropPadding);t.fillStyle=l;const d=i-u.left,h=o-u.top,m=s-i+u.width,g=r-o+u.height;Object.values(a).some(x=>x!==0)?(t.beginPath(),jr(t,{x:d,y:h,w:m,h:g,radius:a}),t.fill()):t.fillRect(d,h,m,g)}}function hk(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let o=e-1;o>=0;o--){const s=t._pointLabelItems[o];if(!s.visible)continue;const r=i.setContext(t.getPointLabelContext(o));pk(n,r,s);const l=Te(r.font),{x:a,y:u,textAlign:d}=s;Oi(n,t._pointLabels[o],a,u+l.lineHeight/2,l,{color:r.color,textAlign:d,textBaseline:"middle"})}}function Dx(t,e,n,i){const{ctx:o}=t;if(n)o.arc(t.xCenter,t.yCenter,e,0,tt);else{let s=t.getPointPosition(0,e);o.moveTo(s.x,s.y);for(let r=1;r<i;r++)s=t.getPointPosition(r,e),o.lineTo(s.x,s.y)}}function mk(t,e,n,i,o){const s=t.ctx,r=e.circular,{color:l,lineWidth:a}=e;!r&&!i||!l||!a||n<0||(s.save(),s.strokeStyle=l,s.lineWidth=a,s.setLineDash(o.dash||[]),s.lineDashOffset=o.dashOffset,s.beginPath(),Dx(t,n,r,i),s.closePath(),s.stroke(),s.restore())}function gk(t,e,n){return Pn(t,{label:n,index:e,type:"pointLabel"})}class ko extends Pp{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Fe(yu(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Me(e)&&!isNaN(e)?e:0,this.max=Me(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/yu(this.options))}generateTickLabels(e){Pp.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const o=ee(this.options.pointLabels.callback,[n,i],this);return o||o===0?o:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?sk(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,o){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-o)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,o))}getIndexAngle(e){const n=tt/(this._pointLabels.length||1),i=this.options.startAngle||0;return Qe(e*n+Gn(i))}getDistanceFromCenterForValue(e){if(se(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(se(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return gk(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const o=this.getIndexAngle(e)-Ze+i;return{x:Math.cos(o)*n+this.xCenter,y:Math.sin(o)*n+this.yCenter,angle:o}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:o,bottom:s}=this._pointLabelItems[e];return{left:n,top:i,right:o,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),Dx(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:o,border:s}=n,r=this._pointLabels.length;let l,a,u;if(n.pointLabels.display&&hk(this,r),o.display&&this.ticks.forEach((d,h)=>{if(h!==0||h===0&&this.min<0){a=this.getDistanceFromCenterForValue(d.value);const m=this.getContext(h),g=o.setContext(m),x=s.setContext(m);mk(this,g,a,r,x)}}),i.display){for(e.save(),l=r-1;l>=0;l--){const d=i.setContext(this.getPointLabelContext(l)),{color:h,lineWidth:m}=d;!m||!h||(e.lineWidth=m,e.strokeStyle=h,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,a=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),u=this.getPointPosition(l,a),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const o=this.getIndexAngle(0);let s,r;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(o),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,a)=>{if(a===0&&this.min>=0&&!n.reverse)return;const u=i.setContext(this.getContext(a)),d=Te(u.font);if(s=this.getDistanceFromCenterForValue(this.ticks[a].value),u.showLabelBackdrop){e.font=d.string,r=e.measureText(l.label).width,e.fillStyle=u.backdropColor;const h=Fe(u.backdropPadding);e.fillRect(-r/2-h.left,-s-d.size/2-h.top,r+h.width,d.size+h.height)}Oi(e,l.label,0,-s,d,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}U(ko,"id","radialLinear"),U(ko,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:nx.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),U(ko,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),U(ko,"descriptors",{angleLines:{_fallback:"grid"}});const kl={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Oe=Object.keys(kl);function Rp(t,e){return t-e}function Dp(t,e){if(se(e))return null;const n=t._adapter,{parser:i,round:o,isoWeekday:s}=t._parseOpts;let r=e;return typeof i=="function"&&(r=i(r)),Me(r)||(r=typeof i=="string"?n.parse(r,i):n.parse(r)),r===null?null:(o&&(r=o==="week"&&($r(s)||s===!0)?n.startOf(r,"isoWeek",s):n.startOf(r,o)),+r)}function Lp(t,e,n,i){const o=Oe.length;for(let s=Oe.indexOf(t);s<o-1;++s){const r=kl[Oe[s]],l=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((n-e)/(l*r.size))<=i)return Oe[s]}return Oe[o-1]}function xk(t,e,n,i,o){for(let s=Oe.length-1;s>=Oe.indexOf(n);s--){const r=Oe[s];if(kl[r].common&&t._adapter.diff(o,i,r)>=e-1)return r}return Oe[n?Oe.indexOf(n):0]}function vk(t){for(let e=Oe.indexOf(t)+1,n=Oe.length;e<n;++e)if(kl[Oe[e]].common)return Oe[e]}function zp(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:o}=Vc(n,e),s=n[i]>=e?n[i]:n[o];t[s]=!0}}function yk(t,e,n,i){const o=t._adapter,s=+o.startOf(e[0].value,i),r=e[e.length-1].value;let l,a;for(l=s;l<=r;l=+o.add(l,1,i))a=n[l],a>=0&&(e[a].major=!0);return e}function Fp(t,e,n){const i=[],o={},s=e.length;let r,l;for(r=0;r<s;++r)l=e[r],o[l]=r,i.push({value:l,major:!1});return s===0||!n?i:yk(t,i,o,n)}class Kr extends Jc{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),o=this._adapter=new s1._date(e.adapters.date);o.init(n),Fo(i.displayFormats,o.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Dp(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:o,max:s,minDefined:r,maxDefined:l}=this.getUserBounds();function a(u){!r&&!isNaN(u.min)&&(o=Math.min(o,u.min)),!l&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!r||!l)&&(a(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&a(this.getMinMax(!1))),o=Me(o)&&!isNaN(o)?o:+n.startOf(Date.now(),i),s=Me(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(o,s-1),this.max=Math.max(o+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,o=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const s=this.min,r=this.max,l=Fw(o,s,r);return this._unit=n.unit||(i.autoSkip?Lp(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):xk(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:vk(this._unit),this.initOffsets(o),e.reverse&&l.reverse(),Fp(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,o,s;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?n=1-o:n=(this.getDecimalForValue(e[1])-o)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const r=e.length<3?.5:.25;n=Ht(n,0,r),i=Ht(i,0,r),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,o=this.options,s=o.time,r=s.unit||Lp(s.minUnit,n,i,this._getLabelCapacity(n)),l=$(o.ticks.stepSize,1),a=r==="week"?s.isoWeekday:!1,u=$r(a)||a===!0,d={};let h=n,m,g;if(u&&(h=+e.startOf(h,"isoWeek",a)),h=+e.startOf(h,u?"day":r),e.diff(i,n,r)>1e5*l)throw new Error(n+" and "+i+" are too far apart with stepSize of "+l+" "+r);const x=o.ticks.source==="data"&&this.getDataTimestamps();for(m=h,g=0;m<i;m=+e.add(m,l,r),g++)zp(d,m,x);return(m===i||o.bounds==="ticks"||g===1)&&zp(d,m,x),Object.keys(d).sort(Rp).map(v=>+v)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const o=this.options.time.displayFormats,s=this._unit,r=n||o[s];return this._adapter.format(e,r)}_tickFormatFunction(e,n,i,o){const s=this.options,r=s.ticks.callback;if(r)return ee(r,[e,n,i],this);const l=s.time.displayFormats,a=this._unit,u=this._majorUnit,d=a&&l[a],h=u&&l[u],m=i[n],g=u&&h&&m&&m.major;return this._adapter.format(e,o||(g?h:d))}generateTickLabels(e){let n,i,o;for(n=0,i=e.length;n<i;++n)o=e[n],o.label=this._tickFormatFunction(o.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,o=Gn(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(o),r=Math.sin(o),l=this._resolveTickFontOptions(0).size;return{w:i*s+l*r,h:i*r+l*s}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,o=i[n.unit]||i.millisecond,s=this._tickFormatFunction(e,0,Fp(this,[e],this._majorUnit),o),r=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(n=0,i=o.length;n<i;++n)e=e.concat(o[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const o=this.getLabels();for(n=0,i=o.length;n<i;++n)e.push(Dp(this,o[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Bw(e.sort(Rp))}}U(Kr,"id","time"),U(Kr,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ys(t,e,n){let i=0,o=t.length-1,s,r,l,a;n?(e>=t[i].pos&&e<=t[o].pos&&({lo:i,hi:o}=du(t,"pos",e)),{pos:s,time:l}=t[i],{pos:r,time:a}=t[o]):(e>=t[i].time&&e<=t[o].time&&({lo:i,hi:o}=du(t,"time",e)),{time:s,pos:l}=t[i],{time:r,pos:a}=t[o]);const u=r-s;return u?l+(a-l)*(e-s)/u:l}class Up extends Kr{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Ys(n,this.min),this._tableRange=Ys(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,o=[],s=[];let r,l,a,u,d;for(r=0,l=e.length;r<l;++r)u=e[r],u>=n&&u<=i&&o.push(u);if(o.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(r=0,l=o.length;r<l;++r)d=o[r+1],a=o[r-1],u=o[r],Math.round((d+a)/2)!==u&&s.push({time:u,pos:r/(l-1)});return s}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((o,s)=>o-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Ys(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Ys(this._table,i*this._tableRange+this._minPos,!0)}}U(Up,"id","timeseries"),U(Up,"defaults",Kr.defaults);const Lx="label";function Bp(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function _k(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function zx(t,e){t.labels=e}function Fx(t,e,n=Lx){const i=[];t.datasets=e.map(o=>{const s=t.datasets.find(r=>r[n]===o[n]);return!s||!o.data||i.includes(s)?{...o}:(i.push(s),Object.assign(s,o),s)})}function Sk(t,e=Lx){const n={labels:[],datasets:[]};return zx(n,t.labels),Fx(n,t.datasets,e),n}function wk(t,e){const{height:n=150,width:i=300,redraw:o=!1,datasetIdKey:s,type:r,data:l,options:a,plugins:u=[],fallbackContent:d,updateMode:h,...m}=t,g=Je.useRef(null),x=Je.useRef(null),v=()=>{g.current&&(x.current=new Cl(g.current,{type:r,data:Sk(l,s),options:a&&{...a},plugins:u}),Bp(e,x.current))},w=()=>{Bp(e,null),x.current&&(x.current.destroy(),x.current=null)};return Je.useEffect(()=>{!o&&x.current&&a&&_k(x.current,a)},[o,a]),Je.useEffect(()=>{!o&&x.current&&zx(x.current.config.data,l.labels)},[o,l.labels]),Je.useEffect(()=>{!o&&x.current&&l.datasets&&Fx(x.current.config.data,l.datasets,s)},[o,l.datasets]),Je.useEffect(()=>{x.current&&(o?(w(),setTimeout(v)):x.current.update(h))},[o,a,l.labels,l.datasets,h]),Je.useEffect(()=>{x.current&&(w(),setTimeout(v))},[r]),Je.useEffect(()=>(v(),()=>w()),[]),p.jsx("canvas",{ref:g,role:"img",height:n,width:i,...m,children:d})}const Ck=Je.forwardRef(wk);function Tk(t,e){return Cl.register(e),Je.forwardRef((n,i)=>p.jsx(Ck,{...n,ref:i,type:t}))}const kk=Tk("radar",ar);Cl.register(ko,dr,fn,OT,nk,JT);const Ek=({scores:t,composites:e})=>{const n={labels:["Fitness","Sonno","Dietetica","Stress","Microbioma","ENERGIA","MENTE","EMOZIONI"],datasets:[{label:"Il Tuo Profilo Benessere",data:[t.fitness,t.sleep,t.diet,t.stress,t.microbiome,e.body,e.mind,e.emotions],backgroundColor:"rgba(14, 165, 233, 0.2)",borderColor:"rgba(14, 165, 233, 1)",borderWidth:2,pointBackgroundColor:"rgba(255, 255, 255, 1)",pointBorderColor:"rgba(14, 165, 233, 1)",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgb(14, 165, 233)",spanGaps:!0},{label:"Obiettivo Ottimale",data:[80,80,80,80,80,80,80,80],backgroundColor:"rgba(16, 185, 129, 0.05)",borderColor:"rgba(16, 185, 129, 0.4)",borderWidth:1,pointRadius:0,borderDash:[5,5]}]},i={scales:{r:{angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)"},suggestedMin:0,suggestedMax:100,ticks:{stepSize:20,backdropColor:"transparent",font:{size:10}},pointLabels:{font:{size:11,weight:"bold",family:"'Inter', sans-serif"},color:o=>{const s=o.label;return["ENERGIA","MENTE","EMOZIONI"].includes(s)?"#0f172a":"#64748b"}}}},plugins:{legend:{position:"bottom"},tooltip:{callbacks:{label:function(o){let s=o.dataset.label||"";return s&&(s+=": "),o.parsed.r!==null?s+=o.parsed.r+"%":s+="Dati mancanti",s}}}},maintainAspectRatio:!1};return p.jsx("div",{className:"w-full h-[400px] flex justify-center items-center",children:p.jsx(kk,{data:n,options:i})})},Ik=({scores:t,composites:e,gender:n})=>{const i="body_female.png",o="body_male.png",s=x=>x===null?"#94a3b8":x<40?"#ef4444":x<70?"#f59e0b":"#10b981",l=Object.values(t).filter(x=>x!==null),a=l.length,u=Math.round(a/5*100),d=l.reduce((x,v)=>x+v,0),h=a>0?Math.round(d/a):null,m=x=>x===null?"text-slate-400":x<=50?"text-red-500":x<=60?"text-amber-500":x<=80?"text-emerald-500":"text-sky-500",g=({x,y:v,align:w,label:S,value:_,targetY:y})=>{const C=s(_),T=w==="end"?180:220;return p.jsxs("g",{className:"transition-all duration-300 hover:opacity-100 opacity-90 cursor-default group",children:[p.jsx("line",{x1:x,y1:v,x2:T,y2:y,stroke:C,strokeWidth:"2",strokeDasharray:"4,2",opacity:"0.4",className:"group-hover:opacity-100 transition-opacity"}),p.jsx("rect",{x:w==="end"?x-52:x,y:v-16,width:"54",height:"34",rx:"12",fill:"white",stroke:C,strokeWidth:"2.5",filter:"drop-shadow(0px 3px 3px rgba(0,0,0,0.15))"}),p.jsx("text",{x:w==="end"?x-25:x+27,y:v+1,textAnchor:"middle",dominantBaseline:"middle",fill:C,fontWeight:"800",fontSize:"15",fontFamily:"sans-serif",children:_!==null?`${_}%`:"-"}),p.jsx("text",{x:w==="end"?x-60:x+62,y:v,textAnchor:w,dominantBaseline:"middle",fill:"#475569",fontSize:"11",fontWeight:"800",fontFamily:"sans-serif",style:{textTransform:"uppercase",letterSpacing:"0.5px"},children:S}),p.jsx("circle",{cx:T,cy:y,r:"4",fill:C,stroke:"white",strokeWidth:"2"})]})};return p.jsxs("div",{className:"flex flex-col w-full bg-white rounded-2xl border border-slate-200 overflow-hidden shadow-sm h-full",children:[p.jsxs("div",{className:"px-6 pt-6 bg-white pb-2 z-10",children:[p.jsxs("div",{className:"flex justify-between items-center mb-2",children:[p.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Completezza Profilo"}),p.jsxs("span",{className:"text-xs font-bold text-sky-600",children:[u,"%"]})]}),p.jsx("div",{className:"w-full bg-slate-100 rounded-full h-2 mb-4 overflow-hidden shadow-inner",children:p.jsx("div",{className:"bg-gradient-to-r from-sky-400 to-sky-600 h-2 rounded-full transition-all duration-1000 ease-out shadow-[0_0_10px_rgba(14,165,233,0.5)]",style:{width:`${u}%`}})}),p.jsxs("div",{className:"flex flex-col items-center justify-center py-2 border-b border-slate-100 mb-2",children:[p.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Wellness Index"}),p.jsx("span",{className:`text-4xl font-extrabold ${m(h)} drop-shadow-sm`,children:h!==null?`${h}%`:"-"})]})]}),p.jsxs("div",{className:"relative flex-grow flex flex-col items-center justify-center p-2 bg-gradient-to-b from-white via-sky-50/30 to-slate-100/50",children:[p.jsxs("svg",{viewBox:"0 0 400 480",className:"w-full h-auto max-h-[480px] drop-shadow-xl select-none",children:[p.jsx("defs",{children:p.jsxs("filter",{id:"bodyGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[p.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),p.jsxs("feMerge",{children:[p.jsx("feMergeNode",{in:"coloredBlur"}),p.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),p.jsx("image",{href:n==="male"?o:i,x:"50",y:"-20",width:"300",height:"400",preserveAspectRatio:"xMidYMid meet",filter:"url(#bodyGlow)",opacity:"0.9"}),p.jsx(g,{x:110,y:60,align:"end",label:"SONNO",value:t.sleep,targetY:60}),p.jsx(g,{x:290,y:60,align:"start",label:"STRESS",value:t.stress,targetY:60}),p.jsx(g,{x:290,y:160,align:"start",label:"FITNESS",value:t.fitness,targetY:160}),p.jsx(g,{x:110,y:260,align:"end",label:"DIETA",value:t.diet,targetY:260}),p.jsx(g,{x:290,y:260,align:"start",label:"MICROBIOMA",value:t.microbiome,targetY:280})]}),p.jsx("div",{className:"w-full px-4 pb-6",children:p.jsxs("div",{className:"flex justify-center items-end gap-4 sm:gap-8",children:[p.jsxs("div",{className:"flex flex-col items-center group cursor-default",children:[p.jsx("div",{className:`w-16 h-16 md:w-20 md:h-20 rounded-full flex items-center justify-center border-4 ${e.mind!==null?"border-sky-500 text-sky-700 bg-sky-50":"border-slate-200 text-slate-400 bg-white"} shadow-lg group-hover:scale-105 transition-transform duration-300`,children:p.jsx("span",{className:"text-lg md:text-xl font-extrabold",children:e.mind!==null?`${e.mind}%`:"-"})}),p.jsx("span",{className:"text-xs font-bold text-slate-500 mt-2 uppercase tracking-wide group-hover:text-sky-600 transition-colors",children:"Mente"})]}),p.jsxs("div",{className:"flex flex-col items-center group cursor-default",children:[p.jsx("div",{className:`w-16 h-16 md:w-20 md:h-20 rounded-full flex items-center justify-center border-4 ${e.body!==null?"border-sky-600 text-sky-800 bg-sky-50":"border-slate-200 text-slate-400 bg-white"} shadow-xl shadow-sky-100/50 group-hover:scale-105 transition-transform duration-300`,children:p.jsx("span",{className:"text-lg md:text-xl font-extrabold",children:e.body!==null?`${e.body}%`:"-"})}),p.jsx("span",{className:"text-xs font-bold text-slate-600 mt-2 uppercase tracking-wide group-hover:text-sky-700 transition-colors",children:"Energia"})]}),p.jsxs("div",{className:"flex flex-col items-center group cursor-default",children:[p.jsx("div",{className:`w-16 h-16 md:w-20 md:h-20 rounded-full flex items-center justify-center border-4 ${e.emotions!==null?"border-sky-500 text-sky-700 bg-sky-50":"border-slate-200 text-slate-400 bg-white"} shadow-lg group-hover:scale-105 transition-transform duration-300`,children:p.jsx("span",{className:"text-lg md:text-xl font-extrabold",children:e.emotions!==null?`${e.emotions}%`:"-"})}),p.jsx("span",{className:"text-xs font-bold text-slate-500 mt-2 uppercase tracking-wide group-hover:text-sky-600 transition-colors",children:"Emozioni"})]})]})})]})]})},_u=t=>p.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"m12 19-7-7 7-7"}),p.jsx("path",{d:"M19 12H5"})]}),bk=({user:t,onNavigate:e})=>{const[n,i]=R.useState({fitness:null,sleep:null,diet:null,stress:null,microbiome:null}),[o,s]=R.useState(!1);R.useEffect(()=>{const u=m=>{const g=he(`assessmentHistory_${t.email}_${m}`,[]);return g.length>0?g[g.length-1].score:0},d={fitness:u("fitness"),sleep:u("sleep"),diet:u("diet"),stress:u("stress"),microbiome:u("microbiome")},h=Object.values(d).some(m=>m>0);s(h),h&&i({fitness:co(d.fitness,"fitness"),sleep:co(d.sleep,"sleep"),diet:co(d.diet,"diet"),stress:co(d.stress,"stress"),microbiome:co(d.microbiome,"microbiome")})},[t.email]);const r=KS(n),l=QS(r,n),a=()=>{const u=[{name:"Fitness",val:n.fitness},{name:"Sonno",val:n.sleep},{name:"Dietetica",val:n.diet},{name:"Stress",val:n.stress},{name:"Microbioma",val:n.microbiome}].filter(x=>x.val!==null);if(u.length===0)return p.jsx("p",{className:"text-slate-500 italic",children:"Completa i test per vedere l'analisi."});const d=[...u].sort((x,v)=>v.val-x.val),h=d[0],m=d[d.length-1],g=Math.round(u.reduce((x,v)=>x+v.val,0)/u.length);return p.jsxs("p",{className:"text-slate-600 text-sm leading-relaxed",children:["Il tuo ",p.jsx("strong",{children:"Wellness Index"})," attuale  ",p.jsxs("strong",{children:[g,"%"]}),". Il tuo punto di forza  l'area ",p.jsx("strong",{children:h.name})," (",h.val,"%), continua cos!",h.name!==m.name&&p.jsxs(p.Fragment,{children:["L'area che richiede pi attenzione  ",p.jsx("strong",{children:m.name})," (",m.val,"%), che potrebbe influenzare negativamente il tuo equilibrio. Consulta il Piano Terapeutico qui sotto per strategie mirate."]})]})};return o?p.jsxs("div",{className:"p-4 md:p-8 animate-fade-in pb-32 max-w-7xl mx-auto",children:[p.jsxs("header",{className:"mb-8 flex flex-col md:flex-row md:items-end justify-between gap-4",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-4xl font-bold text-slate-800",children:"Wellness Dashboard"}),p.jsx("p",{className:"text-xl text-slate-600",children:"Analisi olistica del tuo stato di salute e longevit."})]}),p.jsxs("div",{className:"text-right hidden md:block",children:[p.jsx("p",{className:"text-sm text-slate-500",children:"Ultimo aggiornamento"}),p.jsx("p",{className:"font-mono font-semibold text-slate-700",children:new Date().toLocaleDateString()})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[p.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-slate-100 flex flex-col",children:[p.jsxs("h2",{className:"text-xl font-bold text-slate-800 mb-6 flex items-center gap-2",children:[p.jsx("span",{className:"w-2 h-6 bg-sky-500 rounded-full"}),"Radar Benessere"]}),p.jsx("div",{className:"flex-grow flex items-center justify-center relative",children:p.jsx(Ek,{scores:n,composites:r})}),p.jsxs("div",{className:"mt-6 bg-slate-50 rounded-xl p-4 border border-slate-200",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(Yi,{className:"w-4 h-4 text-sky-600"}),p.jsx("h3",{className:"font-bold text-sm text-slate-700 uppercase tracking-wide",children:"Analisi Sintetica"})]}),a()]}),p.jsxs("div",{className:"mt-6 grid grid-cols-3 gap-4 text-center",children:[p.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg",children:[p.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold",children:"Energia"}),p.jsx("p",{className:"text-2xl font-bold text-sky-700",children:r.body!==null?r.body+"%":"-"})]}),p.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg",children:[p.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold",children:"Mente"}),p.jsx("p",{className:"text-2xl font-bold text-sky-700",children:r.mind!==null?r.mind+"%":"-"})]}),p.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg",children:[p.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold",children:"Emozioni"}),p.jsx("p",{className:"text-2xl font-bold text-sky-700",children:r.emotions!==null?r.emotions+"%":"-"})]})]})]}),p.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-slate-100",children:[p.jsxs("h2",{className:"text-xl font-bold text-slate-800 mb-6 flex items-center gap-2",children:[p.jsx("span",{className:"w-2 h-6 bg-green-500 rounded-full"}),"Mappa Longevit"]}),p.jsx(Ik,{scores:n,composites:r,gender:t.gender||"female"})]})]}),p.jsxs("div",{className:"bg-gradient-to-r from-slate-800 to-slate-700 rounded-2xl shadow-xl p-8 mb-12 text-white flex flex-col md:flex-row items-center justify-between gap-6",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-2xl font-bold mb-2 flex items-center gap-3",children:[p.jsx(Ec,{className:"w-8 h-8 text-sky-400"}),"Passa all'Azione: Analisi Cliniche"]}),p.jsx("p",{className:"text-slate-200 max-w-2xl",children:"Hai completato i test di autovalutazione. Per ottenere un quadro clinico completo e personalizzato, prenota le analisi specifiche consigliate per i tuoi obiettivi di salute in CLINICAL WELLNESS SPA presso Farmacia Centrale Montesilvano."})]}),p.jsxs("button",{onClick:()=>e("analysisQuote"),className:"bg-sky-500 hover:bg-sky-400 text-white font-bold py-3 px-8 rounded-lg transition-colors shadow-lg whitespace-nowrap flex items-center gap-2",children:[p.jsx("span",{children:"Scegli i tuoi obiettivi"}),p.jsx(_u,{className:"w-5 h-5 rotate-180"})]})]}),p.jsxs("div",{className:"space-y-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-slate-800 border-b border-slate-200 pb-4",children:"Piano Terapeutico Integrato"}),p.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:l.map((u,d)=>p.jsx("div",{className:`bg-white rounded-2xl shadow-lg overflow-hidden border-t-4 ${u.status==="critical"?"border-red-500":u.status==="moderate"?"border-yellow-500":"border-green-500"}`,children:p.jsxs("div",{className:"p-6 flex flex-col h-full",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsx("h3",{className:"text-xl font-bold text-slate-800",children:u.title}),u.status==="critical"&&p.jsxs("div",{className:"flex items-center gap-1 text-red-600 font-bold bg-red-50 px-2 py-1 rounded",children:[p.jsx(ii,{className:"w-5 h-5"})," ",p.jsx("span",{children:"Critico"})]}),u.status==="moderate"&&p.jsxs("div",{className:"flex items-center gap-1 text-yellow-600 font-bold bg-yellow-50 px-2 py-1 rounded",children:[p.jsx("span",{className:"w-3 h-3 rounded-full bg-yellow-500"})," ",p.jsx("span",{children:"Moderato"})]}),u.status==="optimal"&&p.jsxs("div",{className:"flex items-center gap-1 text-green-600 font-bold bg-green-50 px-2 py-1 rounded",children:[p.jsx(kn,{className:"w-5 h-5"})," ",p.jsx("span",{children:"Ottimale"})]})]}),p.jsx("p",{className:"text-slate-600 mb-6 text-sm leading-relaxed",children:u.description}),p.jsx("div",{className:"flex-grow",children:u.detailedContent?p.jsx("div",{className:"bg-slate-50 rounded-xl p-5 border border-slate-100 prose prose-sm max-w-none mb-4",dangerouslySetInnerHTML:{__html:u.detailedContent}}):p.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 mb-4",children:[p.jsx("h4",{className:"font-bold text-xs text-slate-500 uppercase tracking-wider mb-3",children:"Protocollo Consigliato"}),p.jsx("ul",{className:"space-y-2",children:u.therapies.map((h,m)=>p.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[p.jsx("span",{className:"w-1.5 h-1.5 bg-sky-500 rounded-full mt-1.5 flex-shrink-0"}),h]},m))})]})}),u.actionLink&&p.jsxs("button",{onClick:()=>e(u.actionLink),className:"w-full mt-auto py-2 px-4 bg-sky-100 text-sky-700 font-semibold rounded-lg hover:bg-sky-200 transition-colors text-sm flex items-center justify-center gap-2",children:["Vai alla risorsa consigliata ",p.jsx(_u,{className:"w-4 h-4 rotate-180"})]})]})},d))})]}),p.jsx("div",{className:"mt-12 text-center text-slate-400 text-sm",children:p.jsx("p",{children:"Analisi basata su algoritmi di intelligenza artificiale clinica. I risultati non sostituiscono il parere medico."})})]}):p.jsx("div",{className:"p-8 animate-fade-in text-center",children:p.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-2xl shadow-xl p-10",children:[p.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-4",children:"Wellness Dashboard"}),p.jsx("p",{className:"text-slate-600 mb-8",children:"Non hai ancora dati sufficienti per generare la tua mappa della longevit. Completa i test di autovalutazione per sbloccare questa funzione."}),p.jsx("button",{onClick:()=>e("assessments"),className:"bg-sky-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-sky-700 transition-colors shadow-lg",children:"Vai ai Test"})]})})},Yc=t=>p.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),p.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),Ak=t=>p.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),p.jsx("path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"})]}),Ux=t=>p.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("path",{d:"m6 9 6 6 6-6"})}),Nk=({user:t,showNotification:e,wellnessData:n})=>{const[i,o]=R.useState({}),[s,r]=R.useState([]),[l,a]=R.useState(new Set),[u,d]=R.useState(null),h=R.useMemo(()=>({missionStates:`missionStates_${t.email}`,manualUnlocks:`manualUnlocks_${t.email}`,reminders:`activeReminders_${t.email}`}),[t.email]);R.useEffect(()=>{const y=he(h.missionStates,{}),C=he(h.manualUnlocks,[]),T=he(h.reminders,[]);o(y),r(C),a(new Set(T))},[h]);const m=R.useMemo(()=>{var T;let y=0;const C={};for(const k of Object.values(n)){let I=0;const b=[...k.daily||[],...k.weekly||[]];for(const N of b)(T=i[N.id])!=null&&T.completed&&(I+=N.points);k.id&&(C[k.id]={name:k.name,points:I,dependsOn:k.dependsOn,unlocksAt:k.unlocksAt},y+=I)}return{total:y,byProgram:C}},[i,n]),g=(y,C)=>{o(T=>{var N;const k={...T},I=((N=k[y])==null?void 0:N.completed)||!1;k[y]={...k[y],completed:!I},localStorage.setItem(h.missionStates,JSON.stringify(k));const b=I?"Missione annullata.":`Missione completata! +${C} punti!`;return e(b,"success"),k})},x=y=>{var q,B;const C=new Date;let T=8,k=0;if((q=y.reminderConfig)!=null&&q.time){const V=y.reminderConfig.time.split(":");V.length===2&&(T=parseInt(V[0],10),k=parseInt(V[1],10))}else(B=y.reminderConfig)!=null&&B.startHour&&(T=y.reminderConfig.startHour);const I=new Date(C);I.setDate(I.getDate()+1),I.setHours(T,k,0,0);const b=V=>V.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",N=`Wellness: ${y.title}`,A=`Promemoria benessere: ${y.description}`,E=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//ClinicalWellnessSpa//Benessere//IT
BEGIN:VEVENT
UID:${new Date().getTime()}@clinicalwellness.com
DTSTAMP:${b(new Date)}
DTSTART:${b(I)}
RRULE:FREQ=DAILY
SUMMARY:${N}
DESCRIPTION:${A}
BEGIN:VALARM
TRIGGER:-PT15M
ACTION:DISPLAY
DESCRIPTION:Reminder
END:VALARM
END:VEVENT
END:VCALENDAR`,P=new Blob([E],{type:"text/calendar;charset=utf-8"}),D=document.createElement("a");D.href=window.URL.createObjectURL(P),D.setAttribute("download",`${y.title.replace(/\s+/g,"_")}.ics`),document.body.appendChild(D),D.click(),document.body.removeChild(D)},v=y=>{window.confirm(`Vuoi aggiungere questo promemoria ("${y.title}") al tuo Calendario (Google/Apple)?`)&&(x(y),e("Evento calendario scaricato. Aprilo per salvarlo.","success")),a(T=>{const k=new Set(T);return k.has(y.id)?k.delete(y.id):k.add(y.id),localStorage.setItem(h.reminders,JSON.stringify(Array.from(k))),k})},w=R.useMemo(()=>{const y={start:{title:" Routine Base del Benessere",programs:[]},food:{title:" Alimentazione",programs:[]},sleep:{title:" Sonno",programs:[]},anxiety_stress:{title:" Ansia & Stress",programs:[]},activity:{title:" Movimento",programs:[]},smart:{title:" Programmi Smart",programs:[]}};Object.values(n).forEach(C=>{C.id==="start"?y.start.programs.push(C):C.id.startsWith("food")?y.food.programs.push(C):C.id.startsWith("sleep")?y.sleep.programs.push(C):C.id.startsWith("anxiety_stress")?y.anxiety_stress.programs.push(C):C.id.startsWith("activity")?y.activity.programs.push(C):C.isSmart&&y.smart.programs.push(C)});for(const C in y)y[C].programs.sort((T,k)=>{var N,A;const I=parseInt(((N=T.id.match(/\d+$/))==null?void 0:N[0])||"1"),b=parseInt(((A=k.id.match(/\d+$/))==null?void 0:A[0])||"1");return T.id.includes("gold")?-1:k.id.includes("gold")?1:I-b});return y},[n]),S=({program:y})=>{var A,E,P;const C=((A=m.byProgram[y.id])==null?void 0:A.points)||0,T=s.includes(y.id);let k=!1,I=0;const b=y.dependsOn?m.byProgram[y.dependsOn]:null;if(b&&typeof y.unlocksAt=="number"&&!T){const D=b.points||0;D<y.unlocksAt&&(k=!0,I=y.unlocksAt-D)}const N=u===y.id;return k&&b?p.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 opacity-60",children:p.jsxs("div",{className:"flex items-center justify-center gap-4 text-center",children:[p.jsx(Yc,{className:"w-8 h-8 text-slate-400"}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-bold text-slate-600",children:y.name}),p.jsxs("p",{className:"text-sm text-slate-500",children:["Richiede ",y.unlocksAt,' punti in "',b.name,'". Mancano ',I," punti."]})]})]})}):p.jsxs("div",{className:"bg-white rounded-xl shadow-lg",children:[p.jsxs("button",{className:"w-full text-left p-4 flex justify-between items-center",onClick:()=>d(N?null:y.id),"aria-expanded":N,children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("span",{className:"text-3xl",children:y.Icon}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold text-slate-800",children:y.name}),p.jsx("p",{className:"text-slate-500",children:y.subtitle})]})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("span",{className:"font-bold text-sky-600 text-lg",children:[C," Punti"]}),p.jsx(Ux,{className:`w-6 h-6 text-slate-500 transition-transform ${N?"rotate-180":""}`})]})]}),N&&p.jsxs("div",{className:"p-4 border-t border-slate-200 animate-fade-in",children:[p.jsx("p",{className:"text-slate-600 mb-4",children:y.description}),y.daily&&y.daily.length>0&&p.jsx("h4",{className:"font-bold text-slate-700 mb-2 mt-4",children:"Missioni Giornaliere"}),p.jsx("ul",{className:"space-y-3",children:(E=y.daily)==null?void 0:E.map(D=>{var q,B,V;return p.jsxs("li",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("span",{className:"text-xl",children:D.Icon}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold text-slate-700",children:D.title}),p.jsx("p",{className:"text-sm text-slate-500",children:D.description})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[D.remindable&&p.jsx("button",{onClick:()=>v(D),className:`p-2 rounded-full transition-colors ${l.has(D.id)?"bg-sky-100 text-sky-600":"text-slate-400 hover:bg-slate-200"}`,"aria-label":l.has(D.id)?"Disattiva promemoria":"Attiva promemoria",title:"Aggiungi al calendario",children:p.jsx(Ak,{className:"w-5 h-5"})}),p.jsxs("button",{onClick:()=>g(D.id,D.points),className:"flex items-center gap-2 px-3 py-1.5 text-sm font-bold rounded-full transition-colors bg-white border-2",style:{borderColor:(q=i[D.id])!=null&&q.completed?"#22c55e":"#e2e8f0",color:(B=i[D.id])!=null&&B.completed?"#166534":"#334155"},children:[((V=i[D.id])==null?void 0:V.completed)&&p.jsx(kn,{className:"w-5 h-5 text-green-600"}),p.jsxs("span",{children:[D.points," Punti"]})]})]})]},D.id)})}),y.weekly&&y.weekly.length>0&&p.jsx("h4",{className:"font-bold text-slate-700 mb-2 mt-4",children:"Missioni Settimanali"}),p.jsx("ul",{className:"space-y-3",children:(P=y.weekly)==null?void 0:P.map(D=>{var q,B,V;return p.jsxs("li",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("span",{className:"text-xl",children:D.Icon}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold text-slate-700",children:D.title}),p.jsx("p",{className:"text-sm text-slate-500",children:D.description})]})]}),p.jsx("div",{className:"flex items-center gap-2",children:p.jsxs("button",{onClick:()=>g(D.id,D.points),className:"flex items-center gap-2 px-3 py-1.5 text-sm font-bold rounded-full transition-colors bg-white border-2",style:{borderColor:(q=i[D.id])!=null&&q.completed?"#22c55e":"#e2e8f0",color:(B=i[D.id])!=null&&B.completed?"#166534":"#334155"},children:[((V=i[D.id])==null?void 0:V.completed)&&p.jsx(kn,{className:"w-5 h-5 text-green-600"}),p.jsxs("span",{children:[D.points," Punti"]})]})})]},D.id)})})]})]})},_=["start","food","sleep","anxiety_stress","activity","smart"];return p.jsxs("div",{className:"p-4 md:p-8 animate-fade-in",children:[p.jsx("h1",{className:"text-4xl font-bold text-slate-800 mb-2",children:"La Tua Routine di Benessere"}),p.jsx("p",{className:"text-xl text-slate-600 mb-8",children:"Completa le missioni, accumula punti e sblocca nuovi livelli!"}),p.jsxs("div",{className:"bg-sky-600 text-white p-6 rounded-2xl shadow-lg mb-8 text-center",children:[p.jsx("p",{className:"text-lg text-sky-200",children:"Punti Benessere Totali"}),p.jsx("p",{className:"text-5xl font-bold",children:m.total})]}),_.map(y=>{const C=w[y];return!C||C.programs.length===0?null:p.jsxs("div",{className:"mb-8",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-700 mb-4",children:C.title}),p.jsx("div",{className:"space-y-4",children:C.programs.map(T=>p.jsx(S,{program:T},T.id))})]},y)})]})},Pk=()=>{const t={coherence:{name:"5-5 Coerenza Cardiaca",inhale:5,hold:0,exhale:5,total:10},vagotonia:{name:"4-6 Vagotonia",inhale:4,hold:0,exhale:6,total:10},sleep:{name:"4-7-8 Sonno",inhale:4,hold:7,exhale:8,total:19},training:{name:"6-6 Allenamento",inhale:6,hold:0,exhale:6,total:12}},e=[{label:" Relax (432Hz Healing)",value:"audio/432hz_healing.mp3"},{label:" Mind (Comunicativit)",value:"audio/Comunicativita.mp3"},{label:" Introspection (Perdono)",value:"audio/Perdono.mp3"}],n=[{label:"1 Minuto",value:60},{label:"5 Minuti",value:300},{label:"10 Minuti",value:600},{label:"15 Minuti",value:900}],[i,o]=R.useState(n[0].value),[s,r]=R.useState("coherence"),[l,a]=R.useState(e[0].value),[u,d]=R.useState(!1),[h,m]=R.useState(n[0].value),[g,x]=R.useState(0),[v,w]=R.useState("Inizia"),[S,_]=R.useState(.6),y=R.useRef(null),C=R.useRef(null),T=R.useRef(null),k=R.useCallback(()=>{d(!1),clearInterval(y.current),clearTimeout(C.current),w("Inizia"),_(.6),T.current&&(T.current.pause(),T.current.currentTime=0)},[]);R.useEffect(()=>()=>{clearInterval(y.current),clearTimeout(C.current),T.current&&T.current.pause()},[]),R.useEffect(()=>(u&&h>0?y.current=setInterval(()=>{m(E=>E-1)},1e3):h===0&&u&&(k(),alert("Sessione di respirazione completata!")),()=>clearInterval(y.current)),[u,h,k]),R.useEffect(()=>{if(!u)return;const E=t[s],P=()=>{w("Inspira..."),_(1),C.current=setTimeout(()=>{E.hold>0&&w("Trattieni"),C.current=setTimeout(()=>{w("...espira"),_(.6),C.current=setTimeout(()=>{x(D=>D+1),u&&P()},E.exhale*1e3)},E.hold*1e3)},E.inhale*1e3)};return P(),()=>clearTimeout(C.current)},[u,s]);const I=()=>{if(u)k();else if(m(i),x(0),d(!0),T.current){T.current.src=l,T.current.load();const E=T.current.play();E!==void 0&&E.catch(P=>{console.log("Audio playback prevented:",P)})}},b=E=>{const P=String(Math.floor(E/60)).padStart(2,"0"),D=String(E%60).padStart(2,"0");return`${P}:${D}`},N=t[s],A=u?v==="Inspira..."?N.inhale:N.exhale:1;return p.jsxs("div",{className:"p-4 md:p-8 animate-fade-in flex flex-col items-center justify-center min-h-full",children:[p.jsxs("div",{className:"w-full max-w-lg",children:[p.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[p.jsx(kc,{className:"w-8 h-8 text-sky-600"}),p.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Coerenza Cardiaca"})]}),p.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-slate-100 mb-8 space-y-4",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[p.jsx("label",{htmlFor:"duration-select",className:"text-sm font-bold text-slate-600 uppercase flex items-center gap-2",children:" Durata"}),p.jsx("select",{id:"duration-select",value:i,onChange:E=>o(Number(E.target.value)),disabled:u,className:"w-full sm:w-2/3 p-2 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-sky-500 disabled:opacity-50 text-sm font-medium text-slate-700",children:n.map(E=>p.jsx("option",{value:E.value,children:E.label},E.value))})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[p.jsx("label",{htmlFor:"pattern-select",className:"text-sm font-bold text-slate-600 uppercase flex items-center gap-2",children:" Ritmo"}),p.jsx("select",{id:"pattern-select",value:s,onChange:E=>r(E.target.value),disabled:u,className:"w-full sm:w-2/3 p-2 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-sky-500 disabled:opacity-50 text-sm font-medium text-slate-700",children:Object.entries(t).map(([E,P])=>p.jsx("option",{value:E,children:P.name},E))})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 p-2 bg-sky-50 rounded-lg border border-sky-100",children:[p.jsx("label",{htmlFor:"music-select",className:"text-sm font-bold text-sky-700 uppercase flex items-center gap-2",children:" Musica"}),p.jsx("select",{id:"music-select",value:l,onChange:E=>a(E.target.value),disabled:u,className:"w-full sm:w-2/3 p-2 bg-white border border-sky-200 rounded-lg focus:ring-2 focus:ring-sky-500 disabled:opacity-50 text-sm font-medium text-slate-700 shadow-sm",children:e.map(E=>p.jsx("option",{value:E.value,children:E.label},E.value))})]})]}),p.jsxs("div",{className:"relative w-64 h-64 md:w-80 md:h-80 flex items-center justify-center mx-auto my-8",children:[p.jsx("div",{className:`absolute w-full h-full bg-sky-100 rounded-full ${u?"animate-pulse":""} opacity-50`}),p.jsx("div",{className:"absolute w-full h-full bg-gradient-to-br from-sky-400 to-blue-600 rounded-full shadow-2xl flex items-center justify-center",style:{transform:`scale(${S})`,transition:`transform ${A}s ease-in-out`},children:p.jsx("div",{className:"w-full h-full rounded-full bg-white opacity-20 blur-xl"})}),p.jsx("span",{className:"relative text-3xl font-extrabold text-white z-10 drop-shadow-lg tracking-wider uppercase",style:{textShadow:"0 2px 4px rgba(0,0,0,0.3)"},children:v})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-8",children:[p.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-100 text-center",children:[p.jsx("p",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Cicli"}),p.jsx("p",{className:"text-3xl font-bold text-slate-700",children:g})]}),p.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-100 text-center",children:[p.jsx("p",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Tempo"}),p.jsx("p",{className:"text-3xl font-bold text-slate-700 font-mono",children:b(u?h:i)})]})]}),p.jsx("button",{onClick:I,className:`w-full mt-8 block px-8 py-4 text-white font-bold text-lg rounded-xl shadow-lg transition-all transform hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center gap-2 ${u?"bg-slate-700 hover:bg-slate-800":"bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-600 hover:to-blue-700"}`,children:u?p.jsx(p.Fragment,{children:" Ferma Sessione"}):p.jsx(p.Fragment,{children:" Inizia Respirazione"})})]}),p.jsx("audio",{ref:T,src:l,loop:!0,onError:E=>console.error("Errore caricamento audio:",E)})]})},Vp={programs:[{name:"Stress Management",duration:"60 min",price:60,package4:215,description:"Programma integrato per la gestione dello stress e il riequilibrio psicofisico."},{name:"Sleep Program",duration:"60 min",price:60,package4:215,description:"Un percorso mirato a migliorare la qualit del sonno e favorire il rilassamento profondo."},{name:"Performance Program",duration:"60 min",price:60,package4:215,description:"Ideato per ottimizzare le energie e migliorare le capacit fisiche e mentali."},{name:"Longevity Program",duration:"1h 15 min",price:80,package4:290,description:"Percorso orientato alla prevenzione e al mantenimento della vitalit nel tempo."},{name:"Wellness Program",duration:"60 min",price:60,package4:215,description:"Programma completo per raggiungere uno stato di benessere generale e rigenerazione."}],treatments:[{category:"Massaggi",items:[{name:"Massaggio Linfodrenante",duration:"50 min",price:50,package4:180},{name:"Massaggio Connettivale",duration:"50 min",price:50,package4:180,package6:270,package10:450},{name:"Massaggio Tuina",duration:"50 min",price:50,package4:180},{name:"Massaggio Antistress",duration:"1h 15 min",price:80,package4:290},{name:"Massaggio Bioenergetico",duration:"1h 15 min",price:80,package4:290},{name:"Riflessologia Plantare",duration:"50 min",price:50,package4:180},{name:"Massaggio con Coppettazione",duration:"50 min",price:50,package4:180},{name:"Massaggio Relax",duration:"60 min",price:60,package4:215}]},{category:"Trattamenti Anti-Cellulite",items:[{name:"Connettivale base",duration:"50 min",price:50,package6:270,package10:450},{name:"Connettivale con prodotti specifici",duration:"50 min",price:55,package6:300,package10:490},{name:"Sauna Infrarossi + Connettivale",duration:"60 min",price:55,package6:300,package10:490},{name:"Connettivale + Termosauna",duration:"60 min",price:60,package6:330,package10:540},{name:"Ionoforesi + Connettivale",duration:"60 min",price:60,package6:330,package10:540}]},{category:"Trattamenti Corpo",items:[{name:"Termosauna",duration:"30 min",price:30},{name:"Peeling corpo (Sauna + Peeling)",duration:"60 min",price:50}]},{category:"Trattamenti Viso RENOPHASE",items:[{name:"Igiene Viso 1",duration:"50 min",price:90},{name:"Igiene Viso 2 (pelle grassa)",duration:"50 min",price:120},{name:"Anti-Age base",duration:"50 min",price:60},{name:"Anti-Age RENOPHASE",duration:"50 min",price:120},{name:"Pelli Sensibili base",duration:"50 min",price:60},{name:"Pelli Sensibili RENOPHASE",duration:"50 min",price:90},{name:"Pelli Secche base",duration:"50 min",price:60},{name:"Soft RENOPHASE",duration:"50 min",price:90},{name:"Intensivo RENOPHASE",duration:"50 min",price:150},{name:"Macchie RENOPHASE",duration:"50 min",price:150},{name:"Acne RENOPHASE",duration:"50 min",price:150},{name:"Pre/Post Iniettivi RENOPHASE",duration:"50 min",price:150}]},{category:"Trattamenti Microaree RENOPHASE",items:[{name:"Occhi",baseDuration:"45 min",basePrice:60,photoDuration:"60 min",photoPrice:80},{name:"Collo",baseDuration:"45 min",basePrice:60,photoDuration:"60 min",photoPrice:80},{name:"Labbra",baseDuration:"45 min",basePrice:60,photoDuration:"60 min",photoPrice:80}]},{category:"Mantenimento e Prevenzione",items:[{name:"Fotostimolazione LED",duration:"30 min",price:40,package6:219}]},{category:"Trattamenti Specifici",items:[{name:"Gambe Pesanti: Linfodrenante + Impedenzometria",duration:"60 min",package10:470},{name:"Gambe Pesanti: Linfodrenante + Bendaggi Freddi",duration:"60 min",price:60,package6:330},{name:"Gonfiore Addominale: Sauna Finlandese + Udara",duration:"60 min",price:60,package6:330}]}]},El="farmaciacentrale.montesilvano@gmail.com",$i="393400600600",Mk={food_level_2:"energiaCucina",food_level_3:"gourmetMaster",anxiety_stress_level_2:"oasiTranquilla",anxiety_stress_level_3:"superZen",sleep_level_2:"sognoCalmo",sleep_level_3:"notteMagica",sleep_level_4:"sonnoProfondo",activity_sprint_2:"energiaMovimento",activity_sprint_3:"eccellenzaAtletica"},Rk=[{program:"Alimentazione",level:"Livello 2  Energia in Cucina",password:"energiaCucina"},{program:"Alimentazione",level:"Livello 3  Sfida del Gourmet",password:"gourmetMaster"},{program:"Ansia-Stress",level:"Livello 2  Oasi della Tranquillit",password:"oasiTranquilla"},{program:"Ansia-Stress",level:"Livello 3  Super Zen",password:"superZen"},{program:"Sonno",level:"Livello 2  Sogno Calmo",password:"sognoCalmo"},{program:"Sonno",level:"Livello 3  Notte Magica",password:"notteMagica"},{program:"Sonno",level:"Livello 4  Sonno Profondo",password:"sonnoProfondo"},{program:"Movimento",level:"Livello 2  Energia in Movimento",password:"energiaMovimento"},{program:"Movimento",level:"Livello 3  Eccellenza Atletica",password:"eccellenzaAtletica"}],Kc=({selection:t,onProceed:e,total:n})=>{const i=a=>{if(!a)return 0;let u=0;const d=a.split(" ");for(let h=0;h<d.length;h++)d[h].includes("h")?u+=parseInt(d[h],10)*60:d[h].includes("min")&&(u+=parseInt(d[h],10));return u},o=a=>{if(a===0)return"N/A";const u=Math.floor(a/60),d=a%60;let h="";return u>0&&(h+=`${u}h `),d>0&&(h+=`${d}min`),h.trim()},s=n!==void 0?n:t.reduce((a,u)=>a+u.price,0),r=t.reduce((a,u)=>a+i(u.duration),0),l=o(r);return p.jsx("div",{className:"fixed bottom-0 left-0 right-0 md:left-64 bg-slate-800 text-white p-4 shadow-[0_-4px_15px_-5px_rgba(0,0,0,0.2)] z-20 animate-slide-in-bottom",children:p.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col sm:flex-row justify-between items-center gap-4",children:[p.jsxs("div",{className:"flex-grow text-center sm:text-left",children:[p.jsxs("h3",{className:"font-bold text-lg",children:[t.length," Servizi Selezionati"]}),p.jsxs("div",{className:"flex gap-4 text-sky-200 text-sm",children:[r>0&&p.jsxs("span",{children:["Durata Totale: ",p.jsx("span",{className:"font-semibold text-white",children:l})]}),p.jsxs("span",{children:["Costo Totale: ",p.jsxs("span",{className:"font-semibold text-white",children:[s,""]})]})]})]}),p.jsx("button",{onClick:e,className:"bg-sky-500 font-semibold py-2 px-6 rounded-lg hover:bg-sky-600 transition-colors flex items-center justify-center gap-2",children:p.jsx("span",{children:"Richiedi Appuntamento"})})]})})},Bx=t=>p.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("rect",{x:"2",y:"4",width:"20",height:"16",rx:"2"}),p.jsx("path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"})]}),Qr=t=>p.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:p.jsx("path",{d:"M16.75 13.96c.25.13.42.2.55.32.13.13.2.27.2.42s-.07.28-.2.42c-.13.13-.27.2-.42.2h-.13c-.32 0-.68-.07-1.1-.2-1.25-.42-2.25-1.18-2.97-2.18-.72-1-1.1-2.13-1.1-3.36 0-.2.07-.37.2-.5.13-.13.27-.2.42-.2h.13c.13 0 .25.03.35.1.1.07.17.15.22.25.1.13.17.3.22.5s.1.42.13.65c.03.23.03.45.03.63 0 .2-.03.4-.1.55-.07.15-.15.28-.25.4-.1.1-.18.18-.25.25-.07.07-.13.12-.17.15-.04.03-.07.07-.07.13s0 .1.03.13c.03.03.07.07.1.13.17.2.38.45.65.7.27.28.5.5.75.7s.48.37.7.5c.07.03.12.06.15.08.03.02.06.03.08.03s.04.02.06.03c.02.01.05.02.08.03.03.01.07.02.1.03.1.03.2.07.3.13.03.03.06.05.08.06.02.01.05.03.08.04.03.01.07.02.1.03l.03.01h.02c.03 0 .07-.02.1-.03.17-.07.32-.15.45-.25s.22-.2.3-.3c.08-.1.13-.2.15-.28.02-.08.03-.17.03-.25 0-.1-.02-.2-.05-.3-.03-.1-.08-.2-.13-.3s-.12-.18-.2-.28c-.08-.1-.15-.18-.2-.25-.05-.07-.1-.13-.13-.18s-.05-.1-.05-.13a.14.14 0 0 1 .03-.1c.01-.02.03-.03.05-.04.1-.05.2-.1.3-.15s.18-.1.25-.13c.07-.03.13-.05.17-.05.04 0 .08.02.1.03s.05.03.06.05c.01.02.03.03.03.05.01.02.02.05.02.08s-.02.07-.03.1c-.01.03-.03.06-.05.08l-.05.08c-.03.03-.05.06-.06.08a.2.2 0 0 0-.02.1c0 .03.01.06.03.1.02.03.05.06.1.1l.4.45c.1.13.2.25.3.37.1.12.2.23.3.32.1.1.2.18.3.25.1.07.2.13.28.17.08.04.17.07.25.1.08.03.17.04.25.04.13 0 .25-.02.37-.05.12-.03.24-.08.36-.15.12-.07.23-.15.33-.25.1-.1.18-.2.25-.32.07-.12.12-.24.15-.37.03-.13.05-.25.05-.38 0-.2-.07-.38-.2-.53-.13-.15-.3-.28-.5-.38-.2-.1-.42-.16-.65-.18-.23-.02-.48-.03-.7-.03-.23 0-.45.01-.65.03-.2.02-.4.06-.55.13-.15.07-.3.15-.42.25-.12.1-.23.2-.3.3s-.15.2-.2.3c-.05.1-.1.2-.13.3s-.05.2-.05.3v.1c0 .07.02.13.05.18.03.05.08.1.13.15l.35.35c.05.05.1.1.13.15l.13.15c.03.03.05.06.06.1a.24.24 0 0 1 0 .2c-.01.04-.03.08-.06.1-.03.03-.06.05-.1.06-.04.01-.08.02-.1.02-.03 0-.06,0-.08-.01s-.05-.02-.08-.03a.55.55 0 0 1-.13-.06c-.05-.03-.1-.06-.15-.1-.2-.13-.4-.28-.6-.45-.2-.17-.38-.35-.55-.52-.17-.17-.33-.35-.48-.52s-.28-.33-.4-.48c-.05-.07-.1-.13-.15-.2s-.1-.13-.13-.2c-.03-.07-.05-.13-.05-.2v-.12c0-.04.01-.08.03-.1.02-.03.05-.05.08-.06.03-.01.07-.02.1-.02h.1c.07 0 .13.02.18.05.05.03.1.08.15.13.1.13.2.25.3.37.1.12.18.23.25.32.07.1.13.18.17.25.04.07.08.13.1.18.02.05.03.1.03.13s-.01.07-.03.1a.1.1 0 0 1-.08.05c-.03.01-.07.01-.1 0-.03 0-.06-.01-.08-.02s-.05-.02-.08-.03c-.07-.03-.15-.07-.22-.1-.07-.03-.15-.07-.22-.1s-.15-.07-.22-.1c-.07-.03-.15-.05-.22-.07-.2-.05-.4-.08-.6-.08-.17 0-.33.02-.5.05-.17.03-.32.08-.47.15-.15.07-.28.16-.4.27-.12.11-.22.23-.3.37zM12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2z"})}),Qc=({isOpen:t,onClose:e,selection:n,user:i,onConfirmByEmail:o,onConfirmByWhatsApp:s})=>{if(!t)return null;const[r,l]=R.useState(""),[a,u]=R.useState(""),[d,h]=R.useState(""),m=new Date().toISOString().split("T")[0],g=v=>{if(h(""),!r||!a){h("Per favore, seleziona sia una data che un orario.");return}if(r<m){h("La data selezionata non pu essere nel passato.");return}v==="email"?o(r,a):v==="whatsapp"&&s(r,a)},x=n.reduce((v,w)=>v+(w.price||0),0);return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 animate-fade-in",children:p.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg transform transition-transform animate-slide-in-up",children:[p.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-slate-200",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Completa la tua Richiesta"}),p.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600",children:p.jsx(Ic,{className:"w-6 h-6"})})]}),p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"mb-6",children:[p.jsx("h3",{className:"font-semibold text-slate-700 mb-2",children:"Riepilogo Servizi:"}),p.jsx("ul",{className:"space-y-1 text-slate-600 max-h-32 overflow-y-auto bg-slate-50 p-3 rounded-md",children:n.map(v=>p.jsxs("li",{children:["- ",v.name]},v.id))}),p.jsxs("p",{className:"text-right font-bold text-slate-800 mt-2",children:["Totale: ",x,""]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold text-slate-700 mb-3",children:"Scegli la tua preferenza di appuntamento:"}),d&&p.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-3 mb-4 rounded-md",role:"alert",children:p.jsx("p",{children:d})}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"booking-date",className:"block text-sm font-medium text-slate-600 mb-1",children:"Data"}),p.jsx("input",{type:"date",id:"booking-date",min:m,value:r,onChange:v=>l(v.target.value),className:"w-full p-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"booking-time",className:"block text-sm font-medium text-slate-600 mb-1",children:"Orario"}),p.jsx("input",{type:"time",id:"booking-time",value:a,onChange:v=>u(v.target.value),className:"w-full p-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]})]})]})]}),p.jsxs("div",{className:"bg-slate-50 p-5 rounded-b-2xl flex flex-col sm:flex-row justify-end items-center gap-3",children:[p.jsxs("button",{onClick:()=>g("email"),className:"w-full sm:w-auto px-5 py-2 bg-sky-600 text-white font-semibold rounded-lg hover:bg-sky-700 transition-colors flex items-center justify-center gap-2",children:[p.jsx(Bx,{className:"w-5 h-5"})," Invia via Email"]}),p.jsxs("button",{onClick:()=>g("whatsapp"),className:"w-full sm:w-auto px-5 py-2 bg-green-500 text-white font-semibold rounded-lg hover:bg-green-600 transition-colors flex items-center justify-center gap-2",children:[p.jsx(Qr,{className:"w-5 h-5"})," Invia via WhatsApp"]})]})]})})},Dk=({user:t,showNotification:e})=>{const[n,i]=R.useState([]),[o,s]=R.useState(!1),[r,l]=R.useState([]),a=R.useCallback(()=>{const S=he("spaBookings",[]).filter(_=>_.userEmail===t.email&&_.type==="spa").sort((_,y)=>new Date(y.dateSubmitted).getTime()-new Date(_.dateSubmitted).getTime());l(S)},[t.email]);R.useEffect(()=>{a()},[a]);const u=(w,S)=>{i(_=>{const y=`${S}-${w.name}`;return _.some(T=>T.id===y)?_.filter(T=>T.id!==y):[..._,{...w,id:y}]})},d=(w,S)=>{const y=he("spaBookings",[]).map(C=>C.id===w?{...C,status:S}:C);localStorage.setItem("spaBookings",JSON.stringify(y)),a(),e("Stato appuntamento aggiornato!","success")},h=w=>{if(window.confirm("Sei sicuro di voler annullare questa richiesta?")){const _=he("spaBookings",[]).filter(y=>y.id!==w);localStorage.setItem("spaBookings",JSON.stringify(_)),a(),e("Richiesta annullata.","success")}},m=(w,S,_)=>{const y={id:new Date().getTime(),userEmail:t.email,userName:t.name,services:n,requestedDate:w,requestedTime:S,totalPrice:n.reduce((I,b)=>I+(b.price||0),0),status:"pending",dateSubmitted:new Date().toISOString(),type:"spa"},C=he("spaBookings",[]);localStorage.setItem("spaBookings",JSON.stringify([...C,y])),a();const T=n.map(I=>`- ${I.name} (${I.duration} - ${I.price})`).join(`
`),k=`Richiesta prenotazione SPA da: ${t.name} (${t.email})
Data: ${new Date(w).toLocaleDateString("it-IT")}
Ora: ${S}

Servizi:
${T}

Totale: ${y.totalPrice}`.trim();_==="email"?window.open(`mailto:${El}?subject=${encodeURIComponent(`Richiesta Prenotazione SPA - ${t.name}`)}&body=${encodeURIComponent(k)}`,"_blank"):_==="whatsapp"&&window.open(`https://wa.me/${$i}?text=${encodeURIComponent(k)}`,"_blank"),s(!1),i([]),e("La tua richiesta  pronta per essere inviata!")},g=({status:w})=>{const S={pending:"bg-amber-100 text-amber-800",confirmed:"bg-emerald-100 text-emerald-800",rejected:"bg-red-100 text-red-800"},_={pending:"In attesa",confirmed:"Confermata",rejected:"Rifiutata"};return p.jsx("span",{className:`px-3 py-1 text-sm font-bold rounded-full ${S[w]||S.pending}`,children:_[w]||_.pending})},x=[{category:"Programmi Benessere",items:Vp.programs},...Vp.treatments],v=n.reduce((w,S)=>w+(S.price||0),0);return p.jsxs("div",{className:"p-4 md:p-8 animate-fade-in pb-32",children:[p.jsx("h1",{className:"text-4xl font-bold text-slate-800 mb-2",children:"Percorsi & Trattamenti SPA"}),p.jsx("p",{className:"text-xl text-slate-600 mb-8",children:"Seleziona i trattamenti per richiedere un appuntamento."}),p.jsx("div",{className:"space-y-8",children:x.map(({category:w,items:S})=>p.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-700 mb-4",children:w}),p.jsx("div",{className:"divide-y divide-slate-200",children:S.map(_=>w==="Trattamenti Microaree RENOPHASE"?p.jsxs("div",{className:"py-3",children:[p.jsx("p",{className:"font-bold text-slate-800 mb-2",children:_.name}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[p.jsxs("button",{onClick:()=>u({..._,name:`${_.name} Base`,duration:_.baseDuration,price:_.basePrice},w),className:`flex-1 text-left p-2 rounded-md transition-colors ${n.some(y=>y.id===`${w}-${_.name} Base`)?"bg-sky-100":"hover:bg-slate-50"}`,children:["Base: ",p.jsxs("span",{className:"font-semibold",children:[_.baseDuration," - ",_.basePrice,""]})]}),p.jsxs("button",{onClick:()=>u({..._,name:`${_.name} con Foto-stimolazione`,duration:_.photoDuration,price:_.photoPrice},w),className:`flex-1 text-left p-2 rounded-md transition-colors ${n.some(y=>y.id===`${w}-${_.name} con Foto-stimolazione`)?"bg-sky-100":"hover:bg-slate-50"}`,children:["+ Foto-stimolazione: ",p.jsxs("span",{className:"font-semibold",children:[_.photoDuration," - ",_.photoPrice,""]})]})]})]},_.name):p.jsxs("div",{onClick:()=>u(_,w),className:`py-3 flex justify-between items-center cursor-pointer transition-colors ${n.some(y=>y.id===`${w}-${_.name}`)?"bg-sky-50":"hover:bg-slate-50"}`,children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-bold text-slate-800",children:_.name}),p.jsx("p",{className:"text-sm text-slate-500",children:_.duration})]}),p.jsx("p",{className:"font-semibold text-sky-700",children:_.price?`${_.price}`:"Pacchetto"})]},_.name))})]},w))}),p.jsxs("div",{className:"mt-12",children:[p.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-6",children:"Le Tue Prenotazioni SPA"}),p.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-lg",children:r.length>0?p.jsx("ul",{className:"space-y-4",children:r.map(w=>p.jsxs("li",{className:"bg-slate-50 p-4 rounded-lg border border-slate-100",children:[p.jsxs("div",{className:"flex justify-between items-start gap-4",children:[p.jsxs("div",{children:[p.jsxs("p",{className:"font-bold text-slate-800",children:["Richiesta del ",new Date(w.dateSubmitted).toLocaleDateString("it-IT")]}),p.jsxs("p",{className:"text-sm text-slate-600",children:["Appuntamento per: ",new Date(w.requestedDate).toLocaleDateString("it-IT")," ore ",w.requestedTime]})]}),p.jsx(g,{status:w.status})]}),p.jsx("ul",{className:"mt-2 text-sm text-slate-700 list-disc list-inside",children:w.services.map(S=>p.jsx("li",{children:S.name},S.id))}),w.status==="pending"&&p.jsxs("div",{className:"mt-4 border-t border-slate-200 pt-3 flex items-center justify-end gap-3",children:[p.jsxs("button",{onClick:()=>d(w.id,"confirmed"),className:"flex items-center gap-1.5 text-sm font-semibold text-emerald-600 hover:text-emerald-800 p-2 rounded-lg hover:bg-emerald-50 transition-colors",children:[p.jsx(kn,{className:"w-5 h-5"}),p.jsx("span",{children:"Conferma Appuntamento"})]}),p.jsxs("button",{onClick:()=>h(w.id),className:"flex items-center gap-1.5 text-sm font-semibold text-red-600 hover:text-red-800 p-2 rounded-lg hover:bg-red-50 transition-colors",children:[p.jsx(ii,{className:"w-5 h-5"}),p.jsx("span",{children:"Elimina Richiesta"})]})]})]},w.id))}):p.jsx("p",{className:"text-center text-slate-500 py-8",children:"Non hai prenotazioni SPA attive."})})]}),n.length>0&&p.jsx(Kc,{selection:n,total:v,onProceed:()=>s(!0)}),p.jsx(Qc,{isOpen:o,onClose:()=>s(!1),selection:n,user:t,onConfirmByEmail:(w,S)=>m(w,S,"email"),onConfirmByWhatsApp:(w,S)=>m(w,S,"whatsapp")})]})},Hp={category:"Servizi Diagnostici",items:[{name:"Holter Pressorio 24h",duration:"20 min",price:60,description:"Monitoraggio della pressione arteriosa per 24 ore."},{name:"Holter Cardiaco 24h",duration:"20 min",price:70,description:"Registrazione dell'attivit elettrica del cuore per 24 ore."},{name:"Elettrocardiogramma (ECG)",duration:"15 min",price:35,description:"Test rapido per controllare il ritmo e l'attivit elettrica del cuore."},{name:"Tampone Covid-19 Rapido",duration:"10 min",price:15,description:"Test antigenico rapido per la rilevazione del SARS-CoV-2."},{name:"Tampone Streptococco",duration:"10 min",price:20,description:"Test rapido per la diagnosi di faringite da Streptococco."},{name:"Foratura Lobi",duration:"15 min",price:25,description:"Servizio di foratura lobi sterile e sicuro."},{name:"Foratura Naso",duration:"20 min",price:30,description:"Servizio di foratura del naso con tecnica sterile."},{name:"Teledermatologia",duration:"20 min",price:80,description:"Valutazione dermatologica a distanza con invio di immagini."},{name:"BIA - Bioimpedenziometria",duration:"30 min",price:40,description:"Analisi della composizione corporea (massa magra, massa grassa, idratazione)."}]},Lk=({user:t,showNotification:e})=>{const[n,i]=R.useState([]),[o,s]=R.useState(!1),[r,l]=R.useState([]),a=R.useCallback(()=>{const w=he("spaBookings",[]).filter(S=>S.userEmail===t.email&&S.type==="pharmacy").sort((S,_)=>new Date(_.dateSubmitted).getTime()-new Date(S.dateSubmitted).getTime());l(w)},[t.email]);R.useEffect(()=>{a()},[a]);const u=v=>{i(w=>{const S=v.name;return w.some(y=>y.id===S)?w.filter(y=>y.id!==S):[...w,{...v,id:S}]})},d=(v,w)=>{const _=he("spaBookings",[]).map(y=>y.id===v?{...y,status:w}:y);localStorage.setItem("spaBookings",JSON.stringify(_)),a(),e("Stato appuntamento aggiornato!","success")},h=v=>{if(window.confirm("Sei sicuro di voler annullare questa richiesta?")){const S=he("spaBookings",[]).filter(_=>_.id!==v);localStorage.setItem("spaBookings",JSON.stringify(S)),a(),e("Richiesta annullata.","success")}},m=(v,w,S)=>{const _={id:new Date().getTime(),userEmail:t.email,userName:t.name,services:n,requestedDate:v,requestedTime:w,totalPrice:n.reduce((k,I)=>k+I.price,0),status:"pending",dateSubmitted:new Date().toISOString(),type:"pharmacy"},y=he("spaBookings",[]);localStorage.setItem("spaBookings",JSON.stringify([...y,_])),a();const C=n.map(k=>`- ${k.name} (${k.duration} - ${k.price})`).join(`
`),T=`Richiesta Servizi Farmacia da: ${t.name} (${t.email})
Data: ${new Date(v).toLocaleDateString("it-IT")}
Ora: ${w}

Servizi:
${C}

Totale: ${_.totalPrice}`.trim();S==="email"?window.open(`mailto:${El}?subject=${encodeURIComponent(`Richiesta Servizi Farmacia - ${t.name}`)}&body=${encodeURIComponent(T)}`,"_blank"):S==="whatsapp"&&window.open(`https://wa.me/${$i}?text=${encodeURIComponent(T)}`,"_blank"),s(!1),i([]),e("La tua richiesta  pronta per essere inviata!")},g=({status:v})=>{const w={pending:"bg-amber-100 text-amber-800",confirmed:"bg-emerald-100 text-emerald-800",rejected:"bg-red-100 text-red-800"},S={pending:"In attesa",confirmed:"Confermata",rejected:"Rifiutata"};return p.jsx("span",{className:`px-3 py-1 text-sm font-bold rounded-full ${w[v]||w.pending}`,children:S[v]||S.pending})},x=n.reduce((v,w)=>v+(w.price||0),0);return p.jsxs("div",{className:"p-4 md:p-8 animate-fade-in pb-32",children:[p.jsx("h1",{className:"text-4xl font-bold text-slate-800 mb-2",children:"Servizi della Farmacia"}),p.jsx("p",{className:"text-xl text-slate-600 mb-8",children:"Scegli i servizi di cui hai bisogno e prenota un appuntamento."}),p.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-700 mb-4",children:Hp.category}),p.jsx("div",{className:"divide-y divide-slate-200",children:Hp.items.map(v=>p.jsxs("div",{onClick:()=>u(v),className:`py-4 flex justify-between items-start cursor-pointer transition-colors ${n.some(w=>w.id===v.name)?"bg-sky-50":"hover:bg-slate-50"}`,children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-bold text-slate-800",children:v.name}),p.jsx("p",{className:"text-sm text-slate-600 mt-1",children:v.description}),p.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Durata: ",v.duration]})]}),p.jsxs("p",{className:"font-semibold text-sky-700 flex-shrink-0 ml-4",children:[v.price,""]})]},v.name))})]}),p.jsxs("div",{className:"mt-12",children:[p.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-6",children:"Le Tue Richieste di Servizi"}),p.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-lg",children:r.length>0?p.jsx("ul",{className:"space-y-4",children:r.map(v=>p.jsxs("li",{className:"bg-slate-50 p-4 rounded-lg border border-slate-100",children:[p.jsxs("div",{className:"flex justify-between items-start gap-4",children:[p.jsxs("div",{children:[p.jsxs("p",{className:"font-bold text-slate-800",children:["Richiesta del ",new Date(v.dateSubmitted).toLocaleDateString("it-IT")]}),p.jsxs("p",{className:"text-sm text-slate-600",children:["Appuntamento per: ",new Date(v.requestedDate).toLocaleDateString("it-IT")," ore ",v.requestedTime]})]}),p.jsx(g,{status:v.status})]}),p.jsx("ul",{className:"mt-2 text-sm text-slate-700 list-disc list-inside",children:v.services.map(w=>p.jsx("li",{children:w.name},w.id))}),v.status==="pending"&&p.jsxs("div",{className:"mt-4 border-t border-slate-200 pt-3 flex items-center justify-end gap-3",children:[p.jsxs("button",{onClick:()=>d(v.id,"confirmed"),className:"flex items-center gap-1.5 text-sm font-semibold text-emerald-600 hover:text-emerald-800 p-2 rounded-lg hover:bg-emerald-50 transition-colors",children:[p.jsx(kn,{className:"w-5 h-5"}),p.jsx("span",{children:"Conferma Richiesta"})]}),p.jsxs("button",{onClick:()=>h(v.id),className:"flex items-center gap-1.5 text-sm font-semibold text-red-600 hover:text-red-800 p-2 rounded-lg hover:bg-red-50 transition-colors",children:[p.jsx(ii,{className:"w-5 h-5"}),p.jsx("span",{children:"Elimina"})]})]})]},v.id))}):p.jsx("p",{className:"text-center text-slate-500 py-8",children:"Non hai richieste di servizi in corso."})})]}),n.length>0&&p.jsx(Kc,{selection:n,total:x,onProceed:()=>s(!0)}),p.jsx(Qc,{isOpen:o,onClose:()=>s(!1),selection:n,user:t,onConfirmByEmail:(v,w)=>m(v,w,"email"),onConfirmByWhatsApp:(v,w)=>m(v,w,"whatsapp")})]})},zk=["Rughe ed invecchiamento cutaneo","Cellulite e ritenzione idrica","Analisi","Invecchiamento","Salute cardiovascolare","Insonnia","Disturbi dell'intestino","Intolleranze alimentari ed allergie","Migliorare la performance sportiva","Gambe pesanti e varici","Dimagrimento","Attivita' fisica","Ansia e Stress","Ipertensione","Malattie della pelle","Algie e Dolori","Stanchezza","Benessere e felicita'","Problemi posturali","Cistiti ricorrenti"],Vx=[{name:"Colesterolo Totale",price:7},{name:"Trigliceridi",price:6},{name:"Profilo Lipidico Completo",price:20},{name:"Profilo Glucidico Completo",price:20},{name:"Vitamina D",price:20},{name:"Proteina C Reattiva",price:6},{name:"Esame Urine",price:10}],Fk=[{name:"Skin Analysis",price:10},{name:"Skin Check (Dermatology)",price:30},{name:"Valutazione Training",price:0,label:"da concordare"},{name:"Analisi DNA e Genomiche",price:130},{name:"Cortisolo Salivare",price:15},{name:"Test ed Analisi del Sonno",price:0,label:"compresa nel pacchetto"},{name:"Test dello Stress",price:0,label:"compreso nel pacchetto"},{name:"Polisonnografia",price:0,label:"da concordare"},{name:"Pletismografia",price:0,label:"da concordare"},{name:"Metabolica (func. tiroide, ecc)",price:0,label:"da concordare"},{name:"Body Composition",price:40},{name:"HRV",price:0,label:"compresa nel pacchetto"},{name:"Intestino e Microbioma",price:199},{name:"Valutazione Osteopatica",price:50},{name:"Dietetica Intolleranze",price:150},{name:"ECG",price:35},{name:"Holter Pressorio",price:60},{name:"Holter ECG",price:70}],Uk={"Rughe ed invecchiamento cutaneo":["Skin Analysis","Skin Check (Dermatology)","Analisi DNA e Genomiche"],"Cellulite e ritenzione idrica":["Esame Urine","Body Composition"],Invecchiamento:["Analisi DNA e Genomiche","Vitamina D","Profilo Lipidico Completo"],"Salute cardiovascolare":["Profilo Lipidico Completo","ECG","Holter Pressorio","Holter ECG","Proteina C Reattiva"],Insonnia:["Test ed Analisi del Sonno","Cortisolo Salivare","Polisonnografia"],"Disturbi dell'intestino":["Intestino e Microbioma","Dietetica Intolleranze"],"Intolleranze alimentari ed allergie":["Dietetica Intolleranze","Intestino e Microbioma"],"Migliorare la performance sportiva":["Valutazione Training","Body Composition","HRV"],"Gambe pesanti e varici":["Pletismografia","Esame Urine"],Dimagrimento:["Body Composition","Profilo Glucidico Completo","Metabolica (func. tiroide, ecc)"],"Attivita' fisica":["Valutazione Training","Body Composition","HRV","ECG"],"Ansia e Stress":["Test dello Stress","Cortisolo Salivare","HRV"],Ipertensione:["Holter Pressorio","Profilo Lipidico Completo","ECG"],"Malattie della pelle":["Skin Analysis","Skin Check (Dermatology)","Teledermatologia"],"Algie e Dolori":["Valutazione Osteopatica","Proteina C Reattiva"],Stanchezza:["Vitamina D","Metabolica (func. tiroide, ecc)","Cortisolo Salivare"],"Benessere e felicita'":["Profilo Lipidico Completo","Vitamina D"],"Problemi posturali":["Valutazione Osteopatica"],"Cistiti ricorrenti":["Esame Urine"]},Hx=new Map;[...Vx,...Fk].forEach(t=>Hx.set(t.name,t));const Bk=({user:t,showNotification:e,onNavigate:n})=>{const[i,o]=R.useState([]),[s,r]=R.useState(new Set),[l,a]=R.useState(!1),[u,d]=R.useState([]),[h,m]=R.useState(!1),[g,x]=R.useState([]),v=R.useCallback(()=>he("spaBookings",[]),[]);R.useEffect(()=>{const E=v().filter(P=>P.userEmail===t.email&&P.type==="analysis").sort((P,D)=>new Date(D.dateSubmitted).getTime()-new Date(P.dateSubmitted).getTime());d(E)},[t.email,v]);const w=E=>{const P=new Set(s);P.has(E)?P.delete(E):P.add(E),r(P)},S=E=>{o(P=>P.some(q=>q.id===E.name)?P.filter(q=>q.id!==E.name):[...P,{id:E.name,name:E.name,price:E.price,duration:null,label:E.label}])},_=(E,P)=>{const q=v().map(B=>B.id===E?{...B,status:P}:B);localStorage.setItem("spaBookings",JSON.stringify(q)),d(B=>B.map(V=>V.id===E?{...V,status:P}:V)),e("Appuntamento segnato come confermato!","success")},y=E=>{if(confirm("Sei sicuro di voler annullare questa richiesta?")){const D=v().filter(B=>B.id!==E);localStorage.setItem("spaBookings",JSON.stringify(D));const q=D.filter(B=>B.userEmail===t.email&&B.type==="analysis").sort((B,V)=>new Date(V.dateSubmitted).getTime()-new Date(B.dateSubmitted).getTime());d(q),e("Richiesta annullata.","success")}},C=(E,P,D)=>{const q={id:new Date().getTime(),userEmail:t.email,userName:t.name,services:i,requestedDate:E,requestedTime:P,totalPrice:i.reduce((L,H)=>H.price>0?L+H.price:L,0),status:"pending",dateSubmitted:new Date().toISOString(),type:"analysis"},B=he("spaBookings",[]);localStorage.setItem("spaBookings",JSON.stringify([...B,q])),d(L=>[q,...L]);const V=i.map(L=>`- ${L.name} (${L.price>0?`${L.price}`:L.label||"da definire"})`).join(`
`),ae=`Richiesta di preventivo/appuntamento per analisi da: ${t.name} (${t.email})
Data richiesta: ${new Date(E).toLocaleDateString("it-IT")}
Ora richiesta: ${P}

Analisi Richieste:
${V}

Totale (preliminare): ${q.totalPrice}`.trim();D==="email"?window.open(`mailto:${El}?subject=${encodeURIComponent(`Richiesta Analisi & Preventivo - ${t.name}`)}&body=${encodeURIComponent(ae)}`,"_blank"):D==="whatsapp"&&window.open(`https://wa.me/${$i}?text=${encodeURIComponent(ae)}`,"_blank"),a(!1),o([]),e("La tua richiesta  pronta per essere inviata!")},T=()=>{const E=new Set;s.forEach(D=>{(Uk[D]||[]).forEach(B=>E.add(B))});const P=Array.from(E).map(D=>{const q=Hx.get(D);return q?{id:q.name,name:q.name,price:q.price,duration:null,label:q.label}:null}).filter(Boolean);x(P),o(P),m(!0)},k=i.reduce((E,P)=>P.price>0?E+P.price:E,0),I=({status:E})=>{const P={pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"},D={pending:"In attesa",confirmed:"Confermato",rejected:"Rifiutata"};return p.jsx("span",{className:`px-3 py-1 text-sm font-bold rounded-full ${P[E]||"bg-gray-100 text-gray-800"}`,children:D[E]||"Sconosciuto"})},b=new Set(Vx.map(E=>E.name)),N=g.filter(E=>b.has(E.name)),A=g.filter(E=>!b.has(E.name));return p.jsxs("div",{className:"p-4 md:p-8 animate-fade-in pb-32",children:[p.jsx("h1",{className:"text-4xl font-bold text-slate-800 mb-2",children:"Analisi & Preventivi"}),p.jsx("p",{className:"text-xl text-slate-600 mb-8",children:"Seleziona i tuoi obiettivi per ricevere un consiglio sulle analisi da fare."}),p.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg mb-8",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-700 mb-4",children:"1. Scegli i tuoi obiettivi di salute"}),p.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:zk.map(E=>p.jsx("button",{onClick:()=>w(E),className:`px-3 py-3 text-sm font-semibold rounded-lg border-2 transition-colors w-full h-full text-center flex items-center justify-center ${s.has(E)?"bg-sky-600 text-white border-sky-600":"bg-white text-slate-700 border-slate-300 hover:border-sky-500 hover:bg-sky-50"}`,children:E},E))}),p.jsx("div",{className:"mt-6 flex justify-center",children:p.jsx("button",{onClick:T,disabled:s.size===0,className:"px-8 py-3 bg-red-600 text-white font-bold rounded-lg shadow-md hover:bg-red-700 transition-colors disabled:bg-slate-400 disabled:cursor-not-allowed","aria-label":"Valuta obiettivi selezionati",children:"Valuta"})})]}),h&&p.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg animate-fade-in",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-700 mb-2",children:"2. Analisi Consigliate"}),p.jsx("p",{className:"text-slate-500 mb-6",children:"In base ai tuoi obiettivi, ti consigliamo le seguenti analisi. Puoi deselezionare quelle che non ti interessano prima di procedere."}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold text-slate-800 mb-3 border-b pb-2",children:"Analisi del Sangue"}),p.jsx("div",{className:"space-y-1",children:N.length>0?N.map(E=>p.jsxs("div",{onClick:()=>S(E),className:`flex justify-between items-center p-2 rounded-lg cursor-pointer transition-colors ${i.some(P=>P.id===E.name)?"bg-sky-100":"hover:bg-slate-50"}`,children:[p.jsx("span",{className:"font-medium text-slate-700 text-sm",children:E.name}),p.jsxs("span",{className:"font-semibold text-sky-700 text-sm",children:[E.price,""]})]},E.name)):p.jsx("p",{className:"text-sm text-slate-500 italic",children:"Nessuna analisi del sangue consigliata per questi obiettivi."})})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold text-slate-800 mb-3 border-b pb-2",children:"Altre Analisi"}),p.jsx("div",{className:"space-y-1",children:A.length>0?A.map(E=>p.jsxs("div",{onClick:()=>S(E),className:`flex justify-between items-center p-2 rounded-lg cursor-pointer transition-colors ${i.some(P=>P.id===E.name)?"bg-sky-100":"hover:bg-slate-50"}`,children:[p.jsx("span",{className:"font-medium text-slate-700 text-sm",children:E.name}),p.jsx("span",{className:"font-semibold text-sky-700 text-sm",children:E.label||`${E.price}`})]},E.name)):p.jsx("p",{className:"text-sm text-slate-500 italic",children:"Nessun'altra analisi consigliata per questi obiettivi."})})]})]})]}),p.jsxs("div",{className:"mt-12",children:[p.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-6",children:"Le Tue Richieste"}),p.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-lg",children:u.length>0?p.jsx("ul",{className:"space-y-4",children:u.map(E=>p.jsxs("li",{className:"bg-slate-50 p-4 rounded-lg",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[p.jsxs("div",{children:[p.jsxs("p",{className:"font-bold text-slate-800",children:["Richiesta per il ",new Date(E.requestedDate).toLocaleDateString("it-IT",{day:"2-digit",month:"long"})," alle ",E.requestedTime]}),p.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Inviata il: ",new Date(E.dateSubmitted).toLocaleString("it-IT")]})]}),p.jsx("div",{className:"self-start sm:self-center flex-shrink-0",children:p.jsx(I,{status:E.status})})]}),p.jsxs("div",{className:"mt-4 border-t border-slate-200 pt-3",children:[p.jsx("ul",{className:"list-disc list-inside text-slate-600 text-sm space-y-1",children:E.services.map(P=>p.jsx("li",{children:P.name},P.id))}),p.jsxs("p",{className:"text-right font-bold text-slate-800 mt-3",children:["Totale: ",E.totalPrice,""]})]}),E.status==="pending"&&p.jsxs("div",{className:"mt-4 border-t border-slate-200 pt-3 flex items-center justify-end gap-3",children:[p.jsxs("button",{onClick:()=>_(E.id,"confirmed"),className:"flex items-center gap-1.5 text-sm font-semibold text-green-600 hover:text-green-800 p-2 rounded-lg hover:bg-green-100",children:[p.jsx(kn,{className:"w-5 h-5"}),p.jsx("span",{children:"Confermato"})]}),p.jsxs("button",{onClick:()=>y(E.id),className:"flex items-center gap-1.5 text-sm font-semibold text-red-600 hover:text-red-800 p-2 rounded-lg hover:bg-red-100",children:[p.jsx(ii,{className:"w-5 h-5"}),p.jsx("span",{children:"Annulla"})]})]})]},E.id))}):p.jsx("p",{className:"text-center text-slate-500 py-8",children:"Non hai ancora inviato richieste di analisi."})})]}),i.length>0&&p.jsx(Kc,{selection:i,total:k,onProceed:()=>a(!0)}),p.jsx(Qc,{isOpen:l,onClose:()=>a(!1),selection:i,user:t,onConfirmByEmail:(E,P)=>C(E,P,"email"),onConfirmByWhatsApp:(E,P)=>C(E,P,"whatsapp")})]})},Vk=({user:t,onNavigate:e,showNotification:n,wellnessData:i})=>{const[o,s]=R.useState({}),[r,l]=R.useState(!1),[a,u]=R.useState(""),d="CWSPA",h=x=>{const v=o[x],w=Mk[x];if(v===w){const S=`manualUnlocks_${t.email}`,_=he(S,[]),y=[...new Set([..._,x])];localStorage.setItem(S,JSON.stringify(y)),n("Livello sbloccato con successo!","success")}else n("Password errata. Riprova.","error")},m=()=>{a.trim()===d?l(!0):(n("Password per il riepilogo errata.","error"),u(""))},g=Object.values(i).filter(x=>x.unlocksAt);return p.jsxs("div",{className:"p-4 md:p-8 animate-fade-in",children:[p.jsxs("button",{onClick:()=>e("profile"),className:"flex items-center gap-2 text-sky-600 font-semibold mb-6 hover:text-sky-800 transition-colors",children:[p.jsx(_u,{className:"w-5 h-5"}),p.jsx("span",{children:"Torna al Profilo"})]}),p.jsx("h1",{className:"text-4xl font-bold text-slate-800 mb-2",children:"Sblocco Manuale Livelli"}),p.jsx("p",{className:"text-xl text-slate-600 mb-8",children:"Inserisci la password per accedere direttamente a un livello."}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[p.jsx("div",{children:p.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-lg space-y-6",children:g.map(x=>p.jsxs("div",{children:[p.jsxs("h3",{className:"font-bold text-slate-700",children:[x.name," - ",x.subtitle]}),p.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[p.jsx("input",{type:"password",placeholder:"Inserisci la password",value:o[x.id]||"",onChange:v=>s({...o,[x.id]:v.target.value}),className:"flex-grow p-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-sky-500"}),p.jsx("button",{onClick:()=>h(x.id),className:"px-4 py-2 bg-sky-600 text-white font-semibold rounded-lg hover:bg-sky-700 transition-colors",children:"Sblocca"})]})]},x.id))})}),p.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:" Riepilogo Password"}),r?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-sm text-left text-slate-600",children:[p.jsx("thead",{className:"text-xs text-slate-700 uppercase bg-slate-100",children:p.jsxs("tr",{children:[p.jsx("th",{scope:"col",className:"px-4 py-3",children:"Programma"}),p.jsx("th",{scope:"col",className:"px-4 py-3",children:"Livello"}),p.jsx("th",{scope:"col",className:"px-4 py-3",children:"Password"})]})}),p.jsx("tbody",{children:Rk.map(x=>p.jsxs("tr",{className:"bg-white border-b hover:bg-slate-50",children:[p.jsx("td",{className:"px-4 py-3 font-medium text-slate-800",children:x.program}),p.jsx("td",{className:"px-4 py-3",children:x.level}),p.jsx("td",{className:"px-4 py-3",children:p.jsx("code",{className:"bg-slate-100 p-1 rounded-md text-sky-700 font-mono",children:x.password})})]},x.level))})]})}),p.jsx("button",{onClick:()=>{l(!1),u("")},className:"mt-4 w-full px-4 py-2 bg-slate-200 text-slate-800 font-semibold rounded-lg hover:bg-slate-300 transition-colors",children:"Nascondi Riepilogo"})]}):p.jsxs("div",{className:"p-4 text-center",children:[p.jsx(Yc,{className:"w-10 h-10 mx-auto text-slate-400 mb-4"}),p.jsx("p",{className:"text-slate-600 mb-4",children:"Questa sezione  protetta da password."}),p.jsxs("div",{className:"flex items-center gap-2 max-w-sm mx-auto",children:[p.jsx("input",{type:"password",placeholder:"Password riepilogo",value:a,onChange:x=>u(x.target.value),onKeyPress:x=>x.key==="Enter"&&m(),className:"flex-grow p-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-sky-500"}),p.jsx("button",{onClick:m,className:"px-4 py-2 bg-sky-600 text-white font-semibold rounded-lg hover:bg-sky-700 transition-colors",children:"Mostra"})]})]})]})]})]})},Ox=t=>p.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"}),p.jsx("path",{d:"M12 12v9"}),p.jsx("path",{d:"m16 16-4-4-4 4"})]}),Su=t=>p.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),p.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),p.jsx("path",{d:"M10 9H8"}),p.jsx("path",{d:"M16 13H8"}),p.jsx("path",{d:"M16 17H8"})]}),Hk=({user:t,showNotification:e})=>{const[n,i]=R.useState([]),[o,s]=R.useState([]),r=`prescriptionHistory_${t.email}`;R.useEffect(()=>{const d=he(r,[]);s(d.sort((h,m)=>m.id-h.id))},[r]),R.useEffect(()=>()=>{n.forEach(d=>URL.revokeObjectURL(d.previewUrl))},[n]);const l=d=>{if(d.target.files){const h=n,m=Array.from(d.target.files).map(g=>({file:g,previewUrl:URL.createObjectURL(g)}));h.forEach(g=>URL.revokeObjectURL(g.previewUrl)),i(g=>[...g,...m]),d.target.value=""}},a=d=>{i(h=>{const m=h[d];return m&&URL.revokeObjectURL(m.previewUrl),h.filter((g,x)=>x!==d)})},u=d=>{if(n.length===0){e("Nessuna ricetta da inviare.","error");return}const h=n.map(w=>`- ${w.file.name}`).join(`
`),m=`Buongiorno,

Si richiede la preparazione delle seguenti ricette mediche per ${t.name}:
${h}

(I file delle ricette sono stati allegati a questa comunicazione)

Grazie,
${t.name}`,g=`Buongiorno,

In allegato le seguenti ricette mediche per ${t.name}:
${h}

(Ricorda di allegare manualmente i file prima di inviare)

Grazie,
${t.name}`;if(d==="email"){const w=`mailto:${El}?subject=${encodeURIComponent(`Invio Ricette Mediche - ${t.name}`)}&body=${encodeURIComponent(g)}`;window.open(w,"_blank")}else{const w=`https://wa.me/${$i}?text=${encodeURIComponent(m)}`;window.open(w,"_blank")}const v=[{id:Date.now(),date:new Date().toISOString(),files:n.map(w=>w.file.name)},...o];localStorage.setItem(r,JSON.stringify(v)),s(v),i([]),e("La tua richiesta  pronta per essere inviata!","success")};return p.jsxs("div",{className:"p-4 md:p-8 animate-fade-in",children:[p.jsx("h1",{className:"text-4xl font-bold text-slate-800 mb-2",children:"Invio Ricette Mediche"}),p.jsx("p",{className:"text-xl text-slate-600 mb-8",children:"Carica una o pi ricette da inviare alla farmacia."}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-700 mb-4",children:"1. Carica le tue ricette"}),p.jsxs("div",{className:"relative border-2 border-dashed border-slate-300 rounded-lg p-10 text-center",children:[p.jsx("input",{type:"file",accept:"image/*,.pdf",multiple:!0,onChange:l,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer","aria-label":"Carica file"}),p.jsxs("div",{className:"flex flex-col items-center text-slate-500 pointer-events-none",children:[p.jsx(Ox,{className:"w-12 h-12 mb-2"}),p.jsx("p",{className:"font-semibold",children:"Trascina i file qui o clicca per caricare"}),p.jsx("p",{className:"text-sm",children:"Puoi selezionare pi file (PDF, JPG, PNG)"})]})]})]}),p.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-700 mb-4",children:"2. Ricette da Inviare"}),n.length>0?p.jsxs("div",{className:"space-y-3",children:[p.jsx("ul",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:n.map((d,h)=>p.jsxs("li",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg animate-fade-in",children:[p.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[d.file.type.startsWith("image/")?p.jsx("img",{src:d.previewUrl,alt:d.file.name,className:"w-12 h-12 rounded-md object-cover flex-shrink-0"}):p.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-slate-200 rounded-md flex-shrink-0",children:p.jsx(Su,{className:"w-6 h-6 text-slate-600"})}),p.jsxs("div",{className:"overflow-hidden",children:[p.jsx("span",{className:"font-medium text-slate-700 truncate block",title:d.file.name,children:d.file.name}),p.jsxs("span",{className:"text-xs text-slate-500",children:[Math.round(d.file.size/1024)," KB"]})]})]}),p.jsx("button",{onClick:()=>a(h),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-100 flex-shrink-0 ml-2",children:p.jsx(ii,{className:"w-5 h-5"})})]},`${d.file.name}-${d.file.lastModified}-${h}`))}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4 border-t border-slate-200",children:[p.jsxs("button",{onClick:()=>u("email"),className:"w-full flex items-center justify-center gap-2 px-5 py-2.5 bg-sky-600 text-white font-semibold rounded-lg hover:bg-sky-700 transition-colors",children:[p.jsx(Bx,{className:"w-5 h-5"})," Invia via Email"]}),p.jsxs("button",{onClick:()=>u("whatsapp"),className:"w-full flex items-center justify-center gap-2 px-5 py-2.5 bg-green-500 text-white font-semibold rounded-lg hover:bg-green-600 transition-colors",children:[p.jsx(Qr,{className:"w-5 h-5"})," Invia via WhatsApp"]})]})]}):p.jsx("p",{className:"text-center text-slate-500 py-8",children:"Non hai ancora aggiunto nessuna ricetta."})]})]}),p.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-700 mb-4",children:"Storico Ricette Inviate"}),o.length>0?p.jsx("ul",{className:"space-y-4 max-h-[600px] overflow-y-auto pr-2",children:o.map(d=>p.jsxs("li",{className:"bg-slate-50 p-4 rounded-lg",children:[p.jsxs("p",{className:"font-semibold text-slate-800",children:["Invio del ",new Date(d.date).toLocaleString("it-IT")]}),p.jsx("ul",{className:"mt-2 text-sm text-slate-600 list-disc list-inside space-y-1",children:d.files.map(h=>p.jsx("li",{children:h},h))})]},d.id))}):p.jsx("p",{className:"text-center text-slate-500 py-16",children:"Nessuna ricetta inviata in precedenza."})]})]})]})},Ok=({onSettingsSaved:t,showNotification:e})=>{const[n,i]=R.useState(!1),[o,s]=R.useState(""),[r,l]=R.useState(null),[a,u]=R.useState(null),d="CWSPA";R.useEffect(()=>{const w=he("customWellnessProgramsData",bi);try{l(structuredClone(w))}catch(S){console.error("Deep copy failed, falling back to default",S),l(structuredClone(bi))}},[]);const h=()=>{o.trim()===d?i(!0):(e("Password errata","error"),s(""))},m=(w,S,_,y)=>{if(r)try{const C=structuredClone(r);C[w][S][_].points=y,l(C)}catch(C){console.error("Error updating points",C)}},g=(w,S)=>{if(r)try{const _=structuredClone(r);_[w].unlocksAt=S,l(_)}catch(_){console.error("Error updating threshold",_)}},x=()=>{if(r)try{localStorage.setItem("customWellnessProgramsData",JSON.stringify(r)),e("Impostazioni salvate con successo!","success"),t()}catch(w){console.error("Save failed",w),e("Errore nel salvataggio delle impostazioni.","error")}},v=()=>{if(window.confirm("Sei sicuro di voler ripristinare tutte le impostazioni ai valori predefiniti? Le modifiche andranno perse."))try{const w=structuredClone(bi);l(w),localStorage.setItem("customWellnessProgramsData",JSON.stringify(w)),e("Impostazioni ripristinate ai valori predefiniti.","success"),t()}catch(w){console.error("Reset failed",w),e("Errore nel ripristino delle impostazioni.","error")}};return n?r?p.jsxs("div",{className:"p-4 md:p-8 animate-fade-in",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center mb-8 gap-4",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-4xl font-bold text-slate-800",children:"Impostazioni Punteggi e Soglie"}),p.jsx("p",{className:"text-xl text-slate-600",children:"Modifica i punti per ogni missione e le soglie per sbloccare i livelli."})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:v,className:"px-4 py-2 bg-slate-200 text-slate-800 font-semibold rounded-lg hover:bg-slate-300 transition-colors",children:"Ripristina"}),p.jsx("button",{onClick:x,className:"px-6 py-2 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 transition-colors shadow-md",children:"Salva Modifiche"})]})]}),p.jsx("div",{className:"space-y-4",children:Object.values(r).map(w=>{var S,_;return p.jsxs("div",{className:"bg-white rounded-xl shadow-lg",children:[p.jsxs("button",{className:"w-full text-left p-4 flex justify-between items-center",onClick:()=>u(a===w.id?null:w.id),children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("span",{className:"text-3xl",children:w.Icon}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold text-slate-800",children:w.name}),p.jsx("p",{className:"text-slate-500",children:w.subtitle})]})]}),p.jsx(Ux,{className:`w-6 h-6 text-slate-500 transition-transform ${a===w.id?"rotate-180":""}`})]}),a===w.id&&p.jsxs("div",{className:"p-4 border-t border-slate-200",children:[typeof w.unlocksAt=="number"&&p.jsxs("div",{className:"mb-6 bg-sky-50 p-4 rounded-lg",children:[p.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Impostazioni Livello"}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("label",{htmlFor:`threshold-${w.id}`,className:"font-semibold text-slate-700",children:"Punti necessari per sbloccare:"}),p.jsx("input",{id:`threshold-${w.id}`,type:"number",value:w.unlocksAt,onChange:y=>g(w.id,parseInt(y.target.value,10)||0),className:"w-24 p-1 text-center border border-slate-300 rounded-md"})]})]}),w.daily&&w.daily.length>0&&p.jsx("h4",{className:"font-bold text-slate-700 mb-2 mt-2",children:"Missioni Giornaliere"}),p.jsx("div",{className:"space-y-2",children:(S=w.daily)==null?void 0:S.map((y,C)=>p.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded-md",children:[p.jsxs("p",{className:"text-slate-700",children:[y.Icon," ",y.title]}),p.jsx("input",{type:"number",value:y.points,onChange:T=>m(w.id,"daily",C,parseInt(T.target.value,10)||0),className:"w-20 p-1 text-center border border-slate-300 rounded-md"})]},y.id))}),w.weekly&&w.weekly.length>0&&p.jsx("h4",{className:"font-bold text-slate-700 mb-2 mt-4",children:"Missioni Settimanali"}),p.jsx("div",{className:"space-y-2",children:(_=w.weekly)==null?void 0:_.map((y,C)=>p.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded-md",children:[p.jsxs("p",{className:"text-slate-700",children:[y.Icon," ",y.title]}),p.jsx("input",{type:"number",value:y.points,onChange:T=>m(w.id,"weekly",C,parseInt(T.target.value,10)||0),className:"w-20 p-1 text-center border border-slate-300 rounded-md"})]},y.id))})]})]},w.id)})})]}):null:p.jsx("div",{className:"flex items-center justify-center min-h-screen bg-slate-100",children:p.jsxs("div",{className:"w-full max-w-sm p-8 bg-white rounded-2xl shadow-xl",children:[p.jsxs("div",{className:"text-center mb-6",children:[p.jsx(Yc,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),p.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Area Riservata"}),p.jsx("p",{className:"text-slate-500",children:"Inserisci la password per continuare"})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("input",{type:"password",value:o,onChange:w=>s(w.target.value),onKeyPress:w=>w.key==="Enter"&&h(),className:"w-full px-4 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-sky-500",placeholder:"Password"}),p.jsx("button",{onClick:h,className:"w-full px-4 py-3 bg-sky-600 text-white font-bold rounded-lg hover:bg-sky-700 transition-colors",children:"Accedi"})]})]})})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let qk,Gk;function $k(){return{geminiUrl:qk,vertexUrl:Gk}}function Wk(t,e,n,i){var o,s;if(!(t!=null&&t.baseUrl)){const r=$k();return e?(o=r.vertexUrl)!==null&&o!==void 0?o:n:(s=r.geminiUrl)!==null&&s!==void 0?s:i}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xt{}function z(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const s=e[o];return s!=null?String(s):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function f(t,e,n){for(let s=0;s<e.length-1;s++){const r=e[s];if(r.endsWith("[]")){const l=r.slice(0,-2);if(!(l in t))if(Array.isArray(n))t[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${r}`);if(Array.isArray(t[l])){const a=t[l];if(Array.isArray(n))for(let u=0;u<a.length;u++){const d=a[u];f(d,e.slice(s+1),n[u])}else for(const u of a)f(u,e.slice(s+1),n)}return}else if(r.endsWith("[0]")){const l=r.slice(0,-3);l in t||(t[l]=[{}]);const a=t[l];f(a[0],e.slice(s+1),n);return}(!t[r]||typeof t[r]!="object")&&(t[r]={}),t=t[r]}const i=e[e.length-1],o=t[i];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[i]=n}function c(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return n;const o=e[i];if(o.endsWith("[]")){const s=o.slice(0,-2);if(s in t){const r=t[s];return Array.isArray(r)?r.map(l=>c(l,e.slice(i+1),n)):n}else return n}else t=t[o]}return t}catch(i){if(i instanceof TypeError)return n;throw i}}function jk(t,e){for(const[n,i]of Object.entries(e)){const o=n.split("."),s=i.split("."),r=new Set;let l=-1;for(let a=0;a<o.length;a++)if(o[a]==="*"){l=a;break}if(l!==-1&&s.length>l)for(let a=l;a<s.length;a++){const u=s[a];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&r.add(u)}wu(t,o,s,0,r)}}function wu(t,e,n,i,o){if(i>=e.length||typeof t!="object"||t===null)return;const s=e[i];if(s.endsWith("[]")){const r=s.slice(0,-2),l=t;if(r in l&&Array.isArray(l[r]))for(const a of l[r])wu(a,e,n,i+1,o)}else if(s==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const r=t,l=Object.keys(r).filter(u=>!u.startsWith("_")&&!o.has(u)),a={};for(const u of l)a[u]=r[u];for(const[u,d]of Object.entries(a)){const h=[];for(const m of n.slice(i))m==="*"?h.push(u):h.push(m);f(r,h,d)}for(const u of l)delete r[u]}}else{const r=t;s in r&&wu(r[s],e,n,i+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xc(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jk(t){const e={},n=c(t,["operationName"]);n!=null&&f(e,["operationName"],n);const i=c(t,["resourceName"]);return i!=null&&f(e,["_url","resourceName"],i),e}function Yk(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["metadata"]);i!=null&&f(e,["metadata"],i);const o=c(t,["done"]);o!=null&&f(e,["done"],o);const s=c(t,["error"]);s!=null&&f(e,["error"],s);const r=c(t,["response","generateVideoResponse"]);return r!=null&&f(e,["response"],Qk(r)),e}function Kk(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["metadata"]);i!=null&&f(e,["metadata"],i);const o=c(t,["done"]);o!=null&&f(e,["done"],o);const s=c(t,["error"]);s!=null&&f(e,["error"],s);const r=c(t,["response"]);return r!=null&&f(e,["response"],Xk(r)),e}function Qk(t){const e={},n=c(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(r=>Zk(r))),f(e,["generatedVideos"],s)}const i=c(t,["raiMediaFilteredCount"]);i!=null&&f(e,["raiMediaFilteredCount"],i);const o=c(t,["raiMediaFilteredReasons"]);return o!=null&&f(e,["raiMediaFilteredReasons"],o),e}function Xk(t){const e={},n=c(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(r=>eE(r))),f(e,["generatedVideos"],s)}const i=c(t,["raiMediaFilteredCount"]);i!=null&&f(e,["raiMediaFilteredCount"],i);const o=c(t,["raiMediaFilteredReasons"]);return o!=null&&f(e,["raiMediaFilteredReasons"],o),e}function Zk(t){const e={},n=c(t,["video"]);return n!=null&&f(e,["video"],rE(n)),e}function eE(t){const e={},n=c(t,["_self"]);return n!=null&&f(e,["video"],lE(n)),e}function tE(t){const e={},n=c(t,["operationName"]);return n!=null&&f(e,["_url","operationName"],n),e}function nE(t){const e={},n=c(t,["operationName"]);return n!=null&&f(e,["_url","operationName"],n),e}function iE(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["metadata"]);i!=null&&f(e,["metadata"],i);const o=c(t,["done"]);o!=null&&f(e,["done"],o);const s=c(t,["error"]);s!=null&&f(e,["error"],s);const r=c(t,["response"]);return r!=null&&f(e,["response"],oE(r)),e}function oE(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["parent"]);i!=null&&f(e,["parent"],i);const o=c(t,["documentName"]);return o!=null&&f(e,["documentName"],o),e}function qx(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["metadata"]);i!=null&&f(e,["metadata"],i);const o=c(t,["done"]);o!=null&&f(e,["done"],o);const s=c(t,["error"]);s!=null&&f(e,["error"],s);const r=c(t,["response"]);return r!=null&&f(e,["response"],sE(r)),e}function sE(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["parent"]);i!=null&&f(e,["parent"],i);const o=c(t,["documentName"]);return o!=null&&f(e,["documentName"],o),e}function rE(t){const e={},n=c(t,["uri"]);n!=null&&f(e,["uri"],n);const i=c(t,["encodedVideo"]);i!=null&&f(e,["videoBytes"],Xc(i));const o=c(t,["encoding"]);return o!=null&&f(e,["mimeType"],o),e}function lE(t){const e={},n=c(t,["gcsUri"]);n!=null&&f(e,["uri"],n);const i=c(t,["bytesBase64Encoded"]);i!=null&&f(e,["videoBytes"],Xc(i));const o=c(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Op;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Op||(Op={}));var qp;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(qp||(qp={}));var Gp;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Gp||(Gp={}));var pn;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(pn||(pn={}));var $p;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})($p||($p={}));var Wp;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Wp||(Wp={}));var jp;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(jp||(jp={}));var Jp;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Jp||(Jp={}));var Yp;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Yp||(Yp={}));var Kp;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(Kp||(Kp={}));var Qp;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Qp||(Qp={}));var Xp;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Xp||(Xp={}));var Zp;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Zp||(Zp={}));var eh;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(eh||(eh={}));var th;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(th||(th={}));var nh;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(nh||(nh={}));var ih;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(ih||(ih={}));var oh;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(oh||(oh={}));var sh;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(sh||(sh={}));var Xr;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Xr||(Xr={}));var rh;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(rh||(rh={}));var lh;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(lh||(lh={}));var ah;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(ah||(ah={}));var Cu;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Cu||(Cu={}));var uh;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(uh||(uh={}));var ch;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ch||(ch={}));var dh;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(dh||(dh={}));var fh;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(fh||(fh={}));var ph;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(ph||(ph={}));var hh;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(hh||(hh={}));var mh;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(mh||(mh={}));var gh;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(gh||(gh={}));var xh;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(xh||(xh={}));var vh;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(vh||(vh={}));var yh;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(yh||(yh={}));var _h;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(_h||(_h={}));var Sh;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Sh||(Sh={}));var wh;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(wh||(wh={}));var Ch;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Ch||(Ch={}));var Th;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Th||(Th={}));var kh;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(kh||(kh={}));var Eh;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Eh||(Eh={}));var Ih;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Ih||(Ih={}));var bh;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(bh||(bh={}));var Ah;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Ah||(Ah={}));var Nh;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Nh||(Nh={}));var Ph;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Ph||(Ph={}));var Mh;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Mh||(Mh={}));var Rh;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Rh||(Rh={}));var Dh;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Dh||(Dh={}));var Lh;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Lh||(Lh={}));var zh;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(zh||(zh={}));var Fh;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Fh||(Fh={}));var Uh;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Uh||(Uh={}));var Si;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Si||(Si={}));class Tu{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class xo{get text(){var e,n,i,o,s,r,l,a;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1;const h=[];for(const m of(a=(l=(r=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[g,x]of Object.entries(m))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(x!==null||x!==void 0)&&h.push(g);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;d=!0,u+=m.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var e,n,i,o,s,r,l,a;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const d=[];for(const h of(a=(l=(r=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[m,g]of Object.entries(h))m!=="inlineData"&&(g!==null||g!==void 0)&&d.push(m);h.inlineData&&typeof h.inlineData.data=="string"&&(u+=atob(h.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,i,o,s,r,l,a;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(a=(l=(r=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,i,o,s,r,l,a,u;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(a=(l=(r=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,i,o,s,r,l,a,u;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(a=(l=(r=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.output}}class Bh{}class Vh{}class aE{}class uE{}class cE{}class dE{}class Hh{}class Oh{}class qh{}class fE{}class Zr{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Zr;let o;const s=e;return n?o=Kk(s):o=Yk(s),Object.assign(i,o),i}}class Gh{}class $h{}class Wh{}class pE{}class hE{}class mE{}class Zc{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Zc,s=iE(e);return Object.assign(i,s),i}}class gE{}class xE{}class vE{}class jh{}class yE{get text(){var e,n,i;let o="",s=!1;const r=[];for(const l of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[a,u]of Object.entries(l))a!=="text"&&a!=="thought"&&u!==null&&r.push(a);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;s=!0,o+=l.text}}return r.length>0&&console.warn(`there are non-text parts ${r} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?o:void 0}get data(){var e,n,i;let o="";const s=[];for(const r of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[l,a]of Object.entries(r))l!=="inlineData"&&a!==null&&s.push(l);r.inlineData&&typeof r.inlineData.data=="string"&&(o+=atob(r.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class _E{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class ed{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new ed,s=qx(e);return Object.assign(i,s),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function J(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Gx(t,e){const n=J(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function $x(t){return Array.isArray(t)?t.map(e=>el(e)):[el(t)]}function el(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Wx(t){const e=el(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function jx(t){const e=el(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Jh(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Jx(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Jh(e)):[Jh(t)]}function ku(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Yh(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Kh(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ne(t){if(t==null)throw new Error("ContentUnion is required");return ku(t)?t:{role:"user",parts:Jx(t)}}function td(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=Ne(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=Ne(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Ne(n)):[Ne(e)]}function ct(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Yh(t)||Kh(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ne(t)]}const e=[],n=[],i=ku(t[0]);for(const o of t){const s=ku(o);if(s!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(o);else{if(Yh(o)||Kh(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return i||e.push({role:"user",parts:Jx(n)}),e}function SE(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(pn).includes(n[0].toUpperCase())?n[0].toUpperCase():pn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(pn).includes(i.toUpperCase())?i.toUpperCase():pn.TYPE_UNSPECIFIED})}}function Pi(t){const e={},n=["items"],i=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&SE(t.type,e);for(const[r,l]of Object.entries(t))if(l!=null)if(r=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values(pn).includes(l.toUpperCase())?l.toUpperCase():pn.TYPE_UNSPECIFIED}else if(n.includes(r))e[r]=Pi(l);else if(i.includes(r)){const a=[];for(const u of l){if(u.type=="null"){e.nullable=!0;continue}a.push(Pi(u))}e[r]=a}else if(o.includes(r)){const a={};for(const[u,d]of Object.entries(l))a[u]=Pi(d);e[r]=a}else{if(r==="additionalProperties")continue;e[r]=l}return e}function nd(t){return Pi(t)}function id(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function od(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Ki(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Pi(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Pi(e.response));return t}function Qi(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function wE(t,e,n,i=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function Zt(t,e){if(typeof e!="string")throw new Error("name must be a string");return wE(t,e,"cachedContents")}function Yx(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Mn(t){return Xc(t)}function CE(t){return t!=null&&typeof t=="object"&&"name"in t}function TE(t){return t!=null&&typeof t=="object"&&"video"in t}function kE(t){return t!=null&&typeof t=="object"&&"uri"in t}function Kx(t){var e;let n;if(CE(t)&&(n=t.name),!(kE(t)&&(n=t.uri,n===void 0))&&!(TE(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Qx(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Xx(t){for(const e of["models","tunedModels","publisherModels"])if(EE(t,e))return t[e];return[]}function EE(t,e){return t!==null&&typeof t=="object"&&e in t}function IE(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function bE(t,e={}){const n=[],i=new Set;for(const o of t){const s=o.name;if(i.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);i.add(s);const r=IE(o,e);r.functionDeclarations&&n.push(...r.functionDeclarations)}return{functionDeclarations:n}}function Zx(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(o>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function AE(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function ev(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return t;let s=!1;for(const r of o){if(typeof r!="object"||r===null)continue;const a=r.response;if(typeof a!="object"||a===null)continue;if(a.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Xi(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function tv(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NE(t){const e={},n=c(t,["responsesFile"]);n!=null&&f(e,["fileName"],n);const i=c(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(r=>cI(r))),f(e,["inlinedResponses"],s)}const o=c(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),f(e,["inlinedEmbedContentResponses"],s)}return e}function PE(t){const e={},n=c(t,["predictionsFormat"]);n!=null&&f(e,["format"],n);const i=c(t,["gcsDestination","outputUriPrefix"]);i!=null&&f(e,["gcsUri"],i);const o=c(t,["bigqueryDestination","outputUri"]);return o!=null&&f(e,["bigqueryUri"],o),e}function ME(t){const e={},n=c(t,["format"]);n!=null&&f(e,["predictionsFormat"],n);const i=c(t,["gcsUri"]);i!=null&&f(e,["gcsDestination","outputUriPrefix"],i);const o=c(t,["bigqueryUri"]);if(o!=null&&f(e,["bigqueryDestination","outputUri"],o),c(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function fr(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["metadata","displayName"]);i!=null&&f(e,["displayName"],i);const o=c(t,["metadata","state"]);o!=null&&f(e,["state"],tv(o));const s=c(t,["metadata","createTime"]);s!=null&&f(e,["createTime"],s);const r=c(t,["metadata","endTime"]);r!=null&&f(e,["endTime"],r);const l=c(t,["metadata","updateTime"]);l!=null&&f(e,["updateTime"],l);const a=c(t,["metadata","model"]);a!=null&&f(e,["model"],a);const u=c(t,["metadata","output"]);return u!=null&&f(e,["dest"],NE(ev(u))),e}function Eu(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["displayName"]);i!=null&&f(e,["displayName"],i);const o=c(t,["state"]);o!=null&&f(e,["state"],tv(o));const s=c(t,["error"]);s!=null&&f(e,["error"],s);const r=c(t,["createTime"]);r!=null&&f(e,["createTime"],r);const l=c(t,["startTime"]);l!=null&&f(e,["startTime"],l);const a=c(t,["endTime"]);a!=null&&f(e,["endTime"],a);const u=c(t,["updateTime"]);u!=null&&f(e,["updateTime"],u);const d=c(t,["model"]);d!=null&&f(e,["model"],d);const h=c(t,["inputConfig"]);h!=null&&f(e,["src"],RE(h));const m=c(t,["outputConfig"]);m!=null&&f(e,["dest"],PE(ev(m)));const g=c(t,["completionStats"]);return g!=null&&f(e,["completionStats"],g),e}function RE(t){const e={},n=c(t,["instancesFormat"]);n!=null&&f(e,["format"],n);const i=c(t,["gcsSource","uris"]);i!=null&&f(e,["gcsUri"],i);const o=c(t,["bigquerySource","inputUri"]);return o!=null&&f(e,["bigqueryUri"],o),e}function DE(t,e){const n={};if(c(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=c(e,["fileName"]);i!=null&&f(n,["fileName"],i);const o=c(e,["inlinedRequests"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>uI(t,r))),f(n,["requests","requests"],s)}return n}function LE(t){const e={},n=c(t,["format"]);n!=null&&f(e,["instancesFormat"],n);const i=c(t,["gcsUri"]);i!=null&&f(e,["gcsSource","uris"],i);const o=c(t,["bigqueryUri"]);if(o!=null&&f(e,["bigquerySource","inputUri"],o),c(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function zE(t){const e={},n=c(t,["data"]);if(n!=null&&f(e,["data"],n),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function FE(t,e){const n={},i=c(e,["name"]);return i!=null&&f(n,["_url","name"],Xi(t,i)),n}function UE(t,e){const n={},i=c(e,["name"]);return i!=null&&f(n,["_url","name"],Xi(t,i)),n}function BE(t){const e={},n=c(t,["content"]);n!=null&&f(e,["content"],n);const i=c(t,["citationMetadata"]);i!=null&&f(e,["citationMetadata"],VE(i));const o=c(t,["tokenCount"]);o!=null&&f(e,["tokenCount"],o);const s=c(t,["finishReason"]);s!=null&&f(e,["finishReason"],s);const r=c(t,["avgLogprobs"]);r!=null&&f(e,["avgLogprobs"],r);const l=c(t,["groundingMetadata"]);l!=null&&f(e,["groundingMetadata"],l);const a=c(t,["index"]);a!=null&&f(e,["index"],a);const u=c(t,["logprobsResult"]);u!=null&&f(e,["logprobsResult"],u);const d=c(t,["safetyRatings"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>g)),f(e,["safetyRatings"],m)}const h=c(t,["urlContextMetadata"]);return h!=null&&f(e,["urlContextMetadata"],h),e}function VE(t){const e={},n=c(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),f(e,["citations"],i)}return e}function nv(t){const e={},n=c(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>xI(s))),f(e,["parts"],o)}const i=c(t,["role"]);return i!=null&&f(e,["role"],i),e}function HE(t,e){const n={},i=c(t,["displayName"]);if(e!==void 0&&i!=null&&f(e,["batch","displayName"],i),c(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function OE(t,e){const n={},i=c(t,["displayName"]);e!==void 0&&i!=null&&f(e,["displayName"],i);const o=c(t,["dest"]);return e!==void 0&&o!=null&&f(e,["outputConfig"],ME(AE(o))),n}function Qh(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],J(t,i));const o=c(e,["src"]);o!=null&&f(n,["batch","inputConfig"],DE(t,Zx(t,o)));const s=c(e,["config"]);return s!=null&&HE(s,n),n}function qE(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["model"],J(t,i));const o=c(e,["src"]);o!=null&&f(n,["inputConfig"],LE(Zx(t,o)));const s=c(e,["config"]);return s!=null&&OE(s,n),n}function GE(t,e){const n={},i=c(t,["displayName"]);return e!==void 0&&i!=null&&f(e,["batch","displayName"],i),n}function $E(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],J(t,i));const o=c(e,["src"]);o!=null&&f(n,["batch","inputConfig"],XE(t,o));const s=c(e,["config"]);return s!=null&&GE(s,n),n}function WE(t,e){const n={},i=c(e,["name"]);return i!=null&&f(n,["_url","name"],Xi(t,i)),n}function jE(t,e){const n={},i=c(e,["name"]);return i!=null&&f(n,["_url","name"],Xi(t,i)),n}function JE(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["name"]);i!=null&&f(e,["name"],i);const o=c(t,["done"]);o!=null&&f(e,["done"],o);const s=c(t,["error"]);return s!=null&&f(e,["error"],s),e}function YE(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["name"]);i!=null&&f(e,["name"],i);const o=c(t,["done"]);o!=null&&f(e,["done"],o);const s=c(t,["error"]);return s!=null&&f(e,["error"],s),e}function KE(t,e){const n={},i=c(e,["contents"]);if(i!=null){let s=td(t,i);Array.isArray(s)&&(s=s.map(r=>r)),f(n,["requests[]","request","content"],s)}const o=c(e,["config"]);return o!=null&&(f(n,["_self"],QE(o,n)),jk(n,{"requests[].*":"requests[].request.*"})),n}function QE(t,e){const n={},i=c(t,["taskType"]);e!==void 0&&i!=null&&f(e,["requests[]","taskType"],i);const o=c(t,["title"]);e!==void 0&&o!=null&&f(e,["requests[]","title"],o);const s=c(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&f(e,["requests[]","outputDimensionality"],s),c(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function XE(t,e){const n={},i=c(e,["fileName"]);i!=null&&f(n,["file_name"],i);const o=c(e,["inlinedRequests"]);return o!=null&&f(n,["requests"],KE(t,o)),n}function ZE(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function eI(t){const e={},n=c(t,["id"]);n!=null&&f(e,["id"],n);const i=c(t,["args"]);i!=null&&f(e,["args"],i);const o=c(t,["name"]);if(o!=null&&f(e,["name"],o),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function tI(t){const e={},n=c(t,["mode"]);n!=null&&f(e,["mode"],n);const i=c(t,["allowedFunctionNames"]);if(i!=null&&f(e,["allowedFunctionNames"],i),c(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function nI(t,e,n){const i={},o=c(e,["systemInstruction"]);n!==void 0&&o!=null&&f(n,["systemInstruction"],nv(Ne(o)));const s=c(e,["temperature"]);s!=null&&f(i,["temperature"],s);const r=c(e,["topP"]);r!=null&&f(i,["topP"],r);const l=c(e,["topK"]);l!=null&&f(i,["topK"],l);const a=c(e,["candidateCount"]);a!=null&&f(i,["candidateCount"],a);const u=c(e,["maxOutputTokens"]);u!=null&&f(i,["maxOutputTokens"],u);const d=c(e,["stopSequences"]);d!=null&&f(i,["stopSequences"],d);const h=c(e,["responseLogprobs"]);h!=null&&f(i,["responseLogprobs"],h);const m=c(e,["logprobs"]);m!=null&&f(i,["logprobs"],m);const g=c(e,["presencePenalty"]);g!=null&&f(i,["presencePenalty"],g);const x=c(e,["frequencyPenalty"]);x!=null&&f(i,["frequencyPenalty"],x);const v=c(e,["seed"]);v!=null&&f(i,["seed"],v);const w=c(e,["responseMimeType"]);w!=null&&f(i,["responseMimeType"],w);const S=c(e,["responseSchema"]);S!=null&&f(i,["responseSchema"],nd(S));const _=c(e,["responseJsonSchema"]);if(_!=null&&f(i,["responseJsonSchema"],_),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const y=c(e,["safetySettings"]);if(n!==void 0&&y!=null){let P=y;Array.isArray(P)&&(P=P.map(D=>vI(D))),f(n,["safetySettings"],P)}const C=c(e,["tools"]);if(n!==void 0&&C!=null){let P=Qi(C);Array.isArray(P)&&(P=P.map(D=>_I(Ki(D)))),f(n,["tools"],P)}const T=c(e,["toolConfig"]);if(n!==void 0&&T!=null&&f(n,["toolConfig"],yI(T)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=c(e,["cachedContent"]);n!==void 0&&k!=null&&f(n,["cachedContent"],Zt(t,k));const I=c(e,["responseModalities"]);I!=null&&f(i,["responseModalities"],I);const b=c(e,["mediaResolution"]);b!=null&&f(i,["mediaResolution"],b);const N=c(e,["speechConfig"]);if(N!=null&&f(i,["speechConfig"],id(N)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const A=c(e,["thinkingConfig"]);A!=null&&f(i,["thinkingConfig"],A);const E=c(e,["imageConfig"]);return E!=null&&f(i,["imageConfig"],aI(E)),i}function iI(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["candidates"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>BE(u))),f(e,["candidates"],a)}const o=c(t,["modelVersion"]);o!=null&&f(e,["modelVersion"],o);const s=c(t,["promptFeedback"]);s!=null&&f(e,["promptFeedback"],s);const r=c(t,["responseId"]);r!=null&&f(e,["responseId"],r);const l=c(t,["usageMetadata"]);return l!=null&&f(e,["usageMetadata"],l),e}function oI(t,e){const n={},i=c(e,["name"]);return i!=null&&f(n,["_url","name"],Xi(t,i)),n}function sI(t,e){const n={},i=c(e,["name"]);return i!=null&&f(n,["_url","name"],Xi(t,i)),n}function rI(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(t,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function lI(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function aI(t){const e={},n=c(t,["aspectRatio"]);n!=null&&f(e,["aspectRatio"],n);const i=c(t,["imageSize"]);if(i!=null&&f(e,["imageSize"],i),c(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function uI(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["request","model"],J(t,i));const o=c(e,["contents"]);if(o!=null){let l=ct(o);Array.isArray(l)&&(l=l.map(a=>nv(a))),f(n,["request","contents"],l)}const s=c(e,["metadata"]);s!=null&&f(n,["metadata"],s);const r=c(e,["config"]);return r!=null&&f(n,["request","generationConfig"],nI(t,r,c(n,["request"],{}))),n}function cI(t){const e={},n=c(t,["response"]);n!=null&&f(e,["response"],iI(n));const i=c(t,["error"]);return i!=null&&f(e,["error"],i),e}function dI(t,e){const n={},i=c(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const o=c(t,["pageToken"]);if(e!==void 0&&o!=null&&f(e,["_query","pageToken"],o),c(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function fI(t,e){const n={},i=c(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const o=c(t,["pageToken"]);e!==void 0&&o!=null&&f(e,["_query","pageToken"],o);const s=c(t,["filter"]);return e!==void 0&&s!=null&&f(e,["_query","filter"],s),n}function pI(t){const e={},n=c(t,["config"]);return n!=null&&dI(n,e),e}function hI(t){const e={},n=c(t,["config"]);return n!=null&&fI(n,e),e}function mI(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const o=c(t,["operations"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>fr(r))),f(e,["batchJobs"],s)}return e}function gI(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const o=c(t,["batchPredictionJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>Eu(r))),f(e,["batchJobs"],s)}return e}function xI(t){const e={},n=c(t,["mediaResolution"]);n!=null&&f(e,["mediaResolution"],n);const i=c(t,["codeExecutionResult"]);i!=null&&f(e,["codeExecutionResult"],i);const o=c(t,["executableCode"]);o!=null&&f(e,["executableCode"],o);const s=c(t,["fileData"]);s!=null&&f(e,["fileData"],ZE(s));const r=c(t,["functionCall"]);r!=null&&f(e,["functionCall"],eI(r));const l=c(t,["functionResponse"]);l!=null&&f(e,["functionResponse"],l);const a=c(t,["inlineData"]);a!=null&&f(e,["inlineData"],zE(a));const u=c(t,["text"]);u!=null&&f(e,["text"],u);const d=c(t,["thought"]);d!=null&&f(e,["thought"],d);const h=c(t,["thoughtSignature"]);h!=null&&f(e,["thoughtSignature"],h);const m=c(t,["videoMetadata"]);return m!=null&&f(e,["videoMetadata"],m),e}function vI(t){const e={},n=c(t,["category"]);if(n!=null&&f(e,["category"],n),c(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=c(t,["threshold"]);return i!=null&&f(e,["threshold"],i),e}function yI(t){const e={},n=c(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],tI(n));const i=c(t,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],i),e}function _I(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),f(e,["functionDeclarations"],d)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(t,["googleSearchRetrieval"]);i!=null&&f(e,["googleSearchRetrieval"],i);const o=c(t,["computerUse"]);o!=null&&f(e,["computerUse"],o);const s=c(t,["fileSearch"]);s!=null&&f(e,["fileSearch"],s);const r=c(t,["codeExecution"]);if(r!=null&&f(e,["codeExecution"],r),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=c(t,["googleMaps"]);l!=null&&f(e,["googleMaps"],rI(l));const a=c(t,["googleSearch"]);a!=null&&f(e,["googleSearch"],lI(a));const u=c(t,["urlContext"]);return u!=null&&f(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Yt;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Yt||(Yt={}));class si{constructor(e,n,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,o)}init(e,n,i){var o,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let r={config:{}};!i||Object.keys(i).length===0?r={config:{}}:typeof i=="object"?r=Object.assign({},i):r=i,r.config&&(r.config.pageToken=n.nextPageToken),this.paramsInternal=r,this.pageInternalSize=(s=(o=r.config)===null||o===void 0?void 0:o.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SI extends Xt{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new si(Yt.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=Qh(this.apiClient,e),i=n._url,o=z("{model}:batchGenerateContent",i),l=n.batch.inputConfig.requests,a=l.requests,u=[];for(const d of a){const h=Object.assign({},d);if(h.systemInstruction){const m=h.systemInstruction;delete h.systemInstruction;const g=h.request;g.systemInstruction=m,h.request=g}u.push(h)}return l.requests=u,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const i=n?Object.assign({},n):{},o=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${o}`),i.dest===void 0){const s=this.getGcsUri(e),r=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?i.dest=`${s.slice(0,-6)}/dest`:i.dest=`${s}_dest_${o}`;else if(r)i.dest=`${r}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=qE(this.apiClient,e);return l=z("batchPredictionJobs",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>Eu(d))}else{const u=Qh(this.apiClient,e);return l=z("{model}:batchGenerateContent",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>fr(d))}}async createEmbeddingsInternal(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=$E(this.apiClient,e);return s=z("{model}:asyncBatchEmbedContent",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json()),o.then(a=>fr(a))}}async get(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=sI(this.apiClient,e);return l=z("batchPredictionJobs/{name}",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>Eu(d))}else{const u=oI(this.apiClient,e);return l=z("batches/{name}",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>fr(d))}}async cancel(e){var n,i,o,s;let r="",l={};if(this.apiClient.isVertexAI()){const a=UE(this.apiClient,e);r=z("batchPredictionJobs/{name}:cancel",a._url),l=a._query,delete a._url,delete a._query,await this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const a=FE(this.apiClient,e);r=z("batches/{name}:cancel",a._url),l=a._query,delete a._url,delete a._query,await this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=hI(e);return l=z("batchPredictionJobs",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=gI(d),m=new jh;return Object.assign(m,h),m})}else{const u=pI(e);return l=z("batches",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=mI(d),m=new jh;return Object.assign(m,h),m})}}async delete(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=jE(this.apiClient,e);return l=z("batchPredictionJobs/{name}",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>YE(d))}else{const u=WE(this.apiClient,e);return l=z("batches/{name}",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>JE(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wI(t){const e={},n=c(t,["data"]);if(n!=null&&f(e,["data"],n),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function Xh(t){const e={},n=c(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>$I(s))),f(e,["parts"],o)}const i=c(t,["role"]);return i!=null&&f(e,["role"],i),e}function CI(t,e){const n={},i=c(t,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);const o=c(t,["expireTime"]);e!==void 0&&o!=null&&f(e,["expireTime"],o);const s=c(t,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const r=c(t,["contents"]);if(e!==void 0&&r!=null){let d=ct(r);Array.isArray(d)&&(d=d.map(h=>Xh(h))),f(e,["contents"],d)}const l=c(t,["systemInstruction"]);e!==void 0&&l!=null&&f(e,["systemInstruction"],Xh(Ne(l)));const a=c(t,["tools"]);if(e!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>jI(h))),f(e,["tools"],d)}const u=c(t,["toolConfig"]);if(e!==void 0&&u!=null&&f(e,["toolConfig"],WI(u)),c(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function TI(t,e){const n={},i=c(t,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);const o=c(t,["expireTime"]);e!==void 0&&o!=null&&f(e,["expireTime"],o);const s=c(t,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const r=c(t,["contents"]);if(e!==void 0&&r!=null){let h=ct(r);Array.isArray(h)&&(h=h.map(m=>m)),f(e,["contents"],h)}const l=c(t,["systemInstruction"]);e!==void 0&&l!=null&&f(e,["systemInstruction"],Ne(l));const a=c(t,["tools"]);if(e!==void 0&&a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>JI(m))),f(e,["tools"],h)}const u=c(t,["toolConfig"]);e!==void 0&&u!=null&&f(e,["toolConfig"],u);const d=c(t,["kmsKeyName"]);return e!==void 0&&d!=null&&f(e,["encryption_spec","kmsKeyName"],d),n}function kI(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["model"],Gx(t,i));const o=c(e,["config"]);return o!=null&&CI(o,n),n}function EI(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["model"],Gx(t,i));const o=c(e,["config"]);return o!=null&&TI(o,n),n}function II(t,e){const n={},i=c(e,["name"]);return i!=null&&f(n,["_url","name"],Zt(t,i)),n}function bI(t,e){const n={},i=c(e,["name"]);return i!=null&&f(n,["_url","name"],Zt(t,i)),n}function AI(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function NI(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function PI(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function MI(t){const e={},n=c(t,["id"]);n!=null&&f(e,["id"],n);const i=c(t,["args"]);i!=null&&f(e,["args"],i);const o=c(t,["name"]);if(o!=null&&f(e,["name"],o),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function RI(t){const e={},n=c(t,["mode"]);n!=null&&f(e,["mode"],n);const i=c(t,["allowedFunctionNames"]);if(i!=null&&f(e,["allowedFunctionNames"],i),c(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function DI(t){const e={};if(c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(t,["description"]);n!=null&&f(e,["description"],n);const i=c(t,["name"]);i!=null&&f(e,["name"],i);const o=c(t,["parameters"]);o!=null&&f(e,["parameters"],o);const s=c(t,["parametersJsonSchema"]);s!=null&&f(e,["parametersJsonSchema"],s);const r=c(t,["response"]);r!=null&&f(e,["response"],r);const l=c(t,["responseJsonSchema"]);return l!=null&&f(e,["responseJsonSchema"],l),e}function LI(t,e){const n={},i=c(e,["name"]);return i!=null&&f(n,["_url","name"],Zt(t,i)),n}function zI(t,e){const n={},i=c(e,["name"]);return i!=null&&f(n,["_url","name"],Zt(t,i)),n}function FI(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(t,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function UI(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function BI(t,e){const n={},i=c(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const o=c(t,["pageToken"]);return e!==void 0&&o!=null&&f(e,["_query","pageToken"],o),n}function VI(t,e){const n={},i=c(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const o=c(t,["pageToken"]);return e!==void 0&&o!=null&&f(e,["_query","pageToken"],o),n}function HI(t){const e={},n=c(t,["config"]);return n!=null&&BI(n,e),e}function OI(t){const e={},n=c(t,["config"]);return n!=null&&VI(n,e),e}function qI(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const o=c(t,["cachedContents"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),f(e,["cachedContents"],s)}return e}function GI(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const o=c(t,["cachedContents"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),f(e,["cachedContents"],s)}return e}function $I(t){const e={},n=c(t,["mediaResolution"]);n!=null&&f(e,["mediaResolution"],n);const i=c(t,["codeExecutionResult"]);i!=null&&f(e,["codeExecutionResult"],i);const o=c(t,["executableCode"]);o!=null&&f(e,["executableCode"],o);const s=c(t,["fileData"]);s!=null&&f(e,["fileData"],PI(s));const r=c(t,["functionCall"]);r!=null&&f(e,["functionCall"],MI(r));const l=c(t,["functionResponse"]);l!=null&&f(e,["functionResponse"],l);const a=c(t,["inlineData"]);a!=null&&f(e,["inlineData"],wI(a));const u=c(t,["text"]);u!=null&&f(e,["text"],u);const d=c(t,["thought"]);d!=null&&f(e,["thought"],d);const h=c(t,["thoughtSignature"]);h!=null&&f(e,["thoughtSignature"],h);const m=c(t,["videoMetadata"]);return m!=null&&f(e,["videoMetadata"],m),e}function WI(t){const e={},n=c(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],RI(n));const i=c(t,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],i),e}function jI(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),f(e,["functionDeclarations"],d)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(t,["googleSearchRetrieval"]);i!=null&&f(e,["googleSearchRetrieval"],i);const o=c(t,["computerUse"]);o!=null&&f(e,["computerUse"],o);const s=c(t,["fileSearch"]);s!=null&&f(e,["fileSearch"],s);const r=c(t,["codeExecution"]);if(r!=null&&f(e,["codeExecution"],r),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=c(t,["googleMaps"]);l!=null&&f(e,["googleMaps"],FI(l));const a=c(t,["googleSearch"]);a!=null&&f(e,["googleSearch"],UI(a));const u=c(t,["urlContext"]);return u!=null&&f(e,["urlContext"],u),e}function JI(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>DI(m))),f(e,["functionDeclarations"],h)}const i=c(t,["retrieval"]);i!=null&&f(e,["retrieval"],i);const o=c(t,["googleSearchRetrieval"]);o!=null&&f(e,["googleSearchRetrieval"],o);const s=c(t,["computerUse"]);if(s!=null&&f(e,["computerUse"],s),c(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=c(t,["codeExecution"]);r!=null&&f(e,["codeExecution"],r);const l=c(t,["enterpriseWebSearch"]);l!=null&&f(e,["enterpriseWebSearch"],l);const a=c(t,["googleMaps"]);a!=null&&f(e,["googleMaps"],a);const u=c(t,["googleSearch"]);u!=null&&f(e,["googleSearch"],u);const d=c(t,["urlContext"]);return d!=null&&f(e,["urlContext"],d),e}function YI(t,e){const n={},i=c(t,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);const o=c(t,["expireTime"]);return e!==void 0&&o!=null&&f(e,["expireTime"],o),n}function KI(t,e){const n={},i=c(t,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);const o=c(t,["expireTime"]);return e!==void 0&&o!=null&&f(e,["expireTime"],o),n}function QI(t,e){const n={},i=c(e,["name"]);i!=null&&f(n,["_url","name"],Zt(t,i));const o=c(e,["config"]);return o!=null&&YI(o,n),n}function XI(t,e){const n={},i=c(e,["name"]);i!=null&&f(n,["_url","name"],Zt(t,i));const o=c(e,["config"]);return o!=null&&KI(o,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZI extends Xt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new si(Yt.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=EI(this.apiClient,e);return l=z("cachedContents",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>d)}else{const u=kI(this.apiClient,e);return l=z("cachedContents",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async get(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=zI(this.apiClient,e);return l=z("{name}",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>d)}else{const u=LI(this.apiClient,e);return l=z("{name}",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async delete(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=bI(this.apiClient,e);return l=z("{name}",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=NI(d),m=new $h;return Object.assign(m,h),m})}else{const u=II(this.apiClient,e);return l=z("{name}",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=AI(d),m=new $h;return Object.assign(m,h),m})}}async update(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=XI(this.apiClient,e);return l=z("{name}",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>d)}else{const u=QI(this.apiClient,e);return l=z("{name}",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async listInternal(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=OI(e);return l=z("cachedContents",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=GI(d),m=new Wh;return Object.assign(m,h),m})}else{const u=HI(e);return l=z("cachedContents",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=qI(d),m=new Wh;return Object.assign(m,h),m})}}}function Zh(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function oe(t){return this instanceof oe?(this.v=t,this):new oe(t)}function Mi(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),o,s=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",r),o[Symbol.asyncIterator]=function(){return this},o;function r(g){return function(x){return Promise.resolve(x).then(g,h)}}function l(g,x){i[g]&&(o[g]=function(v){return new Promise(function(w,S){s.push([g,v,w,S])>1||a(g,v)})},x&&(o[g]=x(o[g])))}function a(g,x){try{u(i[g](x))}catch(v){m(s[0][3],v)}}function u(g){g.value instanceof oe?Promise.resolve(g.value.v).then(d,h):m(s[0][2],g)}function d(g){a("next",g)}function h(g){a("throw",g)}function m(g,x){g(x),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Oo(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Zh=="function"?Zh(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=t[s]&&function(r){return new Promise(function(l,a){r=t[s](r),o(l,a,r.done,r.value)})}}function o(s,r,l,a){Promise.resolve(a).then(function(u){s({value:u,done:l})},r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function e2(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:iv(n)}function iv(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function t2(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function em(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const o=[];let s=!0;for(;i<n&&t[i].role==="model";)o.push(t[i]),s&&!iv(t[i])&&(s=!1),i++;s?e.push(...o):e.pop()}return e}class n2{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new i2(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class i2{constructor(e,n,i,o={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=o,this.history=s,this.sendPromise=Promise.resolve(),t2(s)}async sendMessage(e){var n;await this.sendPromise;const i=Ne(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,r,l;const a=await o,u=(r=(s=a.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content,d=a.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let m=[];d!=null&&(m=(l=d.slice(h))!==null&&l!==void 0?l:[]);const g=u?[u]:[];this.recordHistory(i,g,m)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const i=Ne(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const s=await o;return this.processStreamResponse(s,i)}getHistory(e=!1){const n=e?em(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,o;return Mi(this,arguments,function*(){var r,l,a,u;const d=[];try{for(var h=!0,m=Oo(e),g;g=yield oe(m.next()),r=g.done,!r;h=!0){u=g.value,h=!1;const x=u;if(e2(x)){const v=(o=(i=x.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content;v!==void 0&&d.push(v)}yield yield oe(x)}}catch(x){l={error:x}}finally{try{!h&&!r&&(a=m.return)&&(yield oe(a.call(m)))}finally{if(l)throw l.error}}this.recordHistory(n,d)})}recordHistory(e,n,i){let o=[];n.length>0&&n.every(s=>s.role!==void 0)?o=n:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...em(i)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Il extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Il.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function o2(t){const e={},n=c(t,["file"]);return n!=null&&f(e,["file"],n),e}function s2(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function r2(t){const e={},n=c(t,["name"]);return n!=null&&f(e,["_url","file"],Kx(n)),e}function l2(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function a2(t){const e={},n=c(t,["name"]);return n!=null&&f(e,["_url","file"],Kx(n)),e}function u2(t,e){const n={},i=c(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const o=c(t,["pageToken"]);return e!==void 0&&o!=null&&f(e,["_query","pageToken"],o),n}function c2(t){const e={},n=c(t,["config"]);return n!=null&&u2(n,e),e}function d2(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const o=c(t,["files"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),f(e,["files"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class f2 extends Xt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new si(Yt.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=c2(e);return s=z("files",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:a.headers},d})),o.then(a=>{const u=d2(a),d=new gE;return Object.assign(d,u),d})}}async createInternal(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=o2(e);return s=z("upload/v1beta/files",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json()),o.then(a=>{const u=s2(a),d=new xE;return Object.assign(d,u),d})}}async get(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=a2(e);return s=z("files/{file}",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json()),o.then(a=>a)}}async delete(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=r2(e);return s=z("files/{file}",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:a.headers},d})),o.then(a=>{const u=l2(a),d=new vE;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pr(t){const e={},n=c(t,["data"]);if(n!=null&&f(e,["data"],n),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function p2(t){const e={},n=c(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>A2(s))),f(e,["parts"],o)}const i=c(t,["role"]);return i!=null&&f(e,["role"],i),e}function h2(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function m2(t){const e={},n=c(t,["id"]);n!=null&&f(e,["id"],n);const i=c(t,["args"]);i!=null&&f(e,["args"],i);const o=c(t,["name"]);if(o!=null&&f(e,["name"],o),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function g2(t){const e={};if(c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(t,["description"]);n!=null&&f(e,["description"],n);const i=c(t,["name"]);i!=null&&f(e,["name"],i);const o=c(t,["parameters"]);o!=null&&f(e,["parameters"],o);const s=c(t,["parametersJsonSchema"]);s!=null&&f(e,["parametersJsonSchema"],s);const r=c(t,["response"]);r!=null&&f(e,["response"],r);const l=c(t,["responseJsonSchema"]);return l!=null&&f(e,["responseJsonSchema"],l),e}function x2(t){const e={},n=c(t,["modelSelectionConfig"]);n!=null&&f(e,["modelConfig"],n);const i=c(t,["responseJsonSchema"]);i!=null&&f(e,["responseJsonSchema"],i);const o=c(t,["audioTimestamp"]);o!=null&&f(e,["audioTimestamp"],o);const s=c(t,["candidateCount"]);s!=null&&f(e,["candidateCount"],s);const r=c(t,["enableAffectiveDialog"]);r!=null&&f(e,["enableAffectiveDialog"],r);const l=c(t,["frequencyPenalty"]);l!=null&&f(e,["frequencyPenalty"],l);const a=c(t,["logprobs"]);a!=null&&f(e,["logprobs"],a);const u=c(t,["maxOutputTokens"]);u!=null&&f(e,["maxOutputTokens"],u);const d=c(t,["mediaResolution"]);d!=null&&f(e,["mediaResolution"],d);const h=c(t,["presencePenalty"]);h!=null&&f(e,["presencePenalty"],h);const m=c(t,["responseLogprobs"]);m!=null&&f(e,["responseLogprobs"],m);const g=c(t,["responseMimeType"]);g!=null&&f(e,["responseMimeType"],g);const x=c(t,["responseModalities"]);x!=null&&f(e,["responseModalities"],x);const v=c(t,["responseSchema"]);v!=null&&f(e,["responseSchema"],v);const w=c(t,["routingConfig"]);w!=null&&f(e,["routingConfig"],w);const S=c(t,["seed"]);S!=null&&f(e,["seed"],S);const _=c(t,["speechConfig"]);_!=null&&f(e,["speechConfig"],ov(_));const y=c(t,["stopSequences"]);y!=null&&f(e,["stopSequences"],y);const C=c(t,["temperature"]);C!=null&&f(e,["temperature"],C);const T=c(t,["thinkingConfig"]);T!=null&&f(e,["thinkingConfig"],T);const k=c(t,["topK"]);k!=null&&f(e,["topK"],k);const I=c(t,["topP"]);if(I!=null&&f(e,["topP"],I),c(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function v2(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(t,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function y2(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function _2(t,e){const n={},i=c(t,["generationConfig"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig"],i);const o=c(t,["responseModalities"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig","responseModalities"],o);const s=c(t,["temperature"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig","temperature"],s);const r=c(t,["topP"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig","topP"],r);const l=c(t,["topK"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","topK"],l);const a=c(t,["maxOutputTokens"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","maxOutputTokens"],a);const u=c(t,["mediaResolution"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","mediaResolution"],u);const d=c(t,["seed"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","seed"],d);const h=c(t,["speechConfig"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","speechConfig"],od(h));const m=c(t,["thinkingConfig"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","thinkingConfig"],m);const g=c(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],g);const x=c(t,["systemInstruction"]);e!==void 0&&x!=null&&f(e,["setup","systemInstruction"],p2(Ne(x)));const v=c(t,["tools"]);if(e!==void 0&&v!=null){let k=Qi(v);Array.isArray(k)&&(k=k.map(I=>P2(Ki(I)))),f(e,["setup","tools"],k)}const w=c(t,["sessionResumption"]);e!==void 0&&w!=null&&f(e,["setup","sessionResumption"],N2(w));const S=c(t,["inputAudioTranscription"]);e!==void 0&&S!=null&&f(e,["setup","inputAudioTranscription"],S);const _=c(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&f(e,["setup","outputAudioTranscription"],_);const y=c(t,["realtimeInputConfig"]);e!==void 0&&y!=null&&f(e,["setup","realtimeInputConfig"],y);const C=c(t,["contextWindowCompression"]);e!==void 0&&C!=null&&f(e,["setup","contextWindowCompression"],C);const T=c(t,["proactivity"]);return e!==void 0&&T!=null&&f(e,["setup","proactivity"],T),n}function S2(t,e){const n={},i=c(t,["generationConfig"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig"],x2(i));const o=c(t,["responseModalities"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig","responseModalities"],o);const s=c(t,["temperature"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig","temperature"],s);const r=c(t,["topP"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig","topP"],r);const l=c(t,["topK"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","topK"],l);const a=c(t,["maxOutputTokens"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","maxOutputTokens"],a);const u=c(t,["mediaResolution"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","mediaResolution"],u);const d=c(t,["seed"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","seed"],d);const h=c(t,["speechConfig"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","speechConfig"],ov(od(h)));const m=c(t,["thinkingConfig"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","thinkingConfig"],m);const g=c(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],g);const x=c(t,["systemInstruction"]);e!==void 0&&x!=null&&f(e,["setup","systemInstruction"],Ne(x));const v=c(t,["tools"]);if(e!==void 0&&v!=null){let k=Qi(v);Array.isArray(k)&&(k=k.map(I=>M2(Ki(I)))),f(e,["setup","tools"],k)}const w=c(t,["sessionResumption"]);e!==void 0&&w!=null&&f(e,["setup","sessionResumption"],w);const S=c(t,["inputAudioTranscription"]);e!==void 0&&S!=null&&f(e,["setup","inputAudioTranscription"],S);const _=c(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&f(e,["setup","outputAudioTranscription"],_);const y=c(t,["realtimeInputConfig"]);e!==void 0&&y!=null&&f(e,["setup","realtimeInputConfig"],y);const C=c(t,["contextWindowCompression"]);e!==void 0&&C!=null&&f(e,["setup","contextWindowCompression"],C);const T=c(t,["proactivity"]);return e!==void 0&&T!=null&&f(e,["setup","proactivity"],T),n}function w2(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["setup","model"],J(t,i));const o=c(e,["config"]);return o!=null&&f(n,["config"],_2(o,n)),n}function C2(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["setup","model"],J(t,i));const o=c(e,["config"]);return o!=null&&f(n,["config"],S2(o,n)),n}function T2(t){const e={},n=c(t,["musicGenerationConfig"]);return n!=null&&f(e,["musicGenerationConfig"],n),e}function k2(t){const e={},n=c(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),f(e,["weightedPrompts"],i)}return e}function E2(t){const e={},n=c(t,["media"]);if(n!=null){let u=$x(n);Array.isArray(u)&&(u=u.map(d=>pr(d))),f(e,["mediaChunks"],u)}const i=c(t,["audio"]);i!=null&&f(e,["audio"],pr(jx(i)));const o=c(t,["audioStreamEnd"]);o!=null&&f(e,["audioStreamEnd"],o);const s=c(t,["video"]);s!=null&&f(e,["video"],pr(Wx(s)));const r=c(t,["text"]);r!=null&&f(e,["text"],r);const l=c(t,["activityStart"]);l!=null&&f(e,["activityStart"],l);const a=c(t,["activityEnd"]);return a!=null&&f(e,["activityEnd"],a),e}function I2(t){const e={},n=c(t,["media"]);if(n!=null){let u=$x(n);Array.isArray(u)&&(u=u.map(d=>d)),f(e,["mediaChunks"],u)}const i=c(t,["audio"]);i!=null&&f(e,["audio"],jx(i));const o=c(t,["audioStreamEnd"]);o!=null&&f(e,["audioStreamEnd"],o);const s=c(t,["video"]);s!=null&&f(e,["video"],Wx(s));const r=c(t,["text"]);r!=null&&f(e,["text"],r);const l=c(t,["activityStart"]);l!=null&&f(e,["activityStart"],l);const a=c(t,["activityEnd"]);return a!=null&&f(e,["activityEnd"],a),e}function b2(t){const e={},n=c(t,["setupComplete"]);n!=null&&f(e,["setupComplete"],n);const i=c(t,["serverContent"]);i!=null&&f(e,["serverContent"],i);const o=c(t,["toolCall"]);o!=null&&f(e,["toolCall"],o);const s=c(t,["toolCallCancellation"]);s!=null&&f(e,["toolCallCancellation"],s);const r=c(t,["usageMetadata"]);r!=null&&f(e,["usageMetadata"],R2(r));const l=c(t,["goAway"]);l!=null&&f(e,["goAway"],l);const a=c(t,["sessionResumptionUpdate"]);return a!=null&&f(e,["sessionResumptionUpdate"],a),e}function A2(t){const e={},n=c(t,["mediaResolution"]);n!=null&&f(e,["mediaResolution"],n);const i=c(t,["codeExecutionResult"]);i!=null&&f(e,["codeExecutionResult"],i);const o=c(t,["executableCode"]);o!=null&&f(e,["executableCode"],o);const s=c(t,["fileData"]);s!=null&&f(e,["fileData"],h2(s));const r=c(t,["functionCall"]);r!=null&&f(e,["functionCall"],m2(r));const l=c(t,["functionResponse"]);l!=null&&f(e,["functionResponse"],l);const a=c(t,["inlineData"]);a!=null&&f(e,["inlineData"],pr(a));const u=c(t,["text"]);u!=null&&f(e,["text"],u);const d=c(t,["thought"]);d!=null&&f(e,["thought"],d);const h=c(t,["thoughtSignature"]);h!=null&&f(e,["thoughtSignature"],h);const m=c(t,["videoMetadata"]);return m!=null&&f(e,["videoMetadata"],m),e}function N2(t){const e={},n=c(t,["handle"]);if(n!=null&&f(e,["handle"],n),c(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function ov(t){const e={},n=c(t,["languageCode"]);n!=null&&f(e,["languageCode"],n);const i=c(t,["voiceConfig"]);if(i!=null&&f(e,["voiceConfig"],i),c(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function P2(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),f(e,["functionDeclarations"],d)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(t,["googleSearchRetrieval"]);i!=null&&f(e,["googleSearchRetrieval"],i);const o=c(t,["computerUse"]);o!=null&&f(e,["computerUse"],o);const s=c(t,["fileSearch"]);s!=null&&f(e,["fileSearch"],s);const r=c(t,["codeExecution"]);if(r!=null&&f(e,["codeExecution"],r),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=c(t,["googleMaps"]);l!=null&&f(e,["googleMaps"],v2(l));const a=c(t,["googleSearch"]);a!=null&&f(e,["googleSearch"],y2(a));const u=c(t,["urlContext"]);return u!=null&&f(e,["urlContext"],u),e}function M2(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>g2(m))),f(e,["functionDeclarations"],h)}const i=c(t,["retrieval"]);i!=null&&f(e,["retrieval"],i);const o=c(t,["googleSearchRetrieval"]);o!=null&&f(e,["googleSearchRetrieval"],o);const s=c(t,["computerUse"]);if(s!=null&&f(e,["computerUse"],s),c(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=c(t,["codeExecution"]);r!=null&&f(e,["codeExecution"],r);const l=c(t,["enterpriseWebSearch"]);l!=null&&f(e,["enterpriseWebSearch"],l);const a=c(t,["googleMaps"]);a!=null&&f(e,["googleMaps"],a);const u=c(t,["googleSearch"]);u!=null&&f(e,["googleSearch"],u);const d=c(t,["urlContext"]);return d!=null&&f(e,["urlContext"],d),e}function R2(t){const e={},n=c(t,["promptTokenCount"]);n!=null&&f(e,["promptTokenCount"],n);const i=c(t,["cachedContentTokenCount"]);i!=null&&f(e,["cachedContentTokenCount"],i);const o=c(t,["candidatesTokenCount"]);o!=null&&f(e,["responseTokenCount"],o);const s=c(t,["toolUsePromptTokenCount"]);s!=null&&f(e,["toolUsePromptTokenCount"],s);const r=c(t,["thoughtsTokenCount"]);r!=null&&f(e,["thoughtsTokenCount"],r);const l=c(t,["totalTokenCount"]);l!=null&&f(e,["totalTokenCount"],l);const a=c(t,["promptTokensDetails"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(x=>x)),f(e,["promptTokensDetails"],g)}const u=c(t,["cacheTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(x=>x)),f(e,["cacheTokensDetails"],g)}const d=c(t,["candidatesTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(x=>x)),f(e,["responseTokensDetails"],g)}const h=c(t,["toolUsePromptTokensDetails"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(x=>x)),f(e,["toolUsePromptTokensDetails"],g)}const m=c(t,["trafficType"]);return m!=null&&f(e,["trafficType"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function D2(t){const e={},n=c(t,["data"]);if(n!=null&&f(e,["data"],n),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function L2(t){const e={},n=c(t,["content"]);n!=null&&f(e,["content"],n);const i=c(t,["citationMetadata"]);i!=null&&f(e,["citationMetadata"],z2(i));const o=c(t,["tokenCount"]);o!=null&&f(e,["tokenCount"],o);const s=c(t,["finishReason"]);s!=null&&f(e,["finishReason"],s);const r=c(t,["avgLogprobs"]);r!=null&&f(e,["avgLogprobs"],r);const l=c(t,["groundingMetadata"]);l!=null&&f(e,["groundingMetadata"],l);const a=c(t,["index"]);a!=null&&f(e,["index"],a);const u=c(t,["logprobsResult"]);u!=null&&f(e,["logprobsResult"],u);const d=c(t,["safetyRatings"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>g)),f(e,["safetyRatings"],m)}const h=c(t,["urlContextMetadata"]);return h!=null&&f(e,["urlContextMetadata"],h),e}function z2(t){const e={},n=c(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),f(e,["citations"],i)}return e}function F2(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],J(t,i));const o=c(e,["contents"]);if(o!=null){let s=ct(o);Array.isArray(s)&&(s=s.map(r=>r)),f(n,["contents"],s)}return n}function U2(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["tokensInfo"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),f(e,["tokensInfo"],o)}return e}function B2(t){const e={},n=c(t,["values"]);n!=null&&f(e,["values"],n);const i=c(t,["statistics"]);return i!=null&&f(e,["statistics"],V2(i)),e}function V2(t){const e={},n=c(t,["truncated"]);n!=null&&f(e,["truncated"],n);const i=c(t,["token_count"]);return i!=null&&f(e,["tokenCount"],i),e}function bl(t){const e={},n=c(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Yb(s))),f(e,["parts"],o)}const i=c(t,["role"]);return i!=null&&f(e,["role"],i),e}function H2(t){const e={},n=c(t,["controlType"]);n!=null&&f(e,["controlType"],n);const i=c(t,["enableControlImageComputation"]);return i!=null&&f(e,["computeControl"],i),e}function O2(t){const e={};if(c(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function q2(t,e){const n={},i=c(t,["systemInstruction"]);e!==void 0&&i!=null&&f(e,["systemInstruction"],Ne(i));const o=c(t,["tools"]);if(e!==void 0&&o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>uv(l))),f(e,["tools"],r)}const s=c(t,["generationConfig"]);return e!==void 0&&s!=null&&f(e,["generationConfig"],Db(s)),n}function G2(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],J(t,i));const o=c(e,["contents"]);if(o!=null){let r=ct(o);Array.isArray(r)&&(r=r.map(l=>bl(l))),f(n,["contents"],r)}const s=c(e,["config"]);return s!=null&&O2(s),n}function $2(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],J(t,i));const o=c(e,["contents"]);if(o!=null){let r=ct(o);Array.isArray(r)&&(r=r.map(l=>l)),f(n,["contents"],r)}const s=c(e,["config"]);return s!=null&&q2(s,n),n}function W2(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["totalTokens"]);i!=null&&f(e,["totalTokens"],i);const o=c(t,["cachedContentTokenCount"]);return o!=null&&f(e,["cachedContentTokenCount"],o),e}function j2(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["totalTokens"]);return i!=null&&f(e,["totalTokens"],i),e}function J2(t,e){const n={},i=c(e,["model"]);return i!=null&&f(n,["_url","name"],J(t,i)),n}function Y2(t,e){const n={},i=c(e,["model"]);return i!=null&&f(n,["_url","name"],J(t,i)),n}function K2(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function Q2(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function X2(t,e){const n={},i=c(t,["outputGcsUri"]);e!==void 0&&i!=null&&f(e,["parameters","storageUri"],i);const o=c(t,["negativePrompt"]);e!==void 0&&o!=null&&f(e,["parameters","negativePrompt"],o);const s=c(t,["numberOfImages"]);e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s);const r=c(t,["aspectRatio"]);e!==void 0&&r!=null&&f(e,["parameters","aspectRatio"],r);const l=c(t,["guidanceScale"]);e!==void 0&&l!=null&&f(e,["parameters","guidanceScale"],l);const a=c(t,["seed"]);e!==void 0&&a!=null&&f(e,["parameters","seed"],a);const u=c(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&f(e,["parameters","safetySetting"],u);const d=c(t,["personGeneration"]);e!==void 0&&d!=null&&f(e,["parameters","personGeneration"],d);const h=c(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&f(e,["parameters","includeSafetyAttributes"],h);const m=c(t,["includeRaiReason"]);e!==void 0&&m!=null&&f(e,["parameters","includeRaiReason"],m);const g=c(t,["language"]);e!==void 0&&g!=null&&f(e,["parameters","language"],g);const x=c(t,["outputMimeType"]);e!==void 0&&x!=null&&f(e,["parameters","outputOptions","mimeType"],x);const v=c(t,["outputCompressionQuality"]);e!==void 0&&v!=null&&f(e,["parameters","outputOptions","compressionQuality"],v);const w=c(t,["addWatermark"]);e!==void 0&&w!=null&&f(e,["parameters","addWatermark"],w);const S=c(t,["labels"]);e!==void 0&&S!=null&&f(e,["labels"],S);const _=c(t,["editMode"]);e!==void 0&&_!=null&&f(e,["parameters","editMode"],_);const y=c(t,["baseSteps"]);return e!==void 0&&y!=null&&f(e,["parameters","editConfig","baseSteps"],y),n}function Z2(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],J(t,i));const o=c(e,["prompt"]);o!=null&&f(n,["instances[0]","prompt"],o);const s=c(e,["referenceImages"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(a=>tA(a))),f(n,["instances[0]","referenceImages"],l)}const r=c(e,["config"]);return r!=null&&X2(r,n),n}function eb(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Al(s))),f(e,["generatedImages"],o)}return e}function tb(t,e){const n={},i=c(t,["taskType"]);e!==void 0&&i!=null&&f(e,["requests[]","taskType"],i);const o=c(t,["title"]);e!==void 0&&o!=null&&f(e,["requests[]","title"],o);const s=c(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&f(e,["requests[]","outputDimensionality"],s),c(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function nb(t,e){const n={},i=c(t,["taskType"]);e!==void 0&&i!=null&&f(e,["instances[]","task_type"],i);const o=c(t,["title"]);e!==void 0&&o!=null&&f(e,["instances[]","title"],o);const s=c(t,["outputDimensionality"]);e!==void 0&&s!=null&&f(e,["parameters","outputDimensionality"],s);const r=c(t,["mimeType"]);e!==void 0&&r!=null&&f(e,["instances[]","mimeType"],r);const l=c(t,["autoTruncate"]);return e!==void 0&&l!=null&&f(e,["parameters","autoTruncate"],l),n}function ib(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],J(t,i));const o=c(e,["contents"]);if(o!=null){let l=td(t,o);Array.isArray(l)&&(l=l.map(a=>a)),f(n,["requests[]","content"],l)}const s=c(e,["config"]);s!=null&&tb(s,n);const r=c(e,["model"]);return r!==void 0&&f(n,["requests[]","model"],J(t,r)),n}function ob(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],J(t,i));const o=c(e,["contents"]);if(o!=null){let r=td(t,o);Array.isArray(r)&&(r=r.map(l=>l)),f(n,["instances[]","content"],r)}const s=c(e,["config"]);return s!=null&&nb(s,n),n}function sb(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(r=>r)),f(e,["embeddings"],s)}const o=c(t,["metadata"]);return o!=null&&f(e,["metadata"],o),e}function rb(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["predictions[]","embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(r=>B2(r))),f(e,["embeddings"],s)}const o=c(t,["metadata"]);return o!=null&&f(e,["metadata"],o),e}function lb(t){const e={},n=c(t,["endpoint"]);n!=null&&f(e,["name"],n);const i=c(t,["deployedModelId"]);return i!=null&&f(e,["deployedModelId"],i),e}function ab(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function ub(t){const e={},n=c(t,["id"]);n!=null&&f(e,["id"],n);const i=c(t,["args"]);i!=null&&f(e,["args"],i);const o=c(t,["name"]);if(o!=null&&f(e,["name"],o),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function cb(t){const e={},n=c(t,["mode"]);n!=null&&f(e,["mode"],n);const i=c(t,["allowedFunctionNames"]);if(i!=null&&f(e,["allowedFunctionNames"],i),c(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function db(t){const e={};if(c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(t,["description"]);n!=null&&f(e,["description"],n);const i=c(t,["name"]);i!=null&&f(e,["name"],i);const o=c(t,["parameters"]);o!=null&&f(e,["parameters"],o);const s=c(t,["parametersJsonSchema"]);s!=null&&f(e,["parametersJsonSchema"],s);const r=c(t,["response"]);r!=null&&f(e,["response"],r);const l=c(t,["responseJsonSchema"]);return l!=null&&f(e,["responseJsonSchema"],l),e}function fb(t,e,n){const i={},o=c(e,["systemInstruction"]);n!==void 0&&o!=null&&f(n,["systemInstruction"],bl(Ne(o)));const s=c(e,["temperature"]);s!=null&&f(i,["temperature"],s);const r=c(e,["topP"]);r!=null&&f(i,["topP"],r);const l=c(e,["topK"]);l!=null&&f(i,["topK"],l);const a=c(e,["candidateCount"]);a!=null&&f(i,["candidateCount"],a);const u=c(e,["maxOutputTokens"]);u!=null&&f(i,["maxOutputTokens"],u);const d=c(e,["stopSequences"]);d!=null&&f(i,["stopSequences"],d);const h=c(e,["responseLogprobs"]);h!=null&&f(i,["responseLogprobs"],h);const m=c(e,["logprobs"]);m!=null&&f(i,["logprobs"],m);const g=c(e,["presencePenalty"]);g!=null&&f(i,["presencePenalty"],g);const x=c(e,["frequencyPenalty"]);x!=null&&f(i,["frequencyPenalty"],x);const v=c(e,["seed"]);v!=null&&f(i,["seed"],v);const w=c(e,["responseMimeType"]);w!=null&&f(i,["responseMimeType"],w);const S=c(e,["responseSchema"]);S!=null&&f(i,["responseSchema"],nd(S));const _=c(e,["responseJsonSchema"]);if(_!=null&&f(i,["responseJsonSchema"],_),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const y=c(e,["safetySettings"]);if(n!==void 0&&y!=null){let P=y;Array.isArray(P)&&(P=P.map(D=>nA(D))),f(n,["safetySettings"],P)}const C=c(e,["tools"]);if(n!==void 0&&C!=null){let P=Qi(C);Array.isArray(P)&&(P=P.map(D=>uA(Ki(D)))),f(n,["tools"],P)}const T=c(e,["toolConfig"]);if(n!==void 0&&T!=null&&f(n,["toolConfig"],aA(T)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=c(e,["cachedContent"]);n!==void 0&&k!=null&&f(n,["cachedContent"],Zt(t,k));const I=c(e,["responseModalities"]);I!=null&&f(i,["responseModalities"],I);const b=c(e,["mediaResolution"]);b!=null&&f(i,["mediaResolution"],b);const N=c(e,["speechConfig"]);if(N!=null&&f(i,["speechConfig"],id(N)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const A=c(e,["thinkingConfig"]);A!=null&&f(i,["thinkingConfig"],A);const E=c(e,["imageConfig"]);return E!=null&&f(i,["imageConfig"],Bb(E)),i}function pb(t,e,n){const i={},o=c(e,["systemInstruction"]);n!==void 0&&o!=null&&f(n,["systemInstruction"],Ne(o));const s=c(e,["temperature"]);s!=null&&f(i,["temperature"],s);const r=c(e,["topP"]);r!=null&&f(i,["topP"],r);const l=c(e,["topK"]);l!=null&&f(i,["topK"],l);const a=c(e,["candidateCount"]);a!=null&&f(i,["candidateCount"],a);const u=c(e,["maxOutputTokens"]);u!=null&&f(i,["maxOutputTokens"],u);const d=c(e,["stopSequences"]);d!=null&&f(i,["stopSequences"],d);const h=c(e,["responseLogprobs"]);h!=null&&f(i,["responseLogprobs"],h);const m=c(e,["logprobs"]);m!=null&&f(i,["logprobs"],m);const g=c(e,["presencePenalty"]);g!=null&&f(i,["presencePenalty"],g);const x=c(e,["frequencyPenalty"]);x!=null&&f(i,["frequencyPenalty"],x);const v=c(e,["seed"]);v!=null&&f(i,["seed"],v);const w=c(e,["responseMimeType"]);w!=null&&f(i,["responseMimeType"],w);const S=c(e,["responseSchema"]);S!=null&&f(i,["responseSchema"],nd(S));const _=c(e,["responseJsonSchema"]);_!=null&&f(i,["responseJsonSchema"],_);const y=c(e,["routingConfig"]);y!=null&&f(i,["routingConfig"],y);const C=c(e,["modelSelectionConfig"]);C!=null&&f(i,["modelConfig"],C);const T=c(e,["safetySettings"]);if(n!==void 0&&T!=null){let V=T;Array.isArray(V)&&(V=V.map(ae=>ae)),f(n,["safetySettings"],V)}const k=c(e,["tools"]);if(n!==void 0&&k!=null){let V=Qi(k);Array.isArray(V)&&(V=V.map(ae=>uv(Ki(ae)))),f(n,["tools"],V)}const I=c(e,["toolConfig"]);n!==void 0&&I!=null&&f(n,["toolConfig"],I);const b=c(e,["labels"]);n!==void 0&&b!=null&&f(n,["labels"],b);const N=c(e,["cachedContent"]);n!==void 0&&N!=null&&f(n,["cachedContent"],Zt(t,N));const A=c(e,["responseModalities"]);A!=null&&f(i,["responseModalities"],A);const E=c(e,["mediaResolution"]);E!=null&&f(i,["mediaResolution"],E);const P=c(e,["speechConfig"]);P!=null&&f(i,["speechConfig"],av(id(P)));const D=c(e,["audioTimestamp"]);D!=null&&f(i,["audioTimestamp"],D);const q=c(e,["thinkingConfig"]);q!=null&&f(i,["thinkingConfig"],q);const B=c(e,["imageConfig"]);return B!=null&&f(i,["imageConfig"],Vb(B)),i}function tm(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],J(t,i));const o=c(e,["contents"]);if(o!=null){let r=ct(o);Array.isArray(r)&&(r=r.map(l=>bl(l))),f(n,["contents"],r)}const s=c(e,["config"]);return s!=null&&f(n,["generationConfig"],fb(t,s,n)),n}function nm(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],J(t,i));const o=c(e,["contents"]);if(o!=null){let r=ct(o);Array.isArray(r)&&(r=r.map(l=>l)),f(n,["contents"],r)}const s=c(e,["config"]);return s!=null&&f(n,["generationConfig"],pb(t,s,n)),n}function im(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["candidates"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>L2(u))),f(e,["candidates"],a)}const o=c(t,["modelVersion"]);o!=null&&f(e,["modelVersion"],o);const s=c(t,["promptFeedback"]);s!=null&&f(e,["promptFeedback"],s);const r=c(t,["responseId"]);r!=null&&f(e,["responseId"],r);const l=c(t,["usageMetadata"]);return l!=null&&f(e,["usageMetadata"],l),e}function om(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["candidates"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["candidates"],u)}const o=c(t,["createTime"]);o!=null&&f(e,["createTime"],o);const s=c(t,["modelVersion"]);s!=null&&f(e,["modelVersion"],s);const r=c(t,["promptFeedback"]);r!=null&&f(e,["promptFeedback"],r);const l=c(t,["responseId"]);l!=null&&f(e,["responseId"],l);const a=c(t,["usageMetadata"]);return a!=null&&f(e,["usageMetadata"],a),e}function hb(t,e){const n={};if(c(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=c(t,["numberOfImages"]);e!==void 0&&i!=null&&f(e,["parameters","sampleCount"],i);const o=c(t,["aspectRatio"]);e!==void 0&&o!=null&&f(e,["parameters","aspectRatio"],o);const s=c(t,["guidanceScale"]);if(e!==void 0&&s!=null&&f(e,["parameters","guidanceScale"],s),c(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const r=c(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&f(e,["parameters","safetySetting"],r);const l=c(t,["personGeneration"]);e!==void 0&&l!=null&&f(e,["parameters","personGeneration"],l);const a=c(t,["includeSafetyAttributes"]);e!==void 0&&a!=null&&f(e,["parameters","includeSafetyAttributes"],a);const u=c(t,["includeRaiReason"]);e!==void 0&&u!=null&&f(e,["parameters","includeRaiReason"],u);const d=c(t,["language"]);e!==void 0&&d!=null&&f(e,["parameters","language"],d);const h=c(t,["outputMimeType"]);e!==void 0&&h!=null&&f(e,["parameters","outputOptions","mimeType"],h);const m=c(t,["outputCompressionQuality"]);if(e!==void 0&&m!=null&&f(e,["parameters","outputOptions","compressionQuality"],m),c(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=c(t,["imageSize"]);if(e!==void 0&&g!=null&&f(e,["parameters","sampleImageSize"],g),c(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function mb(t,e){const n={},i=c(t,["outputGcsUri"]);e!==void 0&&i!=null&&f(e,["parameters","storageUri"],i);const o=c(t,["negativePrompt"]);e!==void 0&&o!=null&&f(e,["parameters","negativePrompt"],o);const s=c(t,["numberOfImages"]);e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s);const r=c(t,["aspectRatio"]);e!==void 0&&r!=null&&f(e,["parameters","aspectRatio"],r);const l=c(t,["guidanceScale"]);e!==void 0&&l!=null&&f(e,["parameters","guidanceScale"],l);const a=c(t,["seed"]);e!==void 0&&a!=null&&f(e,["parameters","seed"],a);const u=c(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&f(e,["parameters","safetySetting"],u);const d=c(t,["personGeneration"]);e!==void 0&&d!=null&&f(e,["parameters","personGeneration"],d);const h=c(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&f(e,["parameters","includeSafetyAttributes"],h);const m=c(t,["includeRaiReason"]);e!==void 0&&m!=null&&f(e,["parameters","includeRaiReason"],m);const g=c(t,["language"]);e!==void 0&&g!=null&&f(e,["parameters","language"],g);const x=c(t,["outputMimeType"]);e!==void 0&&x!=null&&f(e,["parameters","outputOptions","mimeType"],x);const v=c(t,["outputCompressionQuality"]);e!==void 0&&v!=null&&f(e,["parameters","outputOptions","compressionQuality"],v);const w=c(t,["addWatermark"]);e!==void 0&&w!=null&&f(e,["parameters","addWatermark"],w);const S=c(t,["labels"]);e!==void 0&&S!=null&&f(e,["labels"],S);const _=c(t,["imageSize"]);e!==void 0&&_!=null&&f(e,["parameters","sampleImageSize"],_);const y=c(t,["enhancePrompt"]);return e!==void 0&&y!=null&&f(e,["parameters","enhancePrompt"],y),n}function gb(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],J(t,i));const o=c(e,["prompt"]);o!=null&&f(n,["instances[0]","prompt"],o);const s=c(e,["config"]);return s!=null&&hb(s,n),n}function xb(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],J(t,i));const o=c(e,["prompt"]);o!=null&&f(n,["instances[0]","prompt"],o);const s=c(e,["config"]);return s!=null&&mb(s,n),n}function vb(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(r=>Nb(r))),f(e,["generatedImages"],s)}const o=c(t,["positivePromptSafetyAttributes"]);return o!=null&&f(e,["positivePromptSafetyAttributes"],rv(o)),e}function yb(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(r=>Al(r))),f(e,["generatedImages"],s)}const o=c(t,["positivePromptSafetyAttributes"]);return o!=null&&f(e,["positivePromptSafetyAttributes"],lv(o)),e}function _b(t,e){const n={},i=c(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&f(e,["parameters","sampleCount"],i),c(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=c(t,["durationSeconds"]);if(e!==void 0&&o!=null&&f(e,["parameters","durationSeconds"],o),c(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=c(t,["aspectRatio"]);e!==void 0&&s!=null&&f(e,["parameters","aspectRatio"],s);const r=c(t,["resolution"]);e!==void 0&&r!=null&&f(e,["parameters","resolution"],r);const l=c(t,["personGeneration"]);if(e!==void 0&&l!=null&&f(e,["parameters","personGeneration"],l),c(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const a=c(t,["negativePrompt"]);e!==void 0&&a!=null&&f(e,["parameters","negativePrompt"],a);const u=c(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&f(e,["parameters","enhancePrompt"],u),c(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=c(t,["lastFrame"]);e!==void 0&&d!=null&&f(e,["instances[0]","lastFrame"],Nl(d));const h=c(t,["referenceImages"]);if(e!==void 0&&h!=null){let m=h;Array.isArray(m)&&(m=m.map(g=>wA(g))),f(e,["instances[0]","referenceImages"],m)}if(c(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Sb(t,e){const n={},i=c(t,["numberOfVideos"]);e!==void 0&&i!=null&&f(e,["parameters","sampleCount"],i);const o=c(t,["outputGcsUri"]);e!==void 0&&o!=null&&f(e,["parameters","storageUri"],o);const s=c(t,["fps"]);e!==void 0&&s!=null&&f(e,["parameters","fps"],s);const r=c(t,["durationSeconds"]);e!==void 0&&r!=null&&f(e,["parameters","durationSeconds"],r);const l=c(t,["seed"]);e!==void 0&&l!=null&&f(e,["parameters","seed"],l);const a=c(t,["aspectRatio"]);e!==void 0&&a!=null&&f(e,["parameters","aspectRatio"],a);const u=c(t,["resolution"]);e!==void 0&&u!=null&&f(e,["parameters","resolution"],u);const d=c(t,["personGeneration"]);e!==void 0&&d!=null&&f(e,["parameters","personGeneration"],d);const h=c(t,["pubsubTopic"]);e!==void 0&&h!=null&&f(e,["parameters","pubsubTopic"],h);const m=c(t,["negativePrompt"]);e!==void 0&&m!=null&&f(e,["parameters","negativePrompt"],m);const g=c(t,["enhancePrompt"]);e!==void 0&&g!=null&&f(e,["parameters","enhancePrompt"],g);const x=c(t,["generateAudio"]);e!==void 0&&x!=null&&f(e,["parameters","generateAudio"],x);const v=c(t,["lastFrame"]);e!==void 0&&v!=null&&f(e,["instances[0]","lastFrame"],_t(v));const w=c(t,["referenceImages"]);if(e!==void 0&&w!=null){let y=w;Array.isArray(y)&&(y=y.map(C=>CA(C))),f(e,["instances[0]","referenceImages"],y)}const S=c(t,["mask"]);e!==void 0&&S!=null&&f(e,["instances[0]","mask"],SA(S));const _=c(t,["compressionQuality"]);return e!==void 0&&_!=null&&f(e,["parameters","compressionQuality"],_),n}function wb(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["metadata"]);i!=null&&f(e,["metadata"],i);const o=c(t,["done"]);o!=null&&f(e,["done"],o);const s=c(t,["error"]);s!=null&&f(e,["error"],s);const r=c(t,["response","generateVideoResponse"]);return r!=null&&f(e,["response"],Eb(r)),e}function Cb(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["metadata"]);i!=null&&f(e,["metadata"],i);const o=c(t,["done"]);o!=null&&f(e,["done"],o);const s=c(t,["error"]);s!=null&&f(e,["error"],s);const r=c(t,["response"]);return r!=null&&f(e,["response"],Ib(r)),e}function Tb(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],J(t,i));const o=c(e,["prompt"]);o!=null&&f(n,["instances[0]","prompt"],o);const s=c(e,["image"]);s!=null&&f(n,["instances[0]","image"],Nl(s));const r=c(e,["video"]);r!=null&&f(n,["instances[0]","video"],cv(r));const l=c(e,["source"]);l!=null&&bb(l,n);const a=c(e,["config"]);return a!=null&&_b(a,n),n}function kb(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],J(t,i));const o=c(e,["prompt"]);o!=null&&f(n,["instances[0]","prompt"],o);const s=c(e,["image"]);s!=null&&f(n,["instances[0]","image"],_t(s));const r=c(e,["video"]);r!=null&&f(n,["instances[0]","video"],dv(r));const l=c(e,["source"]);l!=null&&Ab(l,n);const a=c(e,["config"]);return a!=null&&Sb(a,n),n}function Eb(t){const e={},n=c(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(r=>Mb(r))),f(e,["generatedVideos"],s)}const i=c(t,["raiMediaFilteredCount"]);i!=null&&f(e,["raiMediaFilteredCount"],i);const o=c(t,["raiMediaFilteredReasons"]);return o!=null&&f(e,["raiMediaFilteredReasons"],o),e}function Ib(t){const e={},n=c(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(r=>Rb(r))),f(e,["generatedVideos"],s)}const i=c(t,["raiMediaFilteredCount"]);i!=null&&f(e,["raiMediaFilteredCount"],i);const o=c(t,["raiMediaFilteredReasons"]);return o!=null&&f(e,["raiMediaFilteredReasons"],o),e}function bb(t,e){const n={},i=c(t,["prompt"]);e!==void 0&&i!=null&&f(e,["instances[0]","prompt"],i);const o=c(t,["image"]);e!==void 0&&o!=null&&f(e,["instances[0]","image"],Nl(o));const s=c(t,["video"]);return e!==void 0&&s!=null&&f(e,["instances[0]","video"],cv(s)),n}function Ab(t,e){const n={},i=c(t,["prompt"]);e!==void 0&&i!=null&&f(e,["instances[0]","prompt"],i);const o=c(t,["image"]);e!==void 0&&o!=null&&f(e,["instances[0]","image"],_t(o));const s=c(t,["video"]);return e!==void 0&&s!=null&&f(e,["instances[0]","video"],dv(s)),n}function Nb(t){const e={},n=c(t,["_self"]);n!=null&&f(e,["image"],Hb(n));const i=c(t,["raiFilteredReason"]);i!=null&&f(e,["raiFilteredReason"],i);const o=c(t,["_self"]);return o!=null&&f(e,["safetyAttributes"],rv(o)),e}function Al(t){const e={},n=c(t,["_self"]);n!=null&&f(e,["image"],sv(n));const i=c(t,["raiFilteredReason"]);i!=null&&f(e,["raiFilteredReason"],i);const o=c(t,["_self"]);o!=null&&f(e,["safetyAttributes"],lv(o));const s=c(t,["prompt"]);return s!=null&&f(e,["enhancedPrompt"],s),e}function Pb(t){const e={},n=c(t,["_self"]);n!=null&&f(e,["mask"],sv(n));const i=c(t,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),f(e,["labels"],o)}return e}function Mb(t){const e={},n=c(t,["video"]);return n!=null&&f(e,["video"],yA(n)),e}function Rb(t){const e={},n=c(t,["_self"]);return n!=null&&f(e,["video"],_A(n)),e}function Db(t){const e={},n=c(t,["modelSelectionConfig"]);n!=null&&f(e,["modelConfig"],n);const i=c(t,["responseJsonSchema"]);i!=null&&f(e,["responseJsonSchema"],i);const o=c(t,["audioTimestamp"]);o!=null&&f(e,["audioTimestamp"],o);const s=c(t,["candidateCount"]);s!=null&&f(e,["candidateCount"],s);const r=c(t,["enableAffectiveDialog"]);r!=null&&f(e,["enableAffectiveDialog"],r);const l=c(t,["frequencyPenalty"]);l!=null&&f(e,["frequencyPenalty"],l);const a=c(t,["logprobs"]);a!=null&&f(e,["logprobs"],a);const u=c(t,["maxOutputTokens"]);u!=null&&f(e,["maxOutputTokens"],u);const d=c(t,["mediaResolution"]);d!=null&&f(e,["mediaResolution"],d);const h=c(t,["presencePenalty"]);h!=null&&f(e,["presencePenalty"],h);const m=c(t,["responseLogprobs"]);m!=null&&f(e,["responseLogprobs"],m);const g=c(t,["responseMimeType"]);g!=null&&f(e,["responseMimeType"],g);const x=c(t,["responseModalities"]);x!=null&&f(e,["responseModalities"],x);const v=c(t,["responseSchema"]);v!=null&&f(e,["responseSchema"],v);const w=c(t,["routingConfig"]);w!=null&&f(e,["routingConfig"],w);const S=c(t,["seed"]);S!=null&&f(e,["seed"],S);const _=c(t,["speechConfig"]);_!=null&&f(e,["speechConfig"],av(_));const y=c(t,["stopSequences"]);y!=null&&f(e,["stopSequences"],y);const C=c(t,["temperature"]);C!=null&&f(e,["temperature"],C);const T=c(t,["thinkingConfig"]);T!=null&&f(e,["thinkingConfig"],T);const k=c(t,["topK"]);k!=null&&f(e,["topK"],k);const I=c(t,["topP"]);if(I!=null&&f(e,["topP"],I),c(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Lb(t,e){const n={},i=c(e,["model"]);return i!=null&&f(n,["_url","name"],J(t,i)),n}function zb(t,e){const n={},i=c(e,["model"]);return i!=null&&f(n,["_url","name"],J(t,i)),n}function Fb(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(t,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function Ub(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function Bb(t){const e={},n=c(t,["aspectRatio"]);n!=null&&f(e,["aspectRatio"],n);const i=c(t,["imageSize"]);if(i!=null&&f(e,["imageSize"],i),c(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Vb(t){const e={},n=c(t,["aspectRatio"]);n!=null&&f(e,["aspectRatio"],n);const i=c(t,["imageSize"]);i!=null&&f(e,["imageSize"],i);const o=c(t,["outputMimeType"]);o!=null&&f(e,["imageOutputOptions","mimeType"],o);const s=c(t,["outputCompressionQuality"]);return s!=null&&f(e,["imageOutputOptions","compressionQuality"],s),e}function Hb(t){const e={},n=c(t,["bytesBase64Encoded"]);n!=null&&f(e,["imageBytes"],Mn(n));const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function sv(t){const e={},n=c(t,["gcsUri"]);n!=null&&f(e,["gcsUri"],n);const i=c(t,["bytesBase64Encoded"]);i!=null&&f(e,["imageBytes"],Mn(i));const o=c(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function Nl(t){const e={};if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=c(t,["imageBytes"]);n!=null&&f(e,["bytesBase64Encoded"],Mn(n));const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function _t(t){const e={},n=c(t,["gcsUri"]);n!=null&&f(e,["gcsUri"],n);const i=c(t,["imageBytes"]);i!=null&&f(e,["bytesBase64Encoded"],Mn(i));const o=c(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function Ob(t,e,n){const i={},o=c(e,["pageSize"]);n!==void 0&&o!=null&&f(n,["_query","pageSize"],o);const s=c(e,["pageToken"]);n!==void 0&&s!=null&&f(n,["_query","pageToken"],s);const r=c(e,["filter"]);n!==void 0&&r!=null&&f(n,["_query","filter"],r);const l=c(e,["queryBase"]);return n!==void 0&&l!=null&&f(n,["_url","models_url"],Qx(t,l)),i}function qb(t,e,n){const i={},o=c(e,["pageSize"]);n!==void 0&&o!=null&&f(n,["_query","pageSize"],o);const s=c(e,["pageToken"]);n!==void 0&&s!=null&&f(n,["_query","pageToken"],s);const r=c(e,["filter"]);n!==void 0&&r!=null&&f(n,["_query","filter"],r);const l=c(e,["queryBase"]);return n!==void 0&&l!=null&&f(n,["_url","models_url"],Qx(t,l)),i}function Gb(t,e){const n={},i=c(e,["config"]);return i!=null&&Ob(t,i,n),n}function $b(t,e){const n={},i=c(e,["config"]);return i!=null&&qb(t,i,n),n}function Wb(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const o=c(t,["_self"]);if(o!=null){let s=Xx(o);Array.isArray(s)&&(s=s.map(r=>Iu(r))),f(e,["models"],s)}return e}function jb(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const o=c(t,["_self"]);if(o!=null){let s=Xx(o);Array.isArray(s)&&(s=s.map(r=>bu(r))),f(e,["models"],s)}return e}function Jb(t){const e={},n=c(t,["maskMode"]);n!=null&&f(e,["maskMode"],n);const i=c(t,["segmentationClasses"]);i!=null&&f(e,["maskClasses"],i);const o=c(t,["maskDilation"]);return o!=null&&f(e,["dilation"],o),e}function Iu(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["displayName"]);i!=null&&f(e,["displayName"],i);const o=c(t,["description"]);o!=null&&f(e,["description"],o);const s=c(t,["version"]);s!=null&&f(e,["version"],s);const r=c(t,["_self"]);r!=null&&f(e,["tunedModelInfo"],cA(r));const l=c(t,["inputTokenLimit"]);l!=null&&f(e,["inputTokenLimit"],l);const a=c(t,["outputTokenLimit"]);a!=null&&f(e,["outputTokenLimit"],a);const u=c(t,["supportedGenerationMethods"]);u!=null&&f(e,["supportedActions"],u);const d=c(t,["temperature"]);d!=null&&f(e,["temperature"],d);const h=c(t,["maxTemperature"]);h!=null&&f(e,["maxTemperature"],h);const m=c(t,["topP"]);m!=null&&f(e,["topP"],m);const g=c(t,["topK"]);g!=null&&f(e,["topK"],g);const x=c(t,["thinking"]);return x!=null&&f(e,["thinking"],x),e}function bu(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["displayName"]);i!=null&&f(e,["displayName"],i);const o=c(t,["description"]);o!=null&&f(e,["description"],o);const s=c(t,["versionId"]);s!=null&&f(e,["version"],s);const r=c(t,["deployedModels"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(m=>lb(m))),f(e,["endpoints"],h)}const l=c(t,["labels"]);l!=null&&f(e,["labels"],l);const a=c(t,["_self"]);a!=null&&f(e,["tunedModelInfo"],dA(a));const u=c(t,["defaultCheckpointId"]);u!=null&&f(e,["defaultCheckpointId"],u);const d=c(t,["checkpoints"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(m=>m)),f(e,["checkpoints"],h)}return e}function Yb(t){const e={},n=c(t,["mediaResolution"]);n!=null&&f(e,["mediaResolution"],n);const i=c(t,["codeExecutionResult"]);i!=null&&f(e,["codeExecutionResult"],i);const o=c(t,["executableCode"]);o!=null&&f(e,["executableCode"],o);const s=c(t,["fileData"]);s!=null&&f(e,["fileData"],ab(s));const r=c(t,["functionCall"]);r!=null&&f(e,["functionCall"],ub(r));const l=c(t,["functionResponse"]);l!=null&&f(e,["functionResponse"],l);const a=c(t,["inlineData"]);a!=null&&f(e,["inlineData"],D2(a));const u=c(t,["text"]);u!=null&&f(e,["text"],u);const d=c(t,["thought"]);d!=null&&f(e,["thought"],d);const h=c(t,["thoughtSignature"]);h!=null&&f(e,["thoughtSignature"],h);const m=c(t,["videoMetadata"]);return m!=null&&f(e,["videoMetadata"],m),e}function Kb(t){const e={},n=c(t,["productImage"]);return n!=null&&f(e,["image"],_t(n)),e}function Qb(t,e){const n={},i=c(t,["numberOfImages"]);e!==void 0&&i!=null&&f(e,["parameters","sampleCount"],i);const o=c(t,["baseSteps"]);e!==void 0&&o!=null&&f(e,["parameters","baseSteps"],o);const s=c(t,["outputGcsUri"]);e!==void 0&&s!=null&&f(e,["parameters","storageUri"],s);const r=c(t,["seed"]);e!==void 0&&r!=null&&f(e,["parameters","seed"],r);const l=c(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&f(e,["parameters","safetySetting"],l);const a=c(t,["personGeneration"]);e!==void 0&&a!=null&&f(e,["parameters","personGeneration"],a);const u=c(t,["addWatermark"]);e!==void 0&&u!=null&&f(e,["parameters","addWatermark"],u);const d=c(t,["outputMimeType"]);e!==void 0&&d!=null&&f(e,["parameters","outputOptions","mimeType"],d);const h=c(t,["outputCompressionQuality"]);e!==void 0&&h!=null&&f(e,["parameters","outputOptions","compressionQuality"],h);const m=c(t,["enhancePrompt"]);e!==void 0&&m!=null&&f(e,["parameters","enhancePrompt"],m);const g=c(t,["labels"]);return e!==void 0&&g!=null&&f(e,["labels"],g),n}function Xb(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],J(t,i));const o=c(e,["source"]);o!=null&&eA(o,n);const s=c(e,["config"]);return s!=null&&Qb(s,n),n}function Zb(t){const e={},n=c(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Al(o))),f(e,["generatedImages"],i)}return e}function eA(t,e){const n={},i=c(t,["prompt"]);e!==void 0&&i!=null&&f(e,["instances[0]","prompt"],i);const o=c(t,["personImage"]);e!==void 0&&o!=null&&f(e,["instances[0]","personImage","image"],_t(o));const s=c(t,["productImages"]);if(e!==void 0&&s!=null){let r=s;Array.isArray(r)&&(r=r.map(l=>Kb(l))),f(e,["instances[0]","productImages"],r)}return n}function tA(t){const e={},n=c(t,["referenceImage"]);n!=null&&f(e,["referenceImage"],_t(n));const i=c(t,["referenceId"]);i!=null&&f(e,["referenceId"],i);const o=c(t,["referenceType"]);o!=null&&f(e,["referenceType"],o);const s=c(t,["maskImageConfig"]);s!=null&&f(e,["maskImageConfig"],Jb(s));const r=c(t,["controlImageConfig"]);r!=null&&f(e,["controlImageConfig"],H2(r));const l=c(t,["styleImageConfig"]);l!=null&&f(e,["styleImageConfig"],l);const a=c(t,["subjectImageConfig"]);return a!=null&&f(e,["subjectImageConfig"],a),e}function rv(t){const e={},n=c(t,["safetyAttributes","categories"]);n!=null&&f(e,["categories"],n);const i=c(t,["safetyAttributes","scores"]);i!=null&&f(e,["scores"],i);const o=c(t,["contentType"]);return o!=null&&f(e,["contentType"],o),e}function lv(t){const e={},n=c(t,["safetyAttributes","categories"]);n!=null&&f(e,["categories"],n);const i=c(t,["safetyAttributes","scores"]);i!=null&&f(e,["scores"],i);const o=c(t,["contentType"]);return o!=null&&f(e,["contentType"],o),e}function nA(t){const e={},n=c(t,["category"]);if(n!=null&&f(e,["category"],n),c(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=c(t,["threshold"]);return i!=null&&f(e,["threshold"],i),e}function iA(t){const e={},n=c(t,["image"]);return n!=null&&f(e,["image"],_t(n)),e}function oA(t,e){const n={},i=c(t,["mode"]);e!==void 0&&i!=null&&f(e,["parameters","mode"],i);const o=c(t,["maxPredictions"]);e!==void 0&&o!=null&&f(e,["parameters","maxPredictions"],o);const s=c(t,["confidenceThreshold"]);e!==void 0&&s!=null&&f(e,["parameters","confidenceThreshold"],s);const r=c(t,["maskDilation"]);e!==void 0&&r!=null&&f(e,["parameters","maskDilation"],r);const l=c(t,["binaryColorThreshold"]);e!==void 0&&l!=null&&f(e,["parameters","binaryColorThreshold"],l);const a=c(t,["labels"]);return e!==void 0&&a!=null&&f(e,["labels"],a),n}function sA(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],J(t,i));const o=c(e,["source"]);o!=null&&lA(o,n);const s=c(e,["config"]);return s!=null&&oA(s,n),n}function rA(t){const e={},n=c(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Pb(o))),f(e,["generatedMasks"],i)}return e}function lA(t,e){const n={},i=c(t,["prompt"]);e!==void 0&&i!=null&&f(e,["instances[0]","prompt"],i);const o=c(t,["image"]);e!==void 0&&o!=null&&f(e,["instances[0]","image"],_t(o));const s=c(t,["scribbleImage"]);return e!==void 0&&s!=null&&f(e,["instances[0]","scribble"],iA(s)),n}function av(t){const e={},n=c(t,["languageCode"]);n!=null&&f(e,["languageCode"],n);const i=c(t,["voiceConfig"]);if(i!=null&&f(e,["voiceConfig"],i),c(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function aA(t){const e={},n=c(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],cb(n));const i=c(t,["retrievalConfig"]);return i!=null&&f(e,["retrievalConfig"],i),e}function uA(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),f(e,["functionDeclarations"],d)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(t,["googleSearchRetrieval"]);i!=null&&f(e,["googleSearchRetrieval"],i);const o=c(t,["computerUse"]);o!=null&&f(e,["computerUse"],o);const s=c(t,["fileSearch"]);s!=null&&f(e,["fileSearch"],s);const r=c(t,["codeExecution"]);if(r!=null&&f(e,["codeExecution"],r),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=c(t,["googleMaps"]);l!=null&&f(e,["googleMaps"],Fb(l));const a=c(t,["googleSearch"]);a!=null&&f(e,["googleSearch"],Ub(a));const u=c(t,["urlContext"]);return u!=null&&f(e,["urlContext"],u),e}function uv(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>db(m))),f(e,["functionDeclarations"],h)}const i=c(t,["retrieval"]);i!=null&&f(e,["retrieval"],i);const o=c(t,["googleSearchRetrieval"]);o!=null&&f(e,["googleSearchRetrieval"],o);const s=c(t,["computerUse"]);if(s!=null&&f(e,["computerUse"],s),c(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=c(t,["codeExecution"]);r!=null&&f(e,["codeExecution"],r);const l=c(t,["enterpriseWebSearch"]);l!=null&&f(e,["enterpriseWebSearch"],l);const a=c(t,["googleMaps"]);a!=null&&f(e,["googleMaps"],a);const u=c(t,["googleSearch"]);u!=null&&f(e,["googleSearch"],u);const d=c(t,["urlContext"]);return d!=null&&f(e,["urlContext"],d),e}function cA(t){const e={},n=c(t,["baseModel"]);n!=null&&f(e,["baseModel"],n);const i=c(t,["createTime"]);i!=null&&f(e,["createTime"],i);const o=c(t,["updateTime"]);return o!=null&&f(e,["updateTime"],o),e}function dA(t){const e={},n=c(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&f(e,["baseModel"],n);const i=c(t,["createTime"]);i!=null&&f(e,["createTime"],i);const o=c(t,["updateTime"]);return o!=null&&f(e,["updateTime"],o),e}function fA(t,e){const n={},i=c(t,["displayName"]);e!==void 0&&i!=null&&f(e,["displayName"],i);const o=c(t,["description"]);e!==void 0&&o!=null&&f(e,["description"],o);const s=c(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&f(e,["defaultCheckpointId"],s),n}function pA(t,e){const n={},i=c(t,["displayName"]);e!==void 0&&i!=null&&f(e,["displayName"],i);const o=c(t,["description"]);e!==void 0&&o!=null&&f(e,["description"],o);const s=c(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&f(e,["defaultCheckpointId"],s),n}function hA(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","name"],J(t,i));const o=c(e,["config"]);return o!=null&&fA(o,n),n}function mA(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],J(t,i));const o=c(e,["config"]);return o!=null&&pA(o,n),n}function gA(t,e){const n={},i=c(t,["outputGcsUri"]);e!==void 0&&i!=null&&f(e,["parameters","storageUri"],i);const o=c(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&f(e,["parameters","safetySetting"],o);const s=c(t,["personGeneration"]);e!==void 0&&s!=null&&f(e,["parameters","personGeneration"],s);const r=c(t,["includeRaiReason"]);e!==void 0&&r!=null&&f(e,["parameters","includeRaiReason"],r);const l=c(t,["outputMimeType"]);e!==void 0&&l!=null&&f(e,["parameters","outputOptions","mimeType"],l);const a=c(t,["outputCompressionQuality"]);e!==void 0&&a!=null&&f(e,["parameters","outputOptions","compressionQuality"],a);const u=c(t,["enhanceInputImage"]);e!==void 0&&u!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],u);const d=c(t,["imagePreservationFactor"]);e!==void 0&&d!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const h=c(t,["labels"]);e!==void 0&&h!=null&&f(e,["labels"],h);const m=c(t,["numberOfImages"]);e!==void 0&&m!=null&&f(e,["parameters","sampleCount"],m);const g=c(t,["mode"]);return e!==void 0&&g!=null&&f(e,["parameters","mode"],g),n}function xA(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],J(t,i));const o=c(e,["image"]);o!=null&&f(n,["instances[0]","image"],_t(o));const s=c(e,["upscaleFactor"]);s!=null&&f(n,["parameters","upscaleConfig","upscaleFactor"],s);const r=c(e,["config"]);return r!=null&&gA(r,n),n}function vA(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Al(s))),f(e,["generatedImages"],o)}return e}function yA(t){const e={},n=c(t,["uri"]);n!=null&&f(e,["uri"],n);const i=c(t,["encodedVideo"]);i!=null&&f(e,["videoBytes"],Mn(i));const o=c(t,["encoding"]);return o!=null&&f(e,["mimeType"],o),e}function _A(t){const e={},n=c(t,["gcsUri"]);n!=null&&f(e,["uri"],n);const i=c(t,["bytesBase64Encoded"]);i!=null&&f(e,["videoBytes"],Mn(i));const o=c(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function SA(t){const e={},n=c(t,["image"]);n!=null&&f(e,["_self"],_t(n));const i=c(t,["maskMode"]);return i!=null&&f(e,["maskMode"],i),e}function wA(t){const e={},n=c(t,["image"]);n!=null&&f(e,["image"],Nl(n));const i=c(t,["referenceType"]);return i!=null&&f(e,["referenceType"],i),e}function CA(t){const e={},n=c(t,["image"]);n!=null&&f(e,["image"],_t(n));const i=c(t,["referenceType"]);return i!=null&&f(e,["referenceType"],i),e}function cv(t){const e={},n=c(t,["uri"]);n!=null&&f(e,["uri"],n);const i=c(t,["videoBytes"]);i!=null&&f(e,["encodedVideo"],Mn(i));const o=c(t,["mimeType"]);return o!=null&&f(e,["encoding"],o),e}function dv(t){const e={},n=c(t,["uri"]);n!=null&&f(e,["gcsUri"],n);const i=c(t,["videoBytes"]);i!=null&&f(e,["bytesBase64Encoded"],Mn(i));const o=c(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TA="Content-Type",kA="X-Server-Timeout",EA="User-Agent",Au="x-goog-api-client",IA="1.30.0",bA=`google-genai-sdk/${IA}`,AA="v1beta1",NA="v1beta",sm=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class PA{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:AA,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:NA,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const o=[this.getRequestUrlInternal(n)];return i&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[r,l]of Object.entries(e.queryParams))o.searchParams.append(r,String(l));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,o.toString(),e.abortSignal),this.unaryApiCall(o,s,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[o,s]of Object.entries(n))typeof s=="object"?i[o]=Object.assign(Object.assign({},i[o]),s):s!==void 0&&(i[o]=s);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,o.toString(),e.abortSignal),this.streamApiCall(o,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i,o){if(n&&n.timeout||o){const s=new AbortController,r=s.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const l=setTimeout(()=>s.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}o&&o.addEventListener("abort",()=>{s.abort()}),e.signal=r}return n&&n.extraBody!==null&&MA(e,n.extraBody),e.headers=await this.getHeadersInternal(n,i),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await rm(o),new Tu(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await rm(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){var n;return Mi(this,arguments,function*(){const o=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),s=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let r="";for(;;){const{done:l,value:a}=yield oe(o.read());if(l){if(r.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=s.decode(a,{stream:!0});try{const h=JSON.parse(u);if("error"in h){const m=JSON.parse(JSON.stringify(h.error)),g=m.status,x=m.code,v=`got status: ${g}. ${JSON.stringify(h)}`;if(x>=400&&x<600)throw new Il({message:v,status:x})}}catch(h){if(h.name==="ApiError")throw h}r+=u;let d=r.match(sm);for(;d;){const h=d[1];try{const m=new Response(h,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield oe(new Tu(m)),r=r.slice(d[0].length),d=r.match(sm)}catch(m){throw new Error(`exception parsing stream chunk ${h}. ${m}`)}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=bA+" "+this.clientOptions.userAgentExtra;return e[EA]=n,e[Au]=n,e[TA]="application/json",e}async getHeadersInternal(e,n){const i=new Headers;if(e&&e.headers){for(const[o,s]of Object.entries(e.headers))i.append(o,s);e.timeout&&e.timeout>0&&i.append(kA,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(e){var n;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(e,n){var i;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const s=this.clientOptions.uploader,r=await s.stat(e);o.sizeBytes=String(r.size);const l=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:r.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=l;const a={file:o},u=this.getFileName(e),d=z("upload/v1beta/files",a._url),h=await this.fetchUploadUrl(d,o.sizeBytes,o.mimeType,u,a,n==null?void 0:n.httpOptions);return s.upload(e,h,this)}async uploadFileToFileSearchStore(e,n,i){var o;const s=this.clientOptions.uploader,r=await s.stat(n),l=String(r.size),a=(o=i==null?void 0:i.mimeType)!==null&&o!==void 0?o:r.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(n),h={};i!=null&&i.customMetadata&&(h.customMetadata=i.customMetadata),i!=null&&i.chunkingConfig&&(h.chunkingConfig=i.chunkingConfig);const m=await this.fetchUploadUrl(u,l,a,d,h,i==null?void 0:i.httpOptions);return s.uploadToFileSearchStore(n,m,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,i,o,s,r){var l;let a={};r?a=r:a={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},o?{"X-Goog-Upload-File-Name":o}:{})};const u=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:a});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(l=u==null?void 0:u.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function rm(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(i);throw n>=400&&n<600?new Il({message:o,status:n}):new Error(o)}}function MA(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(s,r){const l=Object.assign({},s);for(const a in r)if(Object.prototype.hasOwnProperty.call(r,a)){const u=r[a],d=l[a];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?l[a]=i(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${a}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),l[a]=u)}return l}const o=i(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RA="mcp_used/unknown";let DA=!1;function fv(t){for(const e of t)if(LA(e)||typeof e=="object"&&"inputSchema"in e)return!0;return DA}function pv(t){var e;const n=(e=t[Au])!==null&&e!==void 0?e:"";t[Au]=(n+` ${RA}`).trimStart()}function LA(t){return t!==null&&typeof t=="object"&&t instanceof sd}function zA(t,e=100){return Mi(this,arguments,function*(){let i,o=0;for(;o<e;){const s=yield oe(t.listTools({cursor:i}));for(const r of s.tools)yield yield oe(r),o++;if(!s.nextCursor)break;i=s.nextCursor}})}class sd{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new sd(e,n)}async initialize(){var e,n,i,o;if(this.mcpTools.length>0)return;const s={},r=[];for(const d of this.mcpClients)try{for(var l=!0,a=(n=void 0,Oo(zA(d))),u;u=await a.next(),e=u.done,!e;l=!0){o=u.value,l=!1;const h=o;r.push(h);const m=h.name;if(s[m])throw new Error(`Duplicate function name ${m} found in MCP tools. Please ensure function names are unique.`);s[m]=d}}catch(h){n={error:h}}finally{try{!l&&!e&&(i=a.return)&&await i.call(a)}finally{if(n)throw n.error}}this.mcpTools=r,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),bE(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[i.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const r=await o.callTool({name:i.name,arguments:i.args},void 0,s);n.push({functionResponse:{name:i.name,response:r.isError?{error:r}:r}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function FA(t,e,n){const i=new _E;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(i,o),e(i)}class UA{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),r=HA(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),a=`${o}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${l}`;let u=()=>{};const d=new Promise(y=>{u=y}),h=e.callbacks,m=function(){u({})},g=this.apiClient,x={onopen:m,onmessage:y=>{FA(g,h.onmessage,y)},onerror:(n=h==null?void 0:h.onerror)!==null&&n!==void 0?n:function(y){},onclose:(i=h==null?void 0:h.onclose)!==null&&i!==void 0?i:function(y){}},v=this.webSocketFactory.create(a,VA(r),x);v.connect(),await d;const _={setup:{model:J(this.apiClient,e.model)}};return v.send(JSON.stringify(_)),new BA(v,this.apiClient)}}class BA{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=k2(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=T2(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Si.PLAY)}pause(){this.sendPlaybackControl(Si.PAUSE)}stop(){this.sendPlaybackControl(Si.STOP)}resetContext(){this.sendPlaybackControl(Si.RESET_CONTEXT)}close(){this.conn.close()}}function VA(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function HA(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OA="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function qA(t,e,n){const i=new yE;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const s=JSON.parse(o);if(t.isVertexAI()){const r=b2(s);Object.assign(i,r)}else Object.assign(i,s);e(i)}class GA{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new UA(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,o,s,r,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const a=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const h=this.apiClient.getHeaders();e.config&&e.config.tools&&fv(e.config.tools)&&pv(h);const m=JA(h);if(this.apiClient.isVertexAI())d=`${a}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(m,d);else{const N=this.apiClient.getApiKey();let A="BidiGenerateContent",E="key";N!=null&&N.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),A="BidiGenerateContentConstrained",E="access_token"),d=`${a}/ws/google.ai.generativelanguage.${u}.GenerativeService.${A}?${E}=${N}`}let g=()=>{};const x=new Promise(N=>{g=N}),v=e.callbacks,w=function(){var N;(N=v==null?void 0:v.onopen)===null||N===void 0||N.call(v),g({})},S=this.apiClient,_={onopen:w,onmessage:N=>{qA(S,v.onmessage,N)},onerror:(n=v==null?void 0:v.onerror)!==null&&n!==void 0?n:function(N){},onclose:(i=v==null?void 0:v.onclose)!==null&&i!==void 0?i:function(N){}},y=this.webSocketFactory.create(d,jA(m),_);y.connect(),await x;let C=J(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const N=this.apiClient.getProject(),A=this.apiClient.getLocation();C=`projects/${N}/locations/${A}/`+C}let T={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Xr.AUDIO]}:e.config.responseModalities=[Xr.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const k=(l=(r=e.config)===null||r===void 0?void 0:r.tools)!==null&&l!==void 0?l:[],I=[];for(const N of k)if(this.isCallableTool(N)){const A=N;I.push(await A.tool())}else I.push(N);I.length>0&&(e.config.tools=I);const b={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?T=C2(this.apiClient,b):T=w2(this.apiClient,b),delete T.config,y.send(JSON.stringify(T)),new WA(y,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const $A={turnComplete:!0};class WA{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=ct(n.turns),e.isVertexAI()||(i=i.map(o=>bl(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const s of i){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(OA)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},$A),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:I2(e)}:n={realtimeInput:E2(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function jA(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function JA(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lm=10;function am(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const r of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Ri(r)){o=!0;break}if(!o)return!0;const s=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Ri(t){return"callTool"in t&&typeof t.callTool=="function"}function YA(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>Ri(o)))!==null&&i!==void 0?i:!1}function um(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((i,o)=>{if(Ri(i))return;const s=i;s.functionDeclarations&&s.functionDeclarations.length>0&&n.push(o)}),n}function cm(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KA extends Xt{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,o,s,r,l;const a=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!YA(n)||am(n.config))return await this.generateContentInternal(a);const u=um(n);if(u.length>0){const v=u.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${v}.`)}let d,h;const m=ct(a.contents),g=(s=(o=(i=a.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&s!==void 0?s:lm;let x=0;for(;x<g&&(d=await this.generateContentInternal(a),!(!d.functionCalls||d.functionCalls.length===0));){const v=d.candidates[0].content,w=[];for(const S of(l=(r=n.config)===null||r===void 0?void 0:r.tools)!==null&&l!==void 0?l:[])if(Ri(S)){const y=await S.callTool(d.functionCalls);w.push(...y)}x++,h={role:"user",parts:w},a.contents=ct(a.contents),a.contents.push(v),a.contents.push(h),cm(a.config)&&(m.push(v),m.push(h))}return cm(a.config)&&(d.automaticFunctionCallingHistory=m),d},this.generateContentStream=async n=>{var i,o,s,r,l;if(this.maybeMoveToResponseJsonSchem(n),am(n.config)){const h=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(h)}const a=um(n);if(a.length>0){const h=a.map(m=>`tools[${m}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(s=(o=(i=n==null?void 0:n.config)===null||i===void 0?void 0:i.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,d=(l=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||l===void 0?void 0:l.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var o;let s;const r=[];if(i!=null&&i.generatedImages)for(const a of i.generatedImages)a&&(a!=null&&a.safetyAttributes)&&((o=a==null?void 0:a.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?s=a==null?void 0:a.safetyAttributes:r.push(a);let l;return s?l={generatedImages:r,positivePromptSafetyAttributes:s,sdkHttpResponse:i.sdkHttpResponse}:l={generatedImages:r,sdkHttpResponse:i.sdkHttpResponse},l}),this.list=async n=>{var i;const r={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!r.config.queryBase){if(!((i=r.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");r.config.filter="labels.tune-type:*"}return new si(Yt.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(r),r)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var i,o,s,r,l,a;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((o=n.video)===null||o===void 0)&&o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((r=(s=n.source)===null||s===void 0?void 0:s.video)===null||r===void 0)&&r.uri&&(!((a=(l=n.source)===null||l===void 0?void 0:l.video)===null||a===void 0)&&a.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,o;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const r=await Promise.all(s.map(async a=>Ri(a)?await a.tool():a)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:r})};if(l.config.tools=r,e.config&&e.config.tools&&fv(e.config.tools)){const a=(o=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let u=Object.assign({},a);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),pv(u),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return l}async initAfcToolsMap(e){var n,i,o;const s=new Map;for(const r of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(Ri(r)){const l=r,a=await l.tool();for(const u of(o=a.functionDeclarations)!==null&&o!==void 0?o:[]){if(!u.name)throw new Error("Function declaration name is required.");if(s.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);s.set(u.name,l)}}return s}async processAfcStream(e){var n,i,o;const s=(o=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:lm;let r=!1,l=0;const a=await this.initAfcToolsMap(e);return function(u,d,h){var m,g;return Mi(this,arguments,function*(){for(var x,v,w,S;l<s;){r&&(l++,r=!1);const T=yield oe(u.processParamsMaybeAddMcpUsage(h)),k=yield oe(u.generateContentStreamInternal(T)),I=[],b=[];try{for(var _=!0,y=(v=void 0,Oo(k)),C;C=yield oe(y.next()),x=C.done,!x;_=!0){S=C.value,_=!1;const N=S;if(yield yield oe(N),N.candidates&&(!((m=N.candidates[0])===null||m===void 0)&&m.content)){b.push(N.candidates[0].content);for(const A of(g=N.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(l<s&&A.functionCall){if(!A.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(A.functionCall.name)){const E=yield oe(d.get(A.functionCall.name).callTool([A.functionCall]));I.push(...E)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${A.functionCall.name}`)}}}}catch(N){v={error:N}}finally{try{!_&&!x&&(w=y.return)&&(yield oe(w.call(y)))}finally{if(v)throw v.error}}if(I.length>0){r=!0;const N=new xo;N.candidates=[{content:{role:"user",parts:I}}],yield yield oe(N);const A=[];A.push(...b),A.push({role:"user",parts:I});const E=ct(h.contents).concat(A);h.contents=E}else break}})}(this,a,e)}async generateContentInternal(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=nm(this.apiClient,e);return l=z("{model}:generateContent",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=om(d),m=new xo;return Object.assign(m,h),m})}else{const u=tm(this.apiClient,e);return l=z("{model}:generateContent",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=im(d),m=new xo;return Object.assign(m,h),m})}}async generateContentStreamInternal(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=nm(this.apiClient,e);return l=z("{model}:streamGenerateContent?alt=sse",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.requestStream({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),r.then(function(h){return Mi(this,arguments,function*(){var m,g,x,v;try{for(var w=!0,S=Oo(h),_;_=yield oe(S.next()),m=_.done,!m;w=!0){v=_.value,w=!1;const y=v,C=om(yield oe(y.json()));C.sdkHttpResponse={headers:y.headers};const T=new xo;Object.assign(T,C),yield yield oe(T)}}catch(y){g={error:y}}finally{try{!w&&!m&&(x=S.return)&&(yield oe(x.call(S)))}finally{if(g)throw g.error}}})})}else{const u=tm(this.apiClient,e);return l=z("{model}:streamGenerateContent?alt=sse",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.requestStream({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),r.then(function(h){return Mi(this,arguments,function*(){var m,g,x,v;try{for(var w=!0,S=Oo(h),_;_=yield oe(S.next()),m=_.done,!m;w=!0){v=_.value,w=!1;const y=v,C=im(yield oe(y.json()));C.sdkHttpResponse={headers:y.headers};const T=new xo;Object.assign(T,C),yield yield oe(T)}}catch(y){g={error:y}}finally{try{!w&&!m&&(x=S.return)&&(yield oe(x.call(S)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=ob(this.apiClient,e);return l=z("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=rb(d),m=new Bh;return Object.assign(m,h),m})}else{const u=ib(this.apiClient,e);return l=z("{model}:batchEmbedContents",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=sb(d),m=new Bh;return Object.assign(m,h),m})}}async generateImagesInternal(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=xb(this.apiClient,e);return l=z("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=yb(d),m=new Vh;return Object.assign(m,h),m})}else{const u=gb(this.apiClient,e);return l=z("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=vb(d),m=new Vh;return Object.assign(m,h),m})}}async editImageInternal(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI()){const l=Z2(this.apiClient,e);return s=z("{model}:predict",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:a.headers},d})),o.then(a=>{const u=eb(a),d=new aE;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI()){const l=xA(this.apiClient,e);return s=z("{model}:predict",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:a.headers},d})),o.then(a=>{const u=vA(a),d=new uE;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI()){const l=Xb(this.apiClient,e);return s=z("{model}:predict",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json()),o.then(a=>{const u=Zb(a),d=new cE;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI()){const l=sA(this.apiClient,e);return s=z("{model}:predict",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json()),o.then(a=>{const u=rA(a),d=new dE;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=zb(this.apiClient,e);return l=z("{name}",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>bu(d))}else{const u=Lb(this.apiClient,e);return l=z("{name}",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>Iu(d))}}async listInternal(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=$b(this.apiClient,e);return l=z("{models_url}",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=jb(d),m=new Hh;return Object.assign(m,h),m})}else{const u=Gb(this.apiClient,e);return l=z("{models_url}",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=Wb(d),m=new Hh;return Object.assign(m,h),m})}}async update(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=mA(this.apiClient,e);return l=z("{model}",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>bu(d))}else{const u=hA(this.apiClient,e);return l=z("{name}",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>Iu(d))}}async delete(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=Y2(this.apiClient,e);return l=z("{name}",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=Q2(d),m=new Oh;return Object.assign(m,h),m})}else{const u=J2(this.apiClient,e);return l=z("{name}",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=K2(d),m=new Oh;return Object.assign(m,h),m})}}async countTokens(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=$2(this.apiClient,e);return l=z("{model}:countTokens",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=j2(d),m=new qh;return Object.assign(m,h),m})}else{const u=G2(this.apiClient,e);return l=z("{model}:countTokens",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=W2(d),m=new qh;return Object.assign(m,h),m})}}async computeTokens(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI()){const l=F2(this.apiClient,e);return s=z("{model}:computeTokens",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:a.headers},d})),o.then(a=>{const u=U2(a),d=new fE;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=kb(this.apiClient,e);return l=z("{model}:predictLongRunning",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const h=Cb(d),m=new Zr;return Object.assign(m,h),m})}else{const u=Tb(this.apiClient,e);return l=z("{model}:predictLongRunning",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r.then(d=>{const h=wb(d),m=new Zr;return Object.assign(m,h),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QA extends Xt{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let s;i&&"httpOptions"in i&&(s=i.httpOptions);const r=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let s;i&&"httpOptions"in i&&(s=i.httpOptions);const r=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=nE(e);return l=z("{operationName}",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r}else{const u=tE(e);return l=z("{operationName}",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),r}}async fetchPredictVideosOperationInternal(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI()){const l=Jk(e);return s=z("{resourceName}:fetchPredictOperation",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XA(t){const e={},n=c(t,["data"]);if(n!=null&&f(e,["data"],n),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function ZA(t){const e={},n=c(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>aN(s))),f(e,["parts"],o)}const i=c(t,["role"]);return i!=null&&f(e,["role"],i),e}function eN(t,e,n){const i={},o=c(e,["expireTime"]);n!==void 0&&o!=null&&f(n,["expireTime"],o);const s=c(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&f(n,["newSessionExpireTime"],s);const r=c(e,["uses"]);n!==void 0&&r!=null&&f(n,["uses"],r);const l=c(e,["liveConnectConstraints"]);n!==void 0&&l!=null&&f(n,["bidiGenerateContentSetup"],lN(t,l));const a=c(e,["lockAdditionalFields"]);return n!==void 0&&a!=null&&f(n,["fieldMask"],a),i}function tN(t,e){const n={},i=c(e,["config"]);return i!=null&&f(n,["config"],eN(t,i,n)),n}function nN(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function iN(t){const e={},n=c(t,["id"]);n!=null&&f(e,["id"],n);const i=c(t,["args"]);i!=null&&f(e,["args"],i);const o=c(t,["name"]);if(o!=null&&f(e,["name"],o),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function oN(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(t,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function sN(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function rN(t,e){const n={},i=c(t,["generationConfig"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig"],i);const o=c(t,["responseModalities"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig","responseModalities"],o);const s=c(t,["temperature"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig","temperature"],s);const r=c(t,["topP"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig","topP"],r);const l=c(t,["topK"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","topK"],l);const a=c(t,["maxOutputTokens"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","maxOutputTokens"],a);const u=c(t,["mediaResolution"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","mediaResolution"],u);const d=c(t,["seed"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","seed"],d);const h=c(t,["speechConfig"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","speechConfig"],od(h));const m=c(t,["thinkingConfig"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","thinkingConfig"],m);const g=c(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],g);const x=c(t,["systemInstruction"]);e!==void 0&&x!=null&&f(e,["setup","systemInstruction"],ZA(Ne(x)));const v=c(t,["tools"]);if(e!==void 0&&v!=null){let k=Qi(v);Array.isArray(k)&&(k=k.map(I=>cN(Ki(I)))),f(e,["setup","tools"],k)}const w=c(t,["sessionResumption"]);e!==void 0&&w!=null&&f(e,["setup","sessionResumption"],uN(w));const S=c(t,["inputAudioTranscription"]);e!==void 0&&S!=null&&f(e,["setup","inputAudioTranscription"],S);const _=c(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&f(e,["setup","outputAudioTranscription"],_);const y=c(t,["realtimeInputConfig"]);e!==void 0&&y!=null&&f(e,["setup","realtimeInputConfig"],y);const C=c(t,["contextWindowCompression"]);e!==void 0&&C!=null&&f(e,["setup","contextWindowCompression"],C);const T=c(t,["proactivity"]);return e!==void 0&&T!=null&&f(e,["setup","proactivity"],T),n}function lN(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["setup","model"],J(t,i));const o=c(e,["config"]);return o!=null&&f(n,["config"],rN(o,n)),n}function aN(t){const e={},n=c(t,["mediaResolution"]);n!=null&&f(e,["mediaResolution"],n);const i=c(t,["codeExecutionResult"]);i!=null&&f(e,["codeExecutionResult"],i);const o=c(t,["executableCode"]);o!=null&&f(e,["executableCode"],o);const s=c(t,["fileData"]);s!=null&&f(e,["fileData"],nN(s));const r=c(t,["functionCall"]);r!=null&&f(e,["functionCall"],iN(r));const l=c(t,["functionResponse"]);l!=null&&f(e,["functionResponse"],l);const a=c(t,["inlineData"]);a!=null&&f(e,["inlineData"],XA(a));const u=c(t,["text"]);u!=null&&f(e,["text"],u);const d=c(t,["thought"]);d!=null&&f(e,["thought"],d);const h=c(t,["thoughtSignature"]);h!=null&&f(e,["thoughtSignature"],h);const m=c(t,["videoMetadata"]);return m!=null&&f(e,["videoMetadata"],m),e}function uN(t){const e={},n=c(t,["handle"]);if(n!=null&&f(e,["handle"],n),c(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function cN(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),f(e,["functionDeclarations"],d)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(t,["googleSearchRetrieval"]);i!=null&&f(e,["googleSearchRetrieval"],i);const o=c(t,["computerUse"]);o!=null&&f(e,["computerUse"],o);const s=c(t,["fileSearch"]);s!=null&&f(e,["fileSearch"],s);const r=c(t,["codeExecution"]);if(r!=null&&f(e,["codeExecution"],r),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=c(t,["googleMaps"]);l!=null&&f(e,["googleMaps"],oN(l));const a=c(t,["googleSearch"]);a!=null&&f(e,["googleSearch"],sN(a));const u=c(t,["urlContext"]);return u!=null&&f(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dN(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const o=Object.keys(i).map(s=>`${n}.${s}`);e.push(...o)}else e.push(n)}return e.join(",")}function fN(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const s=i.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const s=dN(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const r=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];o.length>0&&(l=o.map(u=>r.includes(u)?`generationConfig.${u}`:u));const a=[];s&&a.push(s),l.length>0&&a.push(...l),a.length>0?t.fieldMask=a.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class pN extends Xt{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=tN(this.apiClient,e);s=z("auth_tokens",l._url),r=l._query,delete l.config,delete l._url,delete l._query;const a=fN(l,e.config);return o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),o.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hN(t,e){const n={},i=c(t,["displayName"]);return e!==void 0&&i!=null&&f(e,["displayName"],i),n}function mN(t){const e={},n=c(t,["config"]);return n!=null&&hN(n,e),e}function gN(t,e){const n={},i=c(t,["force"]);return e!==void 0&&i!=null&&f(e,["_query","force"],i),n}function xN(t){const e={},n=c(t,["name"]);n!=null&&f(e,["_url","name"],n);const i=c(t,["config"]);return i!=null&&gN(i,e),e}function vN(t){const e={},n=c(t,["name"]);return n!=null&&f(e,["_url","name"],n),e}function yN(t,e){const n={},i=c(t,["customMetadata"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(r=>r)),f(e,["customMetadata"],s)}const o=c(t,["chunkingConfig"]);return e!==void 0&&o!=null&&f(e,["chunkingConfig"],o),n}function _N(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["metadata"]);i!=null&&f(e,["metadata"],i);const o=c(t,["done"]);o!=null&&f(e,["done"],o);const s=c(t,["error"]);s!=null&&f(e,["error"],s);const r=c(t,["response"]);return r!=null&&f(e,["response"],wN(r)),e}function SN(t){const e={},n=c(t,["fileSearchStoreName"]);n!=null&&f(e,["_url","file_search_store_name"],n);const i=c(t,["fileName"]);i!=null&&f(e,["fileName"],i);const o=c(t,["config"]);return o!=null&&yN(o,e),e}function wN(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["parent"]);i!=null&&f(e,["parent"],i);const o=c(t,["documentName"]);return o!=null&&f(e,["documentName"],o),e}function CN(t,e){const n={},i=c(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const o=c(t,["pageToken"]);return e!==void 0&&o!=null&&f(e,["_query","pageToken"],o),n}function TN(t){const e={},n=c(t,["config"]);return n!=null&&CN(n,e),e}function kN(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const o=c(t,["fileSearchStores"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),f(e,["fileSearchStores"],s)}return e}function EN(t,e){const n={},i=c(t,["mimeType"]);e!==void 0&&i!=null&&f(e,["mimeType"],i);const o=c(t,["displayName"]);e!==void 0&&o!=null&&f(e,["displayName"],o);const s=c(t,["customMetadata"]);if(e!==void 0&&s!=null){let l=s;Array.isArray(l)&&(l=l.map(a=>a)),f(e,["customMetadata"],l)}const r=c(t,["chunkingConfig"]);return e!==void 0&&r!=null&&f(e,["chunkingConfig"],r),n}function IN(t){const e={},n=c(t,["fileSearchStoreName"]);n!=null&&f(e,["_url","file_search_store_name"],n);const i=c(t,["config"]);return i!=null&&EN(i,e),e}function bN(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AN(t,e){const n={},i=c(t,["force"]);return e!==void 0&&i!=null&&f(e,["_query","force"],i),n}function NN(t){const e={},n=c(t,["name"]);n!=null&&f(e,["_url","name"],n);const i=c(t,["config"]);return i!=null&&AN(i,e),e}function PN(t){const e={},n=c(t,["name"]);return n!=null&&f(e,["_url","name"],n),e}function MN(t,e){const n={},i=c(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const o=c(t,["pageToken"]);return e!==void 0&&o!=null&&f(e,["_query","pageToken"],o),n}function RN(t){const e={},n=c(t,["parent"]);n!=null&&f(e,["_url","parent"],n);const i=c(t,["config"]);return i!=null&&MN(i,e),e}function DN(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const o=c(t,["documents"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),f(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LN extends Xt{constructor(e){super(),this.apiClient=e,this.list=async n=>new si(Yt.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=PN(e);return s=z("{name}",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json()),o.then(a=>a)}}async delete(e){var n,i;let o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=NN(e);o=z("{name}",r._url),s=r._query,delete r._url,delete r._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=RN(e);return s=z("{parent}/documents",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json()),o.then(a=>{const u=DN(a),d=new pE;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zN extends Xt{constructor(e,n=new LN(e)){super(),this.apiClient=e,this.documents=n,this.list=async(i={})=>new si(Yt.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=mN(e);return s=z("fileSearchStores",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json()),o.then(a=>a)}}async get(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=vN(e);return s=z("{name}",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json()),o.then(a=>a)}}async delete(e){var n,i;let o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=xN(e);o=z("{name}",r._url),s=r._query,delete r._url,delete r._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=TN(e);return s=z("fileSearchStores",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json()),o.then(a=>{const u=kN(a),d=new hE;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=IN(e);return s=z("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json()),o.then(a=>{const u=bN(a),d=new mE;return Object.assign(d,u),d})}}async importFile(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=SN(e);return s=z("{file_search_store_name}:importFile",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json()),o.then(a=>{const u=_N(a),d=new Zc;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FN(t,e){const n={},i=c(t,["name"]);return i!=null&&f(n,["_url","name"],i),n}function UN(t,e){const n={},i=c(t,["name"]);return i!=null&&f(n,["_url","name"],i),n}function BN(t,e,n){const i={};if(c(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=c(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&f(e,["displayName"],o),c(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=c(t,["epochCount"]);e!==void 0&&s!=null&&f(e,["tuningTask","hyperparameters","epochCount"],s);const r=c(t,["learningRateMultiplier"]);if(r!=null&&f(i,["tuningTask","hyperparameters","learningRateMultiplier"],r),c(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=c(t,["batchSize"]);e!==void 0&&l!=null&&f(e,["tuningTask","hyperparameters","batchSize"],l);const a=c(t,["learningRate"]);if(e!==void 0&&a!=null&&f(e,["tuningTask","hyperparameters","learningRate"],a),c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function VN(t,e,n){const i={};let o=c(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const g=c(t,["validationDataset"]);e!==void 0&&g!=null&&f(e,["supervisedTuningSpec"],dm(g))}else if(o==="PREFERENCE_TUNING"){const g=c(t,["validationDataset"]);e!==void 0&&g!=null&&f(e,["preferenceOptimizationSpec"],dm(g))}const s=c(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&f(e,["tunedModelDisplayName"],s);const r=c(t,["description"]);e!==void 0&&r!=null&&f(e,["description"],r);let l=c(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const g=c(t,["epochCount"]);e!==void 0&&g!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(l==="PREFERENCE_TUNING"){const g=c(t,["epochCount"]);e!==void 0&&g!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let a=c(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const g=c(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(a==="PREFERENCE_TUNING"){const g=c(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let u=c(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const g=c(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(u==="PREFERENCE_TUNING"){const g=c(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&f(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let d=c(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const g=c(t,["adapterSize"]);e!==void 0&&g!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(d==="PREFERENCE_TUNING"){const g=c(t,["adapterSize"]);e!==void 0&&g!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(c(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=c(t,["labels"]);e!==void 0&&h!=null&&f(e,["labels"],h);const m=c(t,["beta"]);return e!==void 0&&m!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","beta"],m),i}function HN(t,e){const n={},i=c(t,["baseModel"]);i!=null&&f(n,["baseModel"],i);const o=c(t,["preTunedModel"]);o!=null&&f(n,["preTunedModel"],o);const s=c(t,["trainingDataset"]);s!=null&&XN(s);const r=c(t,["config"]);return r!=null&&BN(r,n),n}function ON(t,e){const n={},i=c(t,["baseModel"]);i!=null&&f(n,["baseModel"],i);const o=c(t,["preTunedModel"]);o!=null&&f(n,["preTunedModel"],o);const s=c(t,["trainingDataset"]);s!=null&&ZN(s,n,e);const r=c(t,["config"]);return r!=null&&VN(r,n,e),n}function qN(t,e){const n={},i=c(t,["name"]);return i!=null&&f(n,["_url","name"],i),n}function GN(t,e){const n={},i=c(t,["name"]);return i!=null&&f(n,["_url","name"],i),n}function $N(t,e,n){const i={},o=c(t,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const s=c(t,["pageToken"]);e!==void 0&&s!=null&&f(e,["_query","pageToken"],s);const r=c(t,["filter"]);return e!==void 0&&r!=null&&f(e,["_query","filter"],r),i}function WN(t,e,n){const i={},o=c(t,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const s=c(t,["pageToken"]);e!==void 0&&s!=null&&f(e,["_query","pageToken"],s);const r=c(t,["filter"]);return e!==void 0&&r!=null&&f(e,["_query","filter"],r),i}function jN(t,e){const n={},i=c(t,["config"]);return i!=null&&$N(i,n),n}function JN(t,e){const n={},i=c(t,["config"]);return i!=null&&WN(i,n),n}function YN(t,e){const n={},i=c(t,["sdkHttpResponse"]);i!=null&&f(n,["sdkHttpResponse"],i);const o=c(t,["nextPageToken"]);o!=null&&f(n,["nextPageToken"],o);const s=c(t,["tunedModels"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(l=>hv(l))),f(n,["tuningJobs"],r)}return n}function KN(t,e){const n={},i=c(t,["sdkHttpResponse"]);i!=null&&f(n,["sdkHttpResponse"],i);const o=c(t,["nextPageToken"]);o!=null&&f(n,["nextPageToken"],o);const s=c(t,["tuningJobs"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(l=>Nu(l))),f(n,["tuningJobs"],r)}return n}function QN(t,e){const n={},i=c(t,["name"]);i!=null&&f(n,["model"],i);const o=c(t,["name"]);return o!=null&&f(n,["endpoint"],o),n}function XN(t,e){const n={};if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=c(t,["examples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),f(n,["examples","examples"],o)}return n}function ZN(t,e,n){const i={};let o=c(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const r=c(t,["gcsUri"]);e!==void 0&&r!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],r)}else if(o==="PREFERENCE_TUNING"){const r=c(t,["gcsUri"]);e!==void 0&&r!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],r)}let s=c(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const r=c(t,["vertexDatasetResource"]);e!==void 0&&r!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],r)}else if(s==="PREFERENCE_TUNING"){const r=c(t,["vertexDatasetResource"]);e!==void 0&&r!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],r)}if(c(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function hv(t,e){const n={},i=c(t,["sdkHttpResponse"]);i!=null&&f(n,["sdkHttpResponse"],i);const o=c(t,["name"]);o!=null&&f(n,["name"],o);const s=c(t,["state"]);s!=null&&f(n,["state"],Yx(s));const r=c(t,["createTime"]);r!=null&&f(n,["createTime"],r);const l=c(t,["tuningTask","startTime"]);l!=null&&f(n,["startTime"],l);const a=c(t,["tuningTask","completeTime"]);a!=null&&f(n,["endTime"],a);const u=c(t,["updateTime"]);u!=null&&f(n,["updateTime"],u);const d=c(t,["description"]);d!=null&&f(n,["description"],d);const h=c(t,["baseModel"]);h!=null&&f(n,["baseModel"],h);const m=c(t,["_self"]);return m!=null&&f(n,["tunedModel"],QN(m)),n}function Nu(t,e){const n={},i=c(t,["sdkHttpResponse"]);i!=null&&f(n,["sdkHttpResponse"],i);const o=c(t,["name"]);o!=null&&f(n,["name"],o);const s=c(t,["state"]);s!=null&&f(n,["state"],Yx(s));const r=c(t,["createTime"]);r!=null&&f(n,["createTime"],r);const l=c(t,["startTime"]);l!=null&&f(n,["startTime"],l);const a=c(t,["endTime"]);a!=null&&f(n,["endTime"],a);const u=c(t,["updateTime"]);u!=null&&f(n,["updateTime"],u);const d=c(t,["error"]);d!=null&&f(n,["error"],d);const h=c(t,["description"]);h!=null&&f(n,["description"],h);const m=c(t,["baseModel"]);m!=null&&f(n,["baseModel"],m);const g=c(t,["tunedModel"]);g!=null&&f(n,["tunedModel"],g);const x=c(t,["preTunedModel"]);x!=null&&f(n,["preTunedModel"],x);const v=c(t,["supervisedTuningSpec"]);v!=null&&f(n,["supervisedTuningSpec"],v);const w=c(t,["preferenceOptimizationSpec"]);w!=null&&f(n,["preferenceOptimizationSpec"],w);const S=c(t,["tuningDataStats"]);S!=null&&f(n,["tuningDataStats"],S);const _=c(t,["encryptionSpec"]);_!=null&&f(n,["encryptionSpec"],_);const y=c(t,["partnerModelTuningSpec"]);y!=null&&f(n,["partnerModelTuningSpec"],y);const C=c(t,["customBaseModel"]);C!=null&&f(n,["customBaseModel"],C);const T=c(t,["experiment"]);T!=null&&f(n,["experiment"],T);const k=c(t,["labels"]);k!=null&&f(n,["labels"],k);const I=c(t,["outputUri"]);I!=null&&f(n,["outputUri"],I);const b=c(t,["pipelineJob"]);b!=null&&f(n,["pipelineJob"],b);const N=c(t,["serviceAccount"]);N!=null&&f(n,["serviceAccount"],N);const A=c(t,["tunedModelDisplayName"]);A!=null&&f(n,["tunedModelDisplayName"],A);const E=c(t,["veoTuningSpec"]);return E!=null&&f(n,["veoTuningSpec"],E),n}function eP(t,e){const n={},i=c(t,["sdkHttpResponse"]);i!=null&&f(n,["sdkHttpResponse"],i);const o=c(t,["name"]);o!=null&&f(n,["name"],o);const s=c(t,["metadata"]);s!=null&&f(n,["metadata"],s);const r=c(t,["done"]);r!=null&&f(n,["done"],r);const l=c(t,["error"]);return l!=null&&f(n,["error"],l),n}function dm(t,e){const n={},i=c(t,["gcsUri"]);i!=null&&f(n,["validationDatasetUri"],i);const o=c(t,["vertexDatasetResource"]);return o!=null&&f(n,["validationDatasetUri"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tP extends Xt{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new si(Yt.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const o={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},n),{preTunedModel:o});return s.baseModel=void 0,await this.tuneInternal(s)}else{const o=Object.assign({},n);return await this.tuneInternal(o)}else{const o=Object.assign({},n),s=await this.tuneMldevInternal(o);let r="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?r=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(r=s.name.split("/operations/")[0]),{name:r,state:Cu.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=GN(e);return l=z("{name}",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>Nu(d))}else{const u=qN(e);return l=z("{name}",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>hv(d))}}async listInternal(e){var n,i,o,s;let r,l="",a={};if(this.apiClient.isVertexAI()){const u=JN(e);return l=z("tuningJobs",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=KN(d),m=new Gh;return Object.assign(m,h),m})}else{const u=jN(e);return l=z("tunedModels",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),r.then(d=>{const h=YN(d),m=new Gh;return Object.assign(m,h),m})}}async cancel(e){var n,i,o,s;let r="",l={};if(this.apiClient.isVertexAI()){const a=UN(e);r=z("{name}:cancel",a._url),l=a._query,delete a._url,delete a._query,await this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const a=FN(e);r=z("{name}:cancel",a._url),l=a._query,delete a._url,delete a._query,await this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async tuneInternal(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI()){const l=ON(e,e);return s=z("tuningJobs",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:a.headers},d})),o.then(a=>Nu(a))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let o,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=HN(e);return s=z("tunedModels",l._url),r=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(a=>a.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:a.headers},d})),o.then(a=>eP(a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nP{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const iP=1024*1024*8,oP=3,sP=1e3,rP=2,tl="x-goog-upload-status";async function lP(t,e,n){var i;const o=await mv(t,e,n),s=await(o==null?void 0:o.json());if(((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[tl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function aP(t,e,n){var i;const o=await mv(t,e,n),s=await(o==null?void 0:o.json());if(((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[tl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const r=qx(s),l=new ed;return Object.assign(l,r),l}async function mv(t,e,n){var i,o;let s=0,r=0,l=new Tu(new Response),a="upload";for(s=t.size;r<s;){const u=Math.min(iP,s-r),d=t.slice(r,r+u);r+u>=s&&(a+=", finalize");let h=0,m=sP;for(;h<oP&&(l=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":a,"X-Goog-Upload-Offset":String(r),"Content-Length":String(u)}}}),!(!((i=l==null?void 0:l.headers)===null||i===void 0)&&i[tl]));)h++,await cP(m),m=m*rP;if(r+=u,((o=l==null?void 0:l.headers)===null||o===void 0?void 0:o[tl])!=="active")break;if(s<=r)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return l}async function uP(t){return{size:t.size,type:t.type}}function cP(t){return new Promise(e=>setTimeout(e,t))}class dP{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await lP(e,n,i)}async uploadToFileSearchStore(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await aP(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await uP(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fP{create(e,n,i){return new pP(e,n,i)}}class pP{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fm="x-goog-api-key";class hP{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(fm)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(fm,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mP="gl-node/";class gP{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=Wk(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const o=new hP(this.apiKey);this.apiClient=new PA({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:mP+"web",uploader:new dP,downloader:new nP}),this.models=new KA(this.apiClient),this.live=new GA(this.apiClient,o,new fP),this.batches=new SI(this.apiClient),this.chats=new n2(this.models,this.apiClient),this.caches=new ZI(this.apiClient),this.files=new f2(this.apiClient),this.operations=new QA(this.apiClient),this.authTokens=new pN(this.apiClient),this.tunings=new tP(this.apiClient),this.fileSearchStores=new zN(this.apiClient)}}const xP=async t=>({inlineData:{data:await new Promise(n=>{const i=new FileReader;i.onloadend=()=>n(i.result.split(",")[1]),i.readAsDataURL(t)}),mimeType:t.type}}),vP=({text:t})=>p.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[p.jsx("div",{className:"w-12 h-12 border-4 border-sky-200 border-t-sky-600 rounded-full animate-spin mb-4"}),p.jsx("p",{className:"text-slate-600 font-semibold",children:t})]}),yP=({message:t})=>p.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded-md",role:"alert",children:p.jsxs("div",{className:"flex",children:[p.jsx("div",{className:"py-1",children:p.jsx(ii,{className:"w-6 h-6 text-red-500 mr-3"})}),p.jsxs("div",{children:[p.jsx("p",{className:"font-bold",children:"Errore"}),p.jsx("p",{children:t})]})]})}),_P=({user:t})=>{const[e,n]=R.useState(null),[i,o]=R.useState(""),[s,r]=R.useState(""),[l,a]=R.useState(!1),[u,d]=R.useState("");R.useEffect(()=>()=>{i&&URL.revokeObjectURL(i)},[i]);const h=x=>{var w;const v=(w=x.target.files)==null?void 0:w[0];v&&(n(v),o(URL.createObjectURL(v)),r(""),d(""))},m=async()=>{if(!e){d("Per favore, carica un'immagine prima di avviare l'analisi.");return}a(!0),d(""),r("");try{const x=new gP({apiKey:void 0}),v=await xP(e),S=await x.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[v,{text:`
            Analizza l'immagine di questo referto di analisi del sangue. Fornisci un riassunto chiaro e comprensibile in formato Markdown.
            Per ogni valore significativo:
            1.  Identifica il nome del test (es. Colesterolo HDL, Emoglobina, ecc.).
            2.  Indica il valore misurato e le unit di misura.
            3.  Confronta il valore con i range di riferimento, se presenti nel documento.
            4.  Evidenzia i valori che sono fuori norma (alti o bassi).
            5.  Spiega brevemente e in termini semplici a cosa serve quel test e cosa potrebbe indicare un valore fuori norma.
            
            Termina con un paragrafo di consigli generali per il benessere basati sui risultati, senza fornire diagnosi mediche.
            
            Importante: Includi un disclaimer chiaro alla fine, che specifichi che questa  un'analisi AI, non sostituisce un parere medico, e l'utente deve consultare il proprio medico per una valutazione completa.
            `}]}});r(S.text)}catch(x){console.error(x),d("Si  verificato un errore durante l'analisi. Assicurati che l'immagine sia chiara e riprova.")}finally{a(!1)}},g=()=>{n(null),o(""),r(""),d(""),a(!1)};return p.jsxs("div",{className:"p-4 md:p-8 animate-fade-in",children:[p.jsx("h1",{className:"text-4xl font-bold text-slate-800 mb-2",children:"Analisi Referti Sanguigni con AI"}),p.jsx("p",{className:"text-xl text-slate-600 mb-8",children:"Carica una foto del tuo referto per ottenere un'analisi dettagliata."}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg flex flex-col",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-700 mb-4",children:"1. Carica il tuo referto"}),i?p.jsxs("div",{className:"mt-4 flex flex-col flex-grow",children:[p.jsx("p",{className:"text-sm font-medium text-slate-600 mb-2",children:"Anteprima:"}),p.jsx("div",{className:"flex-grow mb-4 flex items-center justify-center bg-slate-100 rounded-lg",children:e!=null&&e.type.startsWith("image/")?p.jsx("img",{src:i,alt:"Anteprima referto",className:"max-w-full max-h-96 object-contain rounded-lg"}):p.jsxs("div",{className:"p-4 text-center",children:[p.jsx(Su,{className:"w-16 h-16 mx-auto text-slate-500"}),p.jsx("p",{className:"mt-2 font-semibold text-slate-700",children:e==null?void 0:e.name})]})}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-auto",children:[p.jsxs("button",{onClick:m,disabled:l,className:"w-full bg-sky-600 text-white font-bold py-3 px-6 rounded-lg shadow-lg hover:bg-sky-700 focus:outline-none transition-all duration-300 flex items-center justify-center gap-2 disabled:bg-slate-400",children:[p.jsx(Yi,{className:"w-5 h-5"}),p.jsx("span",{children:l?"Analisi in corso...":"Analizza con AI"})]}),p.jsx("button",{onClick:g,disabled:l,className:"w-full bg-slate-200 text-slate-800 font-bold py-3 px-6 rounded-lg hover:bg-slate-300 transition-colors",children:"Cambia File"})]})]}):p.jsxs("div",{className:"relative border-2 border-dashed border-slate-300 rounded-lg p-12 text-center flex-grow flex flex-col justify-center",children:[p.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:h,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer","aria-label":"Carica file"}),p.jsxs("div",{className:"flex flex-col items-center text-slate-500 pointer-events-none",children:[p.jsx(Ox,{className:"w-12 h-12 mb-2"}),p.jsx("p",{className:"font-semibold",children:"Trascina un file qui o clicca per caricare"}),p.jsx("p",{className:"text-sm",children:"Immagini (PNG, JPG) o PDF"})]})]})]}),p.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-700 mb-4",children:"2. Risultati dell'Analisi"}),l&&p.jsx(vP,{text:"L'intelligenza artificiale sta analizzando il tuo documento..."}),u&&p.jsx(yP,{message:u}),s&&p.jsx("div",{className:"prose max-w-none text-slate-700 animate-fade-in",dangerouslySetInnerHTML:{__html:Y.parse(s)}}),!l&&!u&&!s&&p.jsxs("div",{className:"text-center text-slate-500 py-16",children:[p.jsx(Su,{className:"w-16 h-16 mx-auto mb-4 text-slate-400"}),p.jsx("p",{children:"I risultati della tua analisi appariranno qui."})]})]})]})]})},SP=()=>{const t=`https://wa.me/${$i}?text=Vorrei%20unirmi%20al%20gruppo%20benessere!`,e=()=>{window.open(t,"_blank")},n=()=>{window.open(`https://wa.me/${$i}?text=Ciao,%20vorrei%20parlare%20con%20il%20Coach%20per%20una%20consulenza.`,"_blank")};return p.jsxs("div",{className:"p-4 md:p-8 animate-fade-in pb-32 max-w-5xl mx-auto",children:[p.jsxs("div",{className:"mb-10 text-center",children:[p.jsx("h1",{className:"text-4xl font-bold text-slate-800 mb-3",children:"Community & Coaching"}),p.jsx("p",{className:"text-xl text-slate-600 max-w-2xl mx-auto",children:"Non sei solo nel tuo percorso. Unisciti alla nostra community per condividere esperienze o parla direttamente con i nostri esperti."})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl shadow-xl p-8 text-white relative overflow-hidden group",children:[p.jsx("div",{className:"absolute top-0 right-0 -mt-10 -mr-10 w-40 h-40 bg-white opacity-10 rounded-full group-hover:scale-150 transition-transform duration-700"}),p.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[p.jsx("div",{className:"bg-white/20 w-16 h-16 rounded-full flex items-center justify-center mb-6 backdrop-blur-sm",children:p.jsx(M0,{className:"w-8 h-8 text-white"})}),p.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Gruppo Condivisione"}),p.jsx("p",{className:"text-emerald-100 mb-8 flex-grow",children:"Entra nel nostro gruppo esclusivo. Condividi i tuoi traguardi, scambia ricette e consigli sui livelli del percorso benessere. La motivazione nasce dalla condivisione!"}),p.jsxs("button",{onClick:e,className:"w-full bg-white text-emerald-600 font-bold py-3 px-6 rounded-xl shadow-lg hover:bg-emerald-50 transition-colors flex items-center justify-center gap-2",children:[p.jsx(Qr,{className:"w-5 h-5"}),"Unisciti al Gruppo"]})]})]}),p.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-slate-200 relative overflow-hidden group",children:[p.jsx("div",{className:"absolute top-0 right-0 -mt-10 -mr-10 w-40 h-40 bg-sky-100 opacity-50 rounded-full group-hover:scale-150 transition-transform duration-700"}),p.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[p.jsx("div",{className:"bg-sky-100 w-16 h-16 rounded-full flex items-center justify-center mb-6",children:p.jsx(Yi,{className:"w-8 h-8 text-sky-600"})}),p.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Il tuo Coach"}),p.jsx("p",{className:"text-slate-600 mb-8 flex-grow",children:"Hai dubbi su un esercizio? Vuoi personalizzare il tuo percorso o fissare un appuntamento 1-to-1? Parla direttamente con il tuo coach dedicato."}),p.jsxs("button",{onClick:n,className:"w-full bg-sky-600 text-white font-bold py-3 px-6 rounded-xl shadow-lg hover:bg-sky-700 transition-colors flex items-center justify-center gap-2",children:[p.jsx(Qr,{className:"w-5 h-5"}),"Chatta con il Coach"]})]})]})]}),p.jsx("div",{className:"mt-12 bg-slate-100 rounded-xl p-6 text-center text-slate-500 text-sm",children:p.jsxs("p",{children:["La comunicazione avviene tramite WhatsApp per garantirti la massima semplicit e privacy.",p.jsx("br",{}),"Il gruppo  moderato da professionisti di Clinical Wellness Spa."]})})]})},wP=()=>{const[t,e]=R.useState(null),[n,i]=R.useState("home"),[o,s]=R.useState(!1),[r,l]=R.useState(null),[a,u]=R.useState(bi),[d,h]=R.useState(!1),[m,g]=R.useState(null),[x,v]=R.useState(null),w=R.useCallback(()=>{const A=he("customWellnessProgramsData",null);if(A&&Object.keys(A).length>0)u(A);else{try{localStorage.setItem("customWellnessProgramsData",JSON.stringify(bi))}catch(E){console.error("Failed to save default wellness data:",E)}u(bi)}},[]);R.useEffect(()=>{const A=he("user",null);A&&(e(A),(!A.age||!A.gender)&&h(!0)),w()},[w]);const S=A=>{e(A),localStorage.setItem("user",JSON.stringify(A)),(!A.age||!A.gender)&&h(!0),i("home")},_=A=>{e(A),localStorage.setItem("user",JSON.stringify(A)),h(!1),T("Profilo aggiornato con successo!","success")},y=()=>{e(null),localStorage.removeItem("user"),i("home")},C=A=>{g(null),v(null),i(A)},T=(A,E="success")=>{l({message:A,type:E})},k=A=>{g(A),v(null)},I=A=>{if(!m||!t)return;const E={id:m,score:A,date:new Date().toISOString()},P=`assessmentHistory_${t.email}_${m}`,D=he(P,[]);D.push(E),localStorage.setItem(P,JSON.stringify(D)),v({id:m,score:A}),g(null)},b=()=>{x&&(g(x.id),v(null))};if(!t)return p.jsx(sS,{onLogin:S});const N=()=>{if(m)return p.jsx(pS,{assessment:Gt[m],onComplete:I});if(x)return p.jsx(YS,{assessment:Gt[x.id],score:x.score,onRetake:b,onBackToHome:()=>C("assessments")});switch(n){case"home":return p.jsx(vf,{user:t,onNavigate:C});case"profile":return p.jsx(cS,{user:t,onLogout:y,onNavigate:C});case"assessments":return p.jsx(fS,{user:t,onStartAssessment:k,onNavigate:C});case"dashboard":return p.jsx(bk,{user:t,onNavigate:C});case"wellnessRoutine":return p.jsx(Nk,{user:t,showNotification:T,wellnessData:a});case"breathing":return p.jsx(Pk,{});case"spaBookings":return p.jsx(Dk,{user:t,showNotification:T});case"pharmacyServices":return p.jsx(Lk,{user:t,showNotification:T});case"bloodAnalysis":return p.jsx(_P,{user:t});case"analysisQuote":return p.jsx(Bk,{user:t,showNotification:T,onNavigate:C});case"prescriptions":return p.jsx(Hk,{user:t,showNotification:T});case"manualUnlock":return p.jsx(Vk,{user:t,onNavigate:C,showNotification:T,wellnessData:a});case"adminSettings":return p.jsx(Ok,{onSettingsSaved:w,showNotification:T});case"community":return p.jsx(SP,{});default:return p.jsx(vf,{user:t,onNavigate:C})}};return p.jsxs("div",{className:"flex h-screen bg-slate-50",children:[r&&p.jsx(tS,{notification:r,onClose:()=>l(null)}),d&&p.jsx(iS,{user:t,onSave:_}),p.jsx(eS,{user:t,currentPage:n,onNavigate:C,onLogout:y,isOpen:o,setIsOpen:s}),p.jsxs("main",{className:"flex-1 overflow-y-auto md:ml-64",children:[p.jsx("button",{onClick:()=>s(!o),className:"md:hidden fixed top-4 right-4 z-50 p-2 bg-sky-600 text-white rounded-full shadow-lg","aria-label":o?"Chiudi menu":"Apri menu",children:o?p.jsx(Ic,{className:"w-6 h-6"}):p.jsx(nS,{className:"w-6 h-6"})}),N()]})]})},pm=document.getElementById("root");pm?ha.createRoot(pm).render(p.jsx(wP,{})):console.error("Root container not found. The React app can't be mounted.");
